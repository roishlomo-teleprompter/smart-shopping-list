(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function sw(){if(av)return Pl;av=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var ov;function aw(){return ov||(ov=1,Lm.exports=sw()),Lm.exports}var tt=aw(),Vm={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function ow(){if(lv)return bt;lv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,M={};function et(C,G,it){this.props=C,this.context=G,this.refs=M,this.updater=it||V}et.prototype.isReactComponent={},et.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},et.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function st(){}st.prototype=et.prototype;function W(C,G,it){this.props=C,this.context=G,this.refs=M,this.updater=it||V}var ft=W.prototype=new st;ft.constructor=W,z(ft,et.prototype),ft.isPureReactComponent=!0;var St=Array.isArray;function yt(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(C,G,it){var lt=it.ref;return{$$typeof:i,type:C,key:G,ref:lt!==void 0?lt:null,props:it}}function L(C,G){return w(C.type,G,C.props)}function U(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function k(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return G[it]})}var N=/\/+/g;function pe(C,G){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):G.toString(36)}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(yt,yt):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Q(C,G,it,lt,mt){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var Ot=!1;if(C===null)Ot=!0;else switch(Tt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(C.$$typeof){case i:case t:Ot=!0;break;case v:return Ot=C._init,Q(Ot(C._payload),G,it,lt,mt)}}if(Ot)return mt=mt(C),Ot=lt===""?"."+pe(C,0):lt,St(mt)?(it="",Ot!=null&&(it=Ot.replace(N,"$&/")+"/"),Q(mt,G,it,"",function(ci){return ci})):mt!=null&&(U(mt)&&(mt=L(mt,it+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+Ot)),G.push(mt)),1;Ot=0;var se=lt===""?".":lt+":";if(St(C))for(var Ht=0;Ht<C.length;Ht++)lt=C[Ht],Tt=se+pe(lt,Ht),Ot+=Q(lt,G,it,Tt,mt);else if(Ht=b(C),typeof Ht=="function")for(C=Ht.call(C),Ht=0;!(lt=C.next()).done;)lt=lt.value,Tt=se+pe(lt,Ht++),Ot+=Q(lt,G,it,Tt,mt);else if(Tt==="object"){if(typeof C.then=="function")return Q(Oe(C),G,it,lt,mt);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function ot(C,G,it){if(C==null)return C;var lt=[],mt=0;return Q(C,lt,"","",function(Tt){return G.call(it,Tt,mt++)}),lt}function pt(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var Bt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},rt={map:ot,forEach:function(C,G,it){ot(C,function(){G.apply(this,arguments)},it)},count:function(C){var G=0;return ot(C,function(){G++}),G},toArray:function(C){return ot(C,function(G){return G})||[]},only:function(C){if(!U(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return bt.Activity=T,bt.Children=rt,bt.Component=et,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=W,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,bt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return D.H.useMemoCache(C)}},bt.cache=function(C){return function(){return C.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(C,G,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var lt=z({},C.props),mt=C.key;if(G!=null)for(Tt in G.key!==void 0&&(mt=""+G.key),G)!R.call(G,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&G.ref===void 0||(lt[Tt]=G[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=it;else if(1<Tt){for(var Ot=Array(Tt),se=0;se<Tt;se++)Ot[se]=arguments[se+2];lt.children=Ot}return w(C.type,mt,lt)},bt.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},bt.createElement=function(C,G,it){var lt,mt={},Tt=null;if(G!=null)for(lt in G.key!==void 0&&(Tt=""+G.key),G)R.call(G,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(mt[lt]=G[lt]);var Ot=arguments.length-2;if(Ot===1)mt.children=it;else if(1<Ot){for(var se=Array(Ot),Ht=0;Ht<Ot;Ht++)se[Ht]=arguments[Ht+2];mt.children=se}if(C&&C.defaultProps)for(lt in Ot=C.defaultProps,Ot)mt[lt]===void 0&&(mt[lt]=Ot[lt]);return w(C,Tt,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(C){return{$$typeof:m,render:C}},bt.isValidElement=U,bt.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:pt}},bt.memo=function(C,G){return{$$typeof:g,type:C,compare:G===void 0?null:G}},bt.startTransition=function(C){var G=D.T,it={};D.T=it;try{var lt=C(),mt=D.S;mt!==null&&mt(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(yt,Bt)}catch(Tt){Bt(Tt)}finally{G!==null&&it.types!==null&&(G.types=it.types),D.T=G}},bt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},bt.use=function(C){return D.H.use(C)},bt.useActionState=function(C,G,it){return D.H.useActionState(C,G,it)},bt.useCallback=function(C,G){return D.H.useCallback(C,G)},bt.useContext=function(C){return D.H.useContext(C)},bt.useDebugValue=function(){},bt.useDeferredValue=function(C,G){return D.H.useDeferredValue(C,G)},bt.useEffect=function(C,G){return D.H.useEffect(C,G)},bt.useEffectEvent=function(C){return D.H.useEffectEvent(C)},bt.useId=function(){return D.H.useId()},bt.useImperativeHandle=function(C,G,it){return D.H.useImperativeHandle(C,G,it)},bt.useInsertionEffect=function(C,G){return D.H.useInsertionEffect(C,G)},bt.useLayoutEffect=function(C,G){return D.H.useLayoutEffect(C,G)},bt.useMemo=function(C,G){return D.H.useMemo(C,G)},bt.useOptimistic=function(C,G){return D.H.useOptimistic(C,G)},bt.useReducer=function(C,G,it){return D.H.useReducer(C,G,it)},bt.useRef=function(C){return D.H.useRef(C)},bt.useState=function(C){return D.H.useState(C)},bt.useSyncExternalStore=function(C,G,it){return D.H.useSyncExternalStore(C,G,it)},bt.useTransition=function(){return D.H.useTransition()},bt.version="19.2.3",bt}var uv;function Bp(){return uv||(uv=1,Vm.exports=ow()),Vm.exports}var q=Bp();const lw=rw(q);var Um={exports:{}},kl={},Pm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function uw(){return cv||(cv=1,(function(i){function t(Q,ot){var pt=Q.length;Q.push(ot);t:for(;0<pt;){var Bt=pt-1>>>1,rt=Q[Bt];if(0<o(rt,ot))Q[Bt]=ot,Q[pt]=rt,pt=Bt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ot=Q[0],pt=Q.pop();if(pt!==ot){Q[0]=pt;t:for(var Bt=0,rt=Q.length,C=rt>>>1;Bt<C;){var G=2*(Bt+1)-1,it=Q[G],lt=G+1,mt=Q[lt];if(0>o(it,pt))lt<rt&&0>o(mt,it)?(Q[Bt]=mt,Q[lt]=pt,Bt=lt):(Q[Bt]=it,Q[G]=pt,Bt=G);else if(lt<rt&&0>o(mt,pt))Q[Bt]=mt,Q[lt]=pt,Bt=lt;else break t}}return ot}function o(Q,ot){var pt=Q.sortIndex-ot.sortIndex;return pt!==0?pt:Q.id-ot.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,S=3,b=!1,V=!1,z=!1,M=!1,et=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ft(Q){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=Q)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function St(Q){if(z=!1,ft(Q),!V)if(n(p)!==null)V=!0,yt||(yt=!0,k());else{var ot=n(g);ot!==null&&Oe(St,ot.startTime-Q)}}var yt=!1,D=-1,R=5,w=-1;function L(){return M?!0:!(i.unstable_now()-w<R)}function U(){if(M=!1,yt){var Q=i.unstable_now();w=Q;var ot=!0;try{t:{V=!1,z&&(z=!1,st(D),D=-1),b=!0;var pt=S;try{e:{for(ft(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&L());){var Bt=T.callback;if(typeof Bt=="function"){T.callback=null,S=T.priorityLevel;var rt=Bt(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof rt=="function"){T.callback=rt,ft(Q),ot=!0;break e}T===n(p)&&s(p),ft(Q)}else s(p);T=n(p)}if(T!==null)ot=!0;else{var C=n(g);C!==null&&Oe(St,C.startTime-Q),ot=!1}}break t}finally{T=null,S=pt,b=!1}ot=void 0}}finally{ot?k():yt=!1}}}var k;if(typeof W=="function")k=function(){W(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,pe=N.port2;N.port1.onmessage=U,k=function(){pe.postMessage(null)}}else k=function(){et(U,0)};function Oe(Q,ot){D=et(function(){Q(i.unstable_now())},ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var pt=S;S=ot;try{return Q()}finally{S=pt}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pt=S;S=Q;try{return ot()}finally{S=pt}},i.unstable_scheduleCallback=function(Q,ot,pt){var Bt=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Bt+pt:Bt):pt=Bt,Q){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=pt+rt,Q={id:v++,callback:ot,priorityLevel:Q,startTime:pt,expirationTime:rt,sortIndex:-1},pt>Bt?(Q.sortIndex=pt,t(g,Q),n(p)===null&&Q===n(g)&&(z?(st(D),D=-1):z=!0,Oe(St,pt-Bt))):(Q.sortIndex=rt,t(p,Q),V||b||(V=!0,yt||(yt=!0,k()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var ot=S;return function(){var pt=S;S=ot;try{return Q.apply(this,arguments)}finally{S=pt}}}})(km)),km}var hv;function cw(){return hv||(hv=1,Pm.exports=uw()),Pm.exports}var Bm={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function hw(){if(fv)return Ze;fv=1;var i=Bp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ze.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Ze.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var dv;function fw(){if(dv)return Bm.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bm.exports=hw(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function dw(){if(mv)return kl;mv=1;var i=cw(),t=Bp(),n=fw();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,A=f.child;A;){if(A===a){y=!0,a=f,l=d;break}if(A===l){y=!0,l=f,a=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===a){y=!0,a=d,l=f;break}if(A===l){y=!0,l=d,a=f;break}A=A.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case et:return"Profiler";case M:return"StrictMode";case St:return"Suspense";case yt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case W:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case ft:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return r=e.displayName||null,r!==null?r:pe(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return pe(e(r))}catch{}}return null}var Oe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Bt=[],rt=-1;function C(e){return{current:e}}function G(e){0>rt||(e.current=Bt[rt],Bt[rt]=null,rt--)}function it(e,r){rt++,Bt[rt]=e.current,e.current=r}var lt=C(null),mt=C(null),Tt=C(null),Ot=C(null);function se(e,r){switch(it(Tt,r),it(mt,e),it(lt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?OE(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=OE(r),e=NE(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(lt),it(lt,e)}function Ht(){G(lt),G(mt),G(Tt)}function ci(e){e.memoizedState!==null&&it(Ot,e);var r=lt.current,a=NE(r,e.type);r!==a&&(it(mt,e),it(lt,a))}function Ni(e){mt.current===e&&(G(lt),G(mt)),Ot.current===e&&(G(Ot),xl._currentValue=pt)}var ws,_a;function ti(e){if(ws===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ws=r&&r[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+e+_a}var Cs=!1;function ya(e,r){if(!e||Cs)return"";Cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var F=Y}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Y){F=Y}e.call(Z.prototype)}}else{try{throw Error()}catch(Y){F=Y}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var O=y.split(`
`),H=A.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===H.length)for(l=O.length-1,f=H.length-1;1<=l&&0<=f&&O[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==H[f]){var $=`
`+O[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Cs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function Df(e,r){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==r&&r!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ya(e.type,!1);case 11:return ya(e.type.render,!1);case 1:return ya(e.type,!0);case 31:return ti("Activity");default:return""}}function bu(e){try{var r="",a=null;do r+=Df(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ea=Object.prototype.hasOwnProperty,Os=i.unstable_scheduleCallback,va=i.unstable_cancelCallback,Mf=i.unstable_shouldYield,Uo=i.unstable_requestPaint,ze=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,Ne=i.unstable_ImmediatePriority,xe=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Cu=i.unstable_LowPriority,Po=i.unstable_IdlePriority,xf=i.log,Ns=i.unstable_setDisableYieldValue,pr=null,Je=null;function Pn(e){if(typeof xf=="function"&&Ns(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(pr,e)}catch{}}var sn=Math.clz32?Math.clz32:Ou,Lf=Math.log,ko=Math.LN2;function Ou(e){return e>>>=0,e===0?32:31-(Lf(e)/ko|0)|0}var Ds=256,hi=262144,gr=4194304;function ei(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kn(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=ei(l):(y&=A,y!==0?f=ei(y):a||(a=A&~e,a!==0&&(f=ei(a))))):(A=l&~d,A!==0?f=ei(A):y!==0?f=ei(y):a||(a=l&~e,a!==0&&(f=ei(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function _r(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Ta(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),e}function Mi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function yr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,r,a,l,f,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,O=e.expirationTimes,H=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-sn(a),Z=1<<$;A[$]=0,O[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&zo(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~r))}function zo(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-sn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Er(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-sn(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function vr(e,r){var a=r&-r;return a=(a&42)!==0?1:jo(a),(a&(e.suspendedLanes|r))!==0?0:a}function jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:ZE(e.type))}function Nu(e,r){var a=ot.p;try{return ot.p=e,r()}finally{ot.p=a}}var fi=Math.random().toString(36).slice(2),ce="__reactFiber$"+fi,He="__reactProps$"+fi,di="__reactContainer$"+fi,Tr="__reactEvents$"+fi,mi="__reactListeners$"+fi,Du="__reactHandles$"+fi,Fo="__reactResources$"+fi,Li="__reactMarker$"+fi;function Ms(e){delete e[ce],delete e[He],delete e[Tr],delete e[mi],delete e[Du]}function Vi(e){var r=e[ce];if(r)return r;for(var a=e.parentNode;a;){if(r=a[di]||a[ce]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=PE(e);e!==null;){if(a=e[ce])return a;e=PE(e)}return r}e=a,a=e.parentNode}return null}function Ui(e){if(e=e[ce]||e[di]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function xs(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function ni(e){var r=e[Fo];return r||(r=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(e){e[Li]=!0}var Aa=new Set,Ar={};function an(e,r){pi(e,r),pi(e+"Capture",r)}function pi(e,r){for(Ar[e]=r,e=0;e<r.length;e++)Aa.add(r[e])}var Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},qo={};function Mu(e){return Ea.call(qo,e)?!0:Ea.call(Go,e)?!1:Vf.test(e)?qo[e]=!0:(Go[e]=!0,!1)}function Sr(e,r,a){if(Mu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ir(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Bn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Uf(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Sa(e){if(!e._valueTracker){var r=xu(e)?"checked":"value";e._valueTracker=Uf(e,r,""+e[r])}}function Yo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=xu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pi=/[\n"\\]/g;function he(e){return e.replace(Pi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rr(e,r,a,l,f,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),r!=null?y==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+on(r)):e.value!==""+on(r)&&(e.value=""+on(r)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),r!=null?Ra(e,y,on(r)):a!=null?Ra(e,y,on(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+on(A):e.removeAttribute("name")}function Ls(e,r,a,l,f,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Sa(e);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Sa(e)}function Ra(e,r,a){r==="number"&&Ia(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ft(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Vs(e,r,a){if(r!=null&&(r=""+on(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+on(a):""}function br(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Sa(e)}function zn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Pf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Lu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Ko(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Ko(e,d,r[d])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(e){return Bf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Le(){}var ba=null;function wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,In=null;function Vu(e){var r=Ui(e);if(r&&(e=r.stateNode)){var a=e[He]||null;t:switch(e=r.stateNode,r.type){case"input":if(Rr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+he(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[He]||null;if(!f)throw Error(s(90));Rr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Yo(l)}break t;case"textarea":Vs(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ft(e,!!a.multiple,r,!1)}}}var $o=!1;function Uu(e,r,a){if($o)return e(r,a);$o=!0;try{var l=e(r);return l}finally{if($o=!1,(ki!==null||In!==null)&&(Mc(),ki&&(r=ki,e=In,In=ki=null,Vu(r),e)))for(r=0;r<e.length;r++)Vu(e[r])}}function pn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(ii)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Xo=!1}var Rn=null,Ca=null,yi=null;function wr(){if(yi)return yi;var e,r=Ca,a=r.length,l,f="value"in Rn?Rn.value:Rn.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===f[d-l];l++);return yi=f.slice(e,1<l?1-l:void 0)}function Us(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function ee(){return!1}function We(e){function r(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Cr:ee,this.isPropagationStopped=ee,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),r}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=We(Bi),Or=T({},Bi,{view:0,detail:0}),Pu=We(Or),Nr,Oa,ln,ks=T({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&e.type==="mousemove"?(Nr=e.screenX-ln.screenX,Oa=e.screenY-ln.screenY):Oa=Nr=0,ln=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),ku=We(ks),Bs=T({},ks,{dataTransfer:0}),Bu=We(Bs),Jo=T({},Or,{relatedTarget:0}),Dr=We(Jo),zu=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=We(zu),zf=T({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ju=We(zf),zs=T({},Bi,{data:0}),Wo=We(zs),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=tl[e])?!!r[e]:!1}function Mr(){return Fu}var Gu=T({},Or,{key:function(e){if(e.key){var r=Hu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qu=We(Gu),zi=T({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=We(zi),Yu=T({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Ku=We(Yu),Qu=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=We(Qu),un=T({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$u=We(un),Xu=T({},Bi,{newState:0,oldState:0}),xr=We(Xu),c=[9,13,27,32],_=ii&&"CompositionEvent"in window,E=null;ii&&"documentMode"in document&&(E=document.documentMode);var I=ii&&"TextEvent"in window&&!E,B=ii&&(!_||E&&8<E&&11>=E),K=" ",at=!1;function Kt(e,r){switch(e){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nt=!1;function Ve(e,r){switch(e){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(at=!0,K);case"textInput":return e=r.data,e===K&&at?null:e;default:return null}}function Ue(e,r){if(Nt)return e==="compositionend"||!_&&Kt(e,r)?(e=wr(),yi=Ca=Rn=null,Nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B&&r.locale!=="ko"?null:r.data;default:return null}}var Lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Lr[e.type]:r==="textarea"}function js(e,r,a,l){ki?In?In.push(l):In=[l]:ki=l,r=Bc(r,"onChange"),0<r.length&&(a=new Ps("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var ji=null,nl=null;function DR(e){SE(e,0)}function Ju(e){var r=xs(e);if(Yo(r))return e}function Hg(e,r){if(e==="change")return r}var Fg=!1;if(ii){var jf;if(ii){var Hf="oninput"in document;if(!Hf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Hf=typeof Gg.oninput=="function"}jf=Hf}else jf=!1;Fg=jf&&(!document.documentMode||9<document.documentMode)}function qg(){ji&&(ji.detachEvent("onpropertychange",Yg),nl=ji=null)}function Yg(e){if(e.propertyName==="value"&&Ju(nl)){var r=[];js(r,nl,e,wa(e)),Uu(DR,r)}}function MR(e,r,a){e==="focusin"?(qg(),ji=r,nl=a,ji.attachEvent("onpropertychange",Yg)):e==="focusout"&&qg()}function xR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(nl)}function LR(e,r){if(e==="click")return Ju(r)}function VR(e,r){if(e==="input"||e==="change")return Ju(r)}function UR(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var bn=typeof Object.is=="function"?Object.is:UR;function il(e,r){if(bn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ea.call(r,f)||!bn(e[f],r[f]))return!1}return!0}function Kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,r){var a=Kg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Kg(a)}}function $g(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?$g(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ia(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ia(e.document)}return r}function Ff(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var PR=ii&&"documentMode"in document&&11>=document.documentMode,Ma=null,Gf=null,rl=null,qf=!1;function Jg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qf||Ma==null||Ma!==Ia(l)||(l=Ma,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Bc(Gf,"onSelect"),0<l.length&&(r=new Ps("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Ma)))}function Hs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var xa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Yf={},Wg={};ii&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Fs(e){if(Yf[e])return Yf[e];if(!xa[e])return e;var r=xa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return Yf[e]=r[a];return e}var Zg=Fs("animationend"),t_=Fs("animationiteration"),e_=Fs("animationstart"),kR=Fs("transitionrun"),BR=Fs("transitionstart"),zR=Fs("transitioncancel"),n_=Fs("transitionend"),i_=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function ri(e,r){i_.set(e,r),an(r,[e])}var Wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],La=0,Qf=0;function Zu(){for(var e=La,r=Qf=La=0;r<e;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var d=jn[r];if(jn[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&r_(a,f,d)}}function tc(e,r,a,l){jn[La++]=e,jn[La++]=r,jn[La++]=a,jn[La++]=l,Qf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $f(e,r,a,l){return tc(e,r,a,l),ec(e)}function Gs(e,r){return tc(e,null,null,r),ec(e)}function r_(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-sn(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ec(e){if(50<bl)throw bl=0,rm=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Va={};function jR(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,r,a,l){return new jR(e,r,a,l)}function Xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,r){var a=e.alternate;return a===null?(a=wn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function s_(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function nc(e,r,a,l,f,d){var y=0;if(l=e,typeof e=="function")Xf(e)&&(y=1);else if(typeof e=="string")y=Yb(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=wn(31,a,r,f),e.elementType=w,e.lanes=d,e;case z:return qs(a.children,f,d,r);case M:y=8,f|=24;break;case et:return e=wn(12,a,r,f|2),e.elementType=et,e.lanes=d,e;case St:return e=wn(13,a,r,f),e.elementType=St,e.lanes=d,e;case yt:return e=wn(19,a,r,f),e.elementType=yt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:y=10;break t;case st:y=9;break t;case ft:y=11;break t;case D:y=14;break t;case R:y=16,l=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=wn(y,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function qs(e,r,a,l){return e=wn(7,e,l,r),e.lanes=a,e}function Jf(e,r,a){return e=wn(6,e,null,r),e.lanes=a,e}function a_(e){var r=wn(18,null,null,0);return r.stateNode=e,r}function Wf(e,r,a){return r=wn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var o_=new WeakMap;function Hn(e,r){if(typeof e=="object"&&e!==null){var a=o_.get(e);return a!==void 0?a:(r={value:e,source:r,stack:bu(r)},o_.set(e,r),r)}return{value:e,source:r,stack:bu(r)}}var Ua=[],Pa=0,ic=null,sl=0,Fn=[],Gn=0,Vr=null,Ei=1,vi="";function Fi(e,r){Ua[Pa++]=sl,Ua[Pa++]=ic,ic=e,sl=r}function l_(e,r,a){Fn[Gn++]=Ei,Fn[Gn++]=vi,Fn[Gn++]=Vr,Vr=e;var l=Ei;e=vi;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var d=32-sn(r)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Ei=1<<32-sn(r)+f|a<<f|l,vi=d+e}else Ei=1<<d|a<<f|l,vi=e}function Zf(e){e.return!==null&&(Fi(e,1),l_(e,1,0))}function td(e){for(;e===ic;)ic=Ua[--Pa],Ua[Pa]=null,sl=Ua[--Pa],Ua[Pa]=null;for(;e===Vr;)Vr=Fn[--Gn],Fn[Gn]=null,vi=Fn[--Gn],Fn[Gn]=null,Ei=Fn[--Gn],Fn[Gn]=null}function u_(e,r){Fn[Gn++]=Ei,Fn[Gn++]=vi,Fn[Gn++]=Vr,Ei=r.id,vi=r.overflow,Vr=e}var Fe=null,ne=null,kt=!1,Ur=null,qn=!1,ed=Error(s(519));function Pr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Hn(r,e)),ed}function c_(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[ce]=e,r[He]=l,a){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)xt(Cl[a],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":xt("invalid",r),Ls(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",r);break;case"textarea":xt("invalid",r),br(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||wE(r.textContent,a)?(l.popover!=null&&(xt("beforetoggle",r),xt("toggle",r)),l.onScroll!=null&&xt("scroll",r),l.onScrollEnd!=null&&xt("scrollend",r),l.onClick!=null&&(r.onclick=Le),r=!0):r=!1,r||Pr(e,!0)}function h_(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Fe=Fe.return}}function ka(e){if(e!==Fe)return!1;if(!kt)return h_(e),kt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Em(e.type,e.memoizedProps)),a=!a),a&&ne&&Pr(e),h_(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=UE(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=UE(e)}else r===27?(r=ne,Jr(e.type)?(e=Im,Im=null,ne=e):ne=r):ne=Fe?Kn(e.stateNode.nextSibling):null;return!0}function Ys(){ne=Fe=null,kt=!1}function nd(){var e=Ur;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Ur=null),e}function al(e){Ur===null?Ur=[e]:Ur.push(e)}var id=C(null),Ks=null,Gi=null;function kr(e,r,a){it(id,r._currentValue),r._currentValue=a}function qi(e){e._currentValue=id.current,G(id)}function rd(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function sd(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var O=0;O<r.length;O++)if(A.context===r[O]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),rd(d.return,a,e),l||(y=null);break t}d=A.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),rd(y,a,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ba(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=f.type;bn(f.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(f===Ot.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}f=f.return}e!==null&&sd(r,e,a,l),r.flags|=262144}function rc(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qs(e){Ks=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return f_(Ks,e)}function sc(e,r){return Ks===null&&Qs(e),f_(e,r)}function f_(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Gi=Gi.next=r;return a}var HR=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},FR=i.unstable_scheduleCallback,GR=i.unstable_NormalPriority,Te={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new HR,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&FR(GR,function(){e.controller.abort()})}var ll=null,od=0,za=0,ja=null;function qR(e,r){if(ll===null){var a=ll=[];od=0,za=cm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,r.then(d_,d_),r}function d_(){if(--od===0&&ll!==null){ja!==null&&(ja.status="fulfilled");var e=ll;ll=null,za=0,ja=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function YR(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var m_=Q.S;Q.S=function(e,r){Jy=ze(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qR(e,r),m_!==null&&m_(e,r)};var $s=C(null);function ld(){var e=$s.current;return e!==null?e:te.pooledCache}function ac(e,r){r===null?it($s,$s.current):it($s,r.pool)}function p_(){var e=ld();return e===null?null:{parent:Te._currentValue,pool:e}}var Ha=Error(s(460)),ud=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function g_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function __(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Le,Le),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,E_(e),e;default:if(typeof r.status=="string")r.then(Le,Le);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,E_(e),e}throw Js=r,Ha}}function Xs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Js=a,Ha):a}}var Js=null;function y_(){if(Js===null)throw Error(s(459));var e=Js;return Js=null,e}function E_(e){if(e===Ha||e===oc)throw Error(s(483))}var Fa=null,ul=0;function uc(e){var r=ul;return ul+=1,Fa===null&&(Fa=[]),__(Fa,e,r)}function cl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function cc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function v_(e){function r(P,x){if(e){var j=P.deletions;j===null?(P.deletions=[x],P.flags|=16):j.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)r(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function f(P,x){return P=Hi(P,x),P.index=0,P.sibling=null,P}function d(P,x,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<x?(P.flags|=67108866,x):j):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,x,j,X){return x===null||x.tag!==6?(x=Jf(j,P.mode,X),x.return=P,x):(x=f(x,j),x.return=P,x)}function O(P,x,j,X){var _t=j.type;return _t===z?$(P,x,j.props.children,X,j.key):x!==null&&(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Xs(_t)===x.type)?(x=f(x,j.props),cl(x,j),x.return=P,x):(x=nc(j.type,j.key,j.props,null,P.mode,X),cl(x,j),x.return=P,x)}function H(P,x,j,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Wf(j,P.mode,X),x.return=P,x):(x=f(x,j.children||[]),x.return=P,x)}function $(P,x,j,X,_t){return x===null||x.tag!==7?(x=qs(j,P.mode,X,_t),x.return=P,x):(x=f(x,j),x.return=P,x)}function Z(P,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Jf(""+x,P.mode,j),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return j=nc(x.type,x.key,x.props,null,P.mode,j),cl(j,x),j.return=P,j;case V:return x=Wf(x,P.mode,j),x.return=P,x;case R:return x=Xs(x),Z(P,x,j)}if(Oe(x)||k(x))return x=qs(x,P.mode,j,null),x.return=P,x;if(typeof x.then=="function")return Z(P,uc(x),j);if(x.$$typeof===W)return Z(P,sc(P,x),j);cc(P,x)}return null}function F(P,x,j,X){var _t=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _t!==null?null:A(P,x,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===_t?O(P,x,j,X):null;case V:return j.key===_t?H(P,x,j,X):null;case R:return j=Xs(j),F(P,x,j,X)}if(Oe(j)||k(j))return _t!==null?null:$(P,x,j,X,null);if(typeof j.then=="function")return F(P,x,uc(j),X);if(j.$$typeof===W)return F(P,x,sc(P,j),X);cc(P,j)}return null}function Y(P,x,j,X,_t){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(j)||null,A(x,P,""+X,_t);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return P=P.get(X.key===null?j:X.key)||null,O(x,P,X,_t);case V:return P=P.get(X.key===null?j:X.key)||null,H(x,P,X,_t);case R:return X=Xs(X),Y(P,x,j,X,_t)}if(Oe(X)||k(X))return P=P.get(j)||null,$(x,P,X,_t,null);if(typeof X.then=="function")return Y(P,x,j,uc(X),_t);if(X.$$typeof===W)return Y(P,x,j,sc(x,X),_t);cc(x,X)}return null}function ht(P,x,j,X){for(var _t=null,Gt=null,dt=x,Ct=x=0,Vt=null;dt!==null&&Ct<j.length;Ct++){dt.index>Ct?(Vt=dt,dt=null):Vt=dt.sibling;var qt=F(P,dt,j[Ct],X);if(qt===null){dt===null&&(dt=Vt);break}e&&dt&&qt.alternate===null&&r(P,dt),x=d(qt,x,Ct),Gt===null?_t=qt:Gt.sibling=qt,Gt=qt,dt=Vt}if(Ct===j.length)return a(P,dt),kt&&Fi(P,Ct),_t;if(dt===null){for(;Ct<j.length;Ct++)dt=Z(P,j[Ct],X),dt!==null&&(x=d(dt,x,Ct),Gt===null?_t=dt:Gt.sibling=dt,Gt=dt);return kt&&Fi(P,Ct),_t}for(dt=l(dt);Ct<j.length;Ct++)Vt=Y(dt,P,Ct,j[Ct],X),Vt!==null&&(e&&Vt.alternate!==null&&dt.delete(Vt.key===null?Ct:Vt.key),x=d(Vt,x,Ct),Gt===null?_t=Vt:Gt.sibling=Vt,Gt=Vt);return e&&dt.forEach(function(ns){return r(P,ns)}),kt&&Fi(P,Ct),_t}function vt(P,x,j,X){if(j==null)throw Error(s(151));for(var _t=null,Gt=null,dt=x,Ct=x=0,Vt=null,qt=j.next();dt!==null&&!qt.done;Ct++,qt=j.next()){dt.index>Ct?(Vt=dt,dt=null):Vt=dt.sibling;var ns=F(P,dt,qt.value,X);if(ns===null){dt===null&&(dt=Vt);break}e&&dt&&ns.alternate===null&&r(P,dt),x=d(ns,x,Ct),Gt===null?_t=ns:Gt.sibling=ns,Gt=ns,dt=Vt}if(qt.done)return a(P,dt),kt&&Fi(P,Ct),_t;if(dt===null){for(;!qt.done;Ct++,qt=j.next())qt=Z(P,qt.value,X),qt!==null&&(x=d(qt,x,Ct),Gt===null?_t=qt:Gt.sibling=qt,Gt=qt);return kt&&Fi(P,Ct),_t}for(dt=l(dt);!qt.done;Ct++,qt=j.next())qt=Y(dt,P,Ct,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?Ct:qt.key),x=d(qt,x,Ct),Gt===null?_t=qt:Gt.sibling=qt,Gt=qt);return e&&dt.forEach(function(iw){return r(P,iw)}),kt&&Fi(P,Ct),_t}function Wt(P,x,j,X){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var _t=j.key;x!==null;){if(x.key===_t){if(_t=j.type,_t===z){if(x.tag===7){a(P,x.sibling),X=f(x,j.props.children),X.return=P,P=X;break t}}else if(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Xs(_t)===x.type){a(P,x.sibling),X=f(x,j.props),cl(X,j),X.return=P,P=X;break t}a(P,x);break}else r(P,x);x=x.sibling}j.type===z?(X=qs(j.props.children,P.mode,X,j.key),X.return=P,P=X):(X=nc(j.type,j.key,j.props,null,P.mode,X),cl(X,j),X.return=P,P=X)}return y(P);case V:t:{for(_t=j.key;x!==null;){if(x.key===_t)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){a(P,x.sibling),X=f(x,j.children||[]),X.return=P,P=X;break t}else{a(P,x);break}else r(P,x);x=x.sibling}X=Wf(j,P.mode,X),X.return=P,P=X}return y(P);case R:return j=Xs(j),Wt(P,x,j,X)}if(Oe(j))return ht(P,x,j,X);if(k(j)){if(_t=k(j),typeof _t!="function")throw Error(s(150));return j=_t.call(j),vt(P,x,j,X)}if(typeof j.then=="function")return Wt(P,x,uc(j),X);if(j.$$typeof===W)return Wt(P,x,sc(P,j),X);cc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(a(P,x.sibling),X=f(x,j),X.return=P,P=X):(a(P,x),X=Jf(j,P.mode,X),X.return=P,P=X),y(P)):a(P,x)}return function(P,x,j,X){try{ul=0;var _t=Wt(P,x,j,X);return Fa=null,_t}catch(dt){if(dt===Ha||dt===oc)throw dt;var Gt=wn(29,dt,null,P.mode);return Gt.lanes=X,Gt.return=P,Gt}finally{}}}var Ws=v_(!0),T_=v_(!1),Br=!1;function cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(e),r_(e,null,a),r}return tc(e,l,r,a),ec(e)}function hl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Er(e,a)}}function fd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var dd=!1;function fl(){if(dd){var e=ja;if(e!==null)throw e}}function dl(e,r,a,l){dd=!1;var f=e.updateQueue;Br=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,H=O.next;O.next=null,y===null?d=H:y.next=H,y=O;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==y&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=O))}if(d!==null){var Z=f.baseState;y=0,$=H=O=null,A=d;do{var F=A.lane&-536870913,Y=F!==A.lane;if(Y?(Lt&F)===F:(l&F)===F){F!==0&&F===za&&(dd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ht=e,vt=A;F=r;var Wt=a;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){Z=ht.call(Wt,Z,F);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,F=typeof ht=="function"?ht.call(Wt,Z,F):ht,F==null)break t;Z=T({},Z,F);break t;case 2:Br=!0}}F=A.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=Y,O=Z):$=$.next=Y,y|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(O=Z),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Yr|=y,e.lanes=y,e.memoizedState=Z}}function A_(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function S_(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)A_(a[e],r)}var Ga=C(null),hc=C(0);function I_(e,r){e=tr,it(hc,e),it(Ga,r),tr=e|r.baseLanes}function md(){it(hc,tr),it(Ga,Ga.current)}function pd(){tr=hc.current,G(Ga),G(hc)}var Cn=C(null),Yn=null;function Hr(e){var r=e.alternate;it(_e,_e.current&1),it(Cn,e),Yn===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(Yn=e)}function gd(e){it(_e,_e.current),it(Cn,e),Yn===null&&(Yn=e)}function R_(e){e.tag===22?(it(_e,_e.current),it(Cn,e),Yn===null&&(Yn=e)):Fr()}function Fr(){it(_e,_e.current),it(Cn,Cn.current)}function On(e){G(Cn),Yn===e&&(Yn=null),G(_e)}var _e=C(0);function fc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||Sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yi=0,wt=null,Xt=null,Ae=null,dc=!1,qa=!1,Zs=!1,mc=0,ml=0,Ya=null,KR=0;function fe(){throw Error(s(321))}function _d(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!bn(e[a],r[a]))return!1;return!0}function yd(e,r,a,l,f,d){return Yi=d,wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=e===null||e.memoizedState===null?ly:xd,Zs=!1,d=a(l,f),Zs=!1,qa&&(d=w_(r,a,l,f)),b_(e),d}function b_(e){Q.H=_l;var r=Xt!==null&&Xt.next!==null;if(Yi=0,Ae=Xt=wt=null,dc=!1,ml=0,Ya=null,r)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&rc(e)&&(Se=!0))}function w_(e,r,a,l){wt=e;var f=0;do{if(qa&&(Ya=null),ml=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Ae=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=uy,d=r(a,l)}while(qa);return d}function QR(){var e=Q.H,r=e.useState()[0];return r=typeof r.then=="function"?pl(r):r,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),r}function Ed(){var e=mc!==0;return mc=0,e}function vd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Td(e){if(dc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}dc=!1}Yi=0,Ae=Xt=wt=null,qa=!1,ml=mc=0,Ya=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ye(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var r=Ae===null?wt.memoizedState:Ae.next;if(r!==null)Ae=r,Xt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var r=ml;return ml+=1,Ya===null&&(Ya=[]),e=__(Ya,e,r),r=wt,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?ly:xd),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===W)return Ge(e)}throw Error(s(438,String(e)))}function Ad(e){var r=null,a=wt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pc(),wt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=L;return r.index++,a}function Ki(e,r){return typeof r=="function"?r(e):r}function _c(e){var r=ye();return Sd(r,Xt,e)}function Sd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=y=null,O=null,H=r,$=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Lt&Z)===Z:(Yi&Z)===Z){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===za&&($=!0);else if((Yi&F)===F){H=H.next,F===za&&($=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(A=O=Z,y=d):O=O.next=Z,wt.lanes|=F,Yr|=F;Z=H.action,Zs&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else F={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(A=O=F,y=d):O=O.next=F,wt.lanes|=Z,Yr|=Z;H=H.next}while(H!==null&&H!==r);if(O===null?y=d:O.next=A,!bn(d,e.memoizedState)&&(Se=!0,$&&(a=ja,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Id(e){var r=ye(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);bn(d,r.memoizedState)||(Se=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function C_(e,r,a){var l=wt,f=ye(),d=kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var y=!bn((Xt||f).memoizedState,a);if(y&&(f.memoizedState=a,Se=!0),f=f.queue,wd(D_.bind(null,l,f,e),[e]),f.getSnapshot!==r||y||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},N_.bind(null,l,f,a,r),null),te===null)throw Error(s(349));d||(Yi&127)!==0||O_(l,r,a)}return a}function O_(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=wt.updateQueue,r===null?(r=pc(),wt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function N_(e,r,a,l){r.value=a,r.getSnapshot=l,M_(r)&&x_(e)}function D_(e,r,a){return a(function(){M_(r)&&x_(e)})}function M_(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!bn(e,a)}catch{return!0}}function x_(e){var r=Gs(e,2);r!==null&&Tn(r,e,2)}function Rd(e){var r=cn();if(typeof e=="function"){var a=e;if(e=a(),Zs){Pn(!0);try{a()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},r}function L_(e,r,a,l){return e.baseState=a,Sd(e,Xt,typeof l=="function"?l:Ki)}function $R(e,r,a,l,f){if(vc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,V_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function V_(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=Q.T,y={};Q.T=y;try{var A=a(f,l),O=Q.S;O!==null&&O(y,A),U_(e,r,A)}catch(H){bd(e,r,H)}finally{d!==null&&y.types!==null&&(d.types=y.types),Q.T=d}}else try{d=a(f,l),U_(e,r,d)}catch(H){bd(e,r,H)}}function U_(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){P_(e,r,l)},function(l){return bd(e,r,l)}):P_(e,r,a)}function P_(e,r,a){r.status="fulfilled",r.value=a,k_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,V_(e,a)))}function bd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,k_(r),r=r.next;while(r!==l)}e.action=null}function k_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function B_(e,r){return r}function z_(e,r){if(kt){var a=te.formState;if(a!==null){t:{var l=wt;if(kt){if(ne){e:{for(var f=ne,d=qn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=Kn(f.nextSibling),l=f.data==="F!";break t}}Pr(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},a.queue=l,a=sy.bind(null,wt,l),l.dispatch=a,l=Rd(!1),d=Md.bind(null,wt,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=$R.bind(null,wt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function j_(e){var r=ye();return H_(r,Xt,e)}function H_(e,r,a){if(r=Sd(e,r,B_)[0],e=_c(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(y){throw y===Ha?oc:y}else l=r;r=ye();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(wt.flags|=2048,Ka(9,{destroy:void 0},XR.bind(null,f,a),null)),[l,d,e]}function XR(e,r){e.action=r}function F_(e){var r=ye(),a=Xt;if(a!==null)return H_(r,a,e);ye(),r=r.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ka(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=wt.updateQueue,r===null&&(r=pc(),wt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function G_(){return ye().memoizedState}function yc(e,r,a,l){var f=cn();wt.flags|=e,f.memoizedState=Ka(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ec(e,r,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;Xt!==null&&l!==null&&_d(l,Xt.memoizedState.deps)?f.memoizedState=Ka(r,d,a,l):(wt.flags|=e,f.memoizedState=Ka(1|r,d,a,l))}function q_(e,r){yc(8390656,8,e,r)}function wd(e,r){Ec(2048,8,e,r)}function JR(e){wt.flags|=4;var r=wt.updateQueue;if(r===null)r=pc(),wt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Y_(e){var r=ye().memoizedState;return JR({ref:r,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function K_(e,r){return Ec(4,2,e,r)}function Q_(e,r){return Ec(4,4,e,r)}function $_(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function X_(e,r,a){a=a!=null?a.concat([e]):null,Ec(4,4,$_.bind(null,r,e),a)}function Cd(){}function J_(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function W_(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=e(),Zs){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,r],l}function Od(e,r,a){return a===void 0||(Yi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=Zy(),wt.lanes|=e,Yr|=e,a)}function Z_(e,r,a,l){return bn(a,r)?a:Ga.current!==null?(e=Od(e,a,l),bn(e,r)||(Se=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Lt&261930)===0?(Se=!0,e.memoizedState=a):(e=Zy(),wt.lanes|=e,Yr|=e,r)}function ty(e,r,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var y=Q.T,A={};Q.T=A,Md(e,!1,r,a);try{var O=f(),H=Q.S;if(H!==null&&H(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=YR(O,l);gl(e,r,$,Mn(e))}else gl(e,r,l,Mn(e))}catch(Z){gl(e,r,{then:function(){},status:"rejected",reason:Z},Mn())}finally{ot.p=d,y!==null&&A.types!==null&&(y.types=A.types),Q.T=y}}function WR(){}function Nd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=ey(e).queue;ty(e,f,r,pt,a===null?WR:function(){return ny(e),a(l)})}function ey(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:pt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ny(e){var r=ey(e);r.next===null&&(r=e.alternate.memoizedState),gl(e,r.next.queue,{},Mn())}function Dd(){return Ge(xl)}function iy(){return ye().memoizedState}function ry(){return ye().memoizedState}function ZR(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();e=zr(a);var l=jr(r,e,a);l!==null&&(Tn(l,r,a),hl(l,r,a)),r={cache:ad()},e.payload=r;return}r=r.return}}function tb(e,r,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?ay(r,a):(a=$f(e,r,a,l),a!==null&&(Tn(a,e,l),oy(a,r,l)))}function sy(e,r,a){var l=Mn();gl(e,r,a,l)}function gl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))ay(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,A=d(y,a);if(f.hasEagerState=!0,f.eagerState=A,bn(A,y))return tc(e,r,f,0),te===null&&Zu(),!1}catch{}finally{}if(a=$f(e,r,f,l),a!==null)return Tn(a,e,l),oy(a,r,l),!0}return!1}function Md(e,r,a,l){if(l={lane:2,revertLane:cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(r)throw Error(s(479))}else r=$f(e,a,l,2),r!==null&&Tn(r,e,2)}function vc(e){var r=e.alternate;return e===wt||r!==null&&r===wt}function ay(e,r){qa=dc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function oy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Er(e,a)}}var _l={readContext:Ge,use:gc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};_l.useEffectEvent=fe;var ly={readContext:Ge,use:gc,useCallback:function(e,r){return cn().memoizedState=[e,r===void 0?null:r],e},useContext:Ge,useEffect:q_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,yc(4194308,4,$_.bind(null,r,e),a)},useLayoutEffect:function(e,r){return yc(4194308,4,e,r)},useInsertionEffect:function(e,r){yc(4,2,e,r)},useMemo:function(e,r){var a=cn();r=r===void 0?null:r;var l=e();if(Zs){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=cn();if(a!==void 0){var f=a(r);if(Zs){Pn(!0);try{a(r)}finally{Pn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=tb.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var r=cn();return e={current:e},r.memoizedState=e},useState:function(e){e=Rd(e);var r=e.queue,a=sy.bind(null,wt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Cd,useDeferredValue:function(e,r){var a=cn();return Od(a,e,r)},useTransition:function(){var e=Rd(!1);return e=ty.bind(null,wt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=wt,f=cn();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),te===null)throw Error(s(349));(Lt&127)!==0||O_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,q_(D_.bind(null,l,d,e),[e]),l.flags|=2048,Ka(9,{destroy:void 0},N_.bind(null,l,d,a,r),null),a},useId:function(){var e=cn(),r=te.identifierPrefix;if(kt){var a=vi,l=Ei;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=KR++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Dd,useFormState:z_,useActionState:z_,useOptimistic:function(e){var r=cn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Md.bind(null,wt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Ad,useCacheRefresh:function(){return cn().memoizedState=ZR.bind(null,wt)},useEffectEvent:function(e){var r=cn(),a={impl:e};return r.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xd={readContext:Ge,use:gc,useCallback:J_,useContext:Ge,useEffect:wd,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:W_,useReducer:_c,useRef:G_,useState:function(){return _c(Ki)},useDebugValue:Cd,useDeferredValue:function(e,r){var a=ye();return Z_(a,Xt.memoizedState,e,r)},useTransition:function(){var e=_c(Ki)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:C_,useId:iy,useHostTransitionStatus:Dd,useFormState:j_,useActionState:j_,useOptimistic:function(e,r){var a=ye();return L_(a,Xt,e,r)},useMemoCache:Ad,useCacheRefresh:ry};xd.useEffectEvent=Y_;var uy={readContext:Ge,use:gc,useCallback:J_,useContext:Ge,useEffect:wd,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:W_,useReducer:Id,useRef:G_,useState:function(){return Id(Ki)},useDebugValue:Cd,useDeferredValue:function(e,r){var a=ye();return Xt===null?Od(a,e,r):Z_(a,Xt.memoizedState,e,r)},useTransition:function(){var e=Id(Ki)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:C_,useId:iy,useHostTransitionStatus:Dd,useFormState:F_,useActionState:F_,useOptimistic:function(e,r){var a=ye();return Xt!==null?L_(a,Xt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:ry};uy.useEffectEvent=Y_;function Ld(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Mn(),f=zr(l);f.payload=r,a!=null&&(f.callback=a),r=jr(e,f,l),r!==null&&(Tn(r,e,l),hl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Mn(),f=zr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=jr(e,f,l),r!==null&&(Tn(r,e,l),hl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Mn(),l=zr(a);l.tag=2,r!=null&&(l.callback=r),r=jr(e,l,a),r!==null&&(Tn(r,e,a),hl(r,e,a))}};function cy(e,r,a,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):r.prototype&&r.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function hy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Vd.enqueueReplaceState(r,r.state,null)}function ta(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function fy(e){Wu(e)}function dy(e){console.error(e)}function my(e){Wu(e)}function Tc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(e,r,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,r)},a}function gy(e){return e=zr(e),e.tag=3,e}function _y(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){py(r,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){py(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function eb(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ba(r,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?xc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),om(e,l,f)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),om(e,l,f)),!1}throw Error(s(435,a.tag))}return om(e,l,f),xc(),!1}if(kt)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ed&&(e=Error(s(422),{cause:l}),al(Hn(e,a)))):(l!==ed&&(r=Error(s(423),{cause:l}),al(Hn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Hn(l,a),f=Ud(e.stateNode,l,f),fd(e,f),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),Rl===null?Rl=[d]:Rl.push(d),de!==4&&(de=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Ud(a.stateNode,l,e),fd(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=gy(f),_y(f,e,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var Pd=Error(s(461)),Se=!1;function qe(e,r,a,l){r.child=e===null?T_(r,null,a,l):Ws(r,e.child,a,l)}function yy(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return Qs(r),l=yd(e,r,a,y,d,f),A=Ed(),e!==null&&!Se?(vd(e,r,f),Qi(e,r,f)):(kt&&A&&Zf(r),r.flags|=1,qe(e,r,l,f),r.child)}function Ey(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,vy(e,r,d,l,f)):(e=nc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!qd(e,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(y,l)&&e.ref===r.ref)return Qi(e,r,f)}return r.flags|=1,e=Hi(d,l),e.ref=r.ref,e.return=r,r.child=e}function vy(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===r.ref)if(Se=!1,r.pendingProps=l=d,qd(e,f))(e.flags&131072)!==0&&(Se=!0);else return r.lanes=e.lanes,Qi(e,r,f)}return kd(e,r,a,l,f)}function Ty(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Ay(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(r,d!==null?d.cachePool:null),d!==null?I_(r,d):md(),R_(r);else return l=r.lanes=536870912,Ay(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(r,d.cachePool),I_(r,d),Fr(),r.memoizedState=null):(e!==null&&ac(r,null),md(),Fr());return qe(e,r,f,a),r.child}function yl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ay(e,r,a,l,f){var d=ld();return d=d===null?null:{parent:Te._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&ac(r,null),md(),R_(r),e!==null&&Ba(e,r,l,!0),r.childLanes=f,null}function Ac(e,r){return r=Ic({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Sy(e,r,a){return Ws(r,e.child,null,a),e=Ac(r,r.pendingProps),e.flags|=2,On(r),r.memoizedState=null,e}function nb(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Ac(r,l),r.lanes=536870912,yl(null,e);if(gd(r),(e=ne)?(e=VE(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:Ei,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=a_(e),a.return=r,r.child=a,Fe=r,ne=null)):e=null,e===null)throw Pr(r);return r.lanes=536870912,null}return Ac(r,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(gd(r),f)if(r.flags&256)r.flags&=-257,r=Sy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Se||Ba(e,r,a,!1),f=(a&e.childLanes)!==0,Se||f){if(l=te,l!==null&&(y=vr(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Gs(e,y),Tn(l,e,y),Pd;xc(),r=Sy(e,r,a)}else e=d.treeContext,ne=Kn(y.nextSibling),Fe=r,kt=!0,Ur=null,qn=!1,e!==null&&u_(r,e),r=Ac(r,l),r.flags|=4096;return r}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Sc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function kd(e,r,a,l,f){return Qs(r),a=yd(e,r,a,l,void 0,f),l=Ed(),e!==null&&!Se?(vd(e,r,f),Qi(e,r,f)):(kt&&l&&Zf(r),r.flags|=1,qe(e,r,a,f),r.child)}function Iy(e,r,a,l,f,d){return Qs(r),r.updateQueue=null,a=w_(r,l,a,f),b_(e),l=Ed(),e!==null&&!Se?(vd(e,r,d),Qi(e,r,d)):(kt&&l&&Zf(r),r.flags|=1,qe(e,r,a,d),r.child)}function Ry(e,r,a,l,f){if(Qs(r),r.stateNode===null){var d=Va,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ge(y)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},cd(r),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ge(y):Va,d.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ld(r,a,y,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Vd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,O=ta(a,A);d.props=O;var H=d.context,$=a.contextType;y=Va,typeof $=="object"&&$!==null&&(y=Ge($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==y)&&hy(r,d,l,y),Br=!1;var F=r.memoizedState;d.state=F,dl(r,l,d,f),fl(),H=r.memoizedState,A||F!==H||Br?(typeof Z=="function"&&(Ld(r,a,Z,l),H=r.memoizedState),(O=Br||cy(r,a,O,l,F,H,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=y,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,hd(e,r),y=r.memoizedProps,$=ta(a,y),d.props=$,Z=r.pendingProps,F=d.context,H=a.contextType,O=Va,typeof H=="object"&&H!==null&&(O=Ge(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Z||F!==O)&&hy(r,d,l,O),Br=!1,F=r.memoizedState,d.state=F,dl(r,l,d,f),fl();var Y=r.memoizedState;y!==Z||F!==Y||Br||e!==null&&e.dependencies!==null&&rc(e.dependencies)?(typeof A=="function"&&(Ld(r,a,A,l),Y=r.memoizedState),($=Br||cy(r,a,$,l,F,Y,O)||e!==null&&e.dependencies!==null&&rc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ws(r,e.child,null,f),r.child=Ws(r,null,a,f)):qe(e,r,a,f),r.memoizedState=d.state,e=r.child):e=Qi(e,r,f),e}function by(e,r,a,l){return Ys(),r.flags|=256,qe(e,r,a,l),r.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(e){return{baseLanes:e,cachePool:p_()}}function jd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Dn),e}function wy(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,e===null){if(kt){if(f?Hr(r):Fr(),(e=ne)?(e=VE(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:Ei,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=a_(e),a.return=r,r.child=a,Fe=r,ne=null)):e=null,e===null)throw Pr(r);return Sm(e)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Fr(),f=r.mode,A=Ic({mode:"hidden",children:A},f),l=qs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=zd(a),l.childLanes=jd(e,y,a),r.memoizedState=Bd,yl(null,l)):(Hr(r),Hd(r,A))}var O=e.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)r.flags&256?(Hr(r),r.flags&=-257,r=Fd(e,r,a)):r.memoizedState!==null?(Fr(),r.child=e.child,r.flags|=128,r=null):(Fr(),A=l.fallback,f=r.mode,l=Ic({mode:"visible",children:l.children},f),A=qs(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,Ws(r,e.child,null,a),l=r.child,l.memoizedState=zd(a),l.childLanes=jd(e,y,a),r.memoizedState=Bd,r=yl(null,l));else if(Hr(r),Sm(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(s(419)),l.stack="",l.digest=y,al({value:l,source:null,stack:null}),r=Fd(e,r,a)}else if(Se||Ba(e,r,a,!1),y=(a&e.childLanes)!==0,Se||y){if(y=te,y!==null&&(l=vr(y,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Gs(e,l),Tn(y,e,l),Pd;Am(A)||xc(),r=Fd(e,r,a)}else Am(A)?(r.flags|=192,r.child=e.child,r=null):(e=O.treeContext,ne=Kn(A.nextSibling),Fe=r,kt=!0,Ur=null,qn=!1,e!==null&&u_(r,e),r=Hd(r,l.children),r.flags|=4096);return r}return f?(Fr(),A=l.fallback,f=r.mode,O=e.child,H=O.sibling,l=Hi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?A=Hi(H,A):(A=qs(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,yl(null,l),l=r.child,A=e.child.memoizedState,A===null?A=zd(a):(f=A.cachePool,f!==null?(O=Te._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=p_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=jd(e,y,a),r.memoizedState=Bd,yl(e.child,l)):(Hr(r),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(y=r.deletions,y===null?(r.deletions=[e],r.flags|=16):y.push(e)),r.child=a,r.memoizedState=null,a)}function Hd(e,r){return r=Ic({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ic(e,r){return e=wn(22,e,null,r),e.lanes=0,e}function Fd(e,r,a){return Ws(r,e.child,null,a),e=Hd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Cy(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),rd(e.return,r,a)}function Gd(e,r,a,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Oy(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=_e.current,A=(y&2)!==0;if(A?(y=y&1|2,r.flags|=128):y&=1,it(_e,y),qe(e,r,l,a),l=kt?sl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cy(e,a,r);else if(e.tag===19)Cy(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&fc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Gd(r,!0,a,null,d,l);break;case"together":Gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Qi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ba(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Hi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function qd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&rc(e)))}function ib(e,r,a){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),kr(r,Te,e.memoizedState.cache),Ys();break;case 27:case 5:ci(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,gd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Hr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wy(e,r,a):(Hr(r),e=Qi(e,r,a),e!==null?e.sibling:null);Hr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ba(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Oy(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(_e,_e.current),l)break;return null;case 22:return r.lanes=0,Ty(e,r,a,r.pendingProps);case 24:kr(r,Te,e.memoizedState.cache)}return Qi(e,r,a)}function Ny(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Se=!0;else{if(!qd(e,a)&&(r.flags&128)===0)return Se=!1,ib(e,r,a);Se=(e.flags&131072)!==0}else Se=!1,kt&&(r.flags&1048576)!==0&&l_(r,sl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Xs(r.elementType),r.type=e,typeof e=="function")Xf(e)?(l=ta(e,l),r.tag=1,r=Ry(null,r,e,l,a)):(r.tag=0,r=kd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ft){r.tag=11,r=yy(null,r,e,l,a);break t}else if(f===D){r.tag=14,r=Ey(null,r,e,l,a);break t}}throw r=pe(e)||e,Error(s(306,r,""))}}return r;case 0:return kd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),Ry(e,r,l,f,a);case 3:t:{if(se(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,hd(e,r),dl(r,l,null,a);var y=r.memoizedState;if(l=y.cache,kr(r,Te,l),l!==d.cache&&sd(r,[Te],a,!0),fl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=by(e,r,l,a);break t}else if(l!==f){f=Hn(Error(s(424)),r),al(f),r=by(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Kn(e.firstChild),Fe=r,kt=!0,Ur=null,qn=!0,a=T_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ys(),l===f){r=Qi(e,r,a);break t}qe(e,r,l,a)}r=r.child}return r;case 26:return Sc(e,r),e===null?(a=jE(r.type,null,r.pendingProps,null))?r.memoizedState=a:kt||(a=r.type,e=r.pendingProps,l=zc(Tt.current).createElement(a),l[ce]=r,l[He]=e,Ye(l,a,e),ge(l),r.stateNode=l):r.memoizedState=jE(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ci(r),e===null&&kt&&(l=r.stateNode=kE(r.type,r.pendingProps,Tt.current),Fe=r,qn=!0,f=ne,Jr(r.type)?(Im=f,ne=Kn(l.firstChild)):ne=f),qe(e,r,r.pendingProps.children,a),Sc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&kt&&((f=l=ne)&&(l=xb(l,r.type,r.pendingProps,qn),l!==null?(r.stateNode=l,Fe=r,ne=Kn(l.firstChild),qn=!1,f=!0):f=!1),f||Pr(r)),ci(r),f=r.type,d=r.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Em(f,d)?l=null:y!==null&&Em(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=yd(e,r,QR,null,null,a),xl._currentValue=f),Sc(e,r),qe(e,r,l,a),r.child;case 6:return e===null&&kt&&((e=a=ne)&&(a=Lb(a,r.pendingProps,qn),a!==null?(r.stateNode=a,Fe=r,ne=null,e=!0):e=!1),e||Pr(r)),null;case 13:return wy(e,r,a);case 4:return se(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ws(r,null,l,a):qe(e,r,l,a),r.child;case 11:return yy(e,r,r.type,r.pendingProps,a);case 7:return qe(e,r,r.pendingProps,a),r.child;case 8:return qe(e,r,r.pendingProps.children,a),r.child;case 12:return qe(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,kr(r,r.type,l.value),qe(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Qs(r),f=Ge(f),l=l(f),r.flags|=1,qe(e,r,l,a),r.child;case 14:return Ey(e,r,r.type,r.pendingProps,a);case 15:return vy(e,r,r.type,r.pendingProps,a);case 19:return Oy(e,r,a);case 31:return nb(e,r,a);case 22:return Ty(e,r,a,r.pendingProps);case 24:return Qs(r),l=Ge(Te),e===null?(f=ld(),f===null&&(f=te,d=ad(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},cd(r),kr(r,Te,f)):((e.lanes&a)!==0&&(hd(e,r),dl(r,null,null,a),fl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,Te,l)):(l=d.cache,kr(r,Te,l),l!==f.cache&&sd(r,[Te],a,!0))),qe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function $i(e){e.flags|=4}function Yd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(iE())e.flags|=8192;else throw Js=lc,ud}else e.flags&=-16777217}function Dy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!YE(r))if(iE())e.flags|=8192;else throw Js=lc,ud}function Rc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Bo():536870912,e.lanes|=r,Ja|=r)}function El(e,r){if(!kt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function rb(e,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),qi(Te),Ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ka(r)?$i(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,nd())),ie(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?($i(r),d!==null?(ie(r),Dy(r,d)):(ie(r),Yd(r,f,null,l,a))):d?d!==e.memoizedState?($i(r),ie(r),Dy(r,d)):(ie(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(r),ie(r),Yd(r,f,e,l,a)),null;case 27:if(Ni(r),a=Tt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}e=lt.current,ka(r)?c_(r):(e=kE(f,l,a),r.stateNode=e,$i(r))}return ie(r),null;case 5:if(Ni(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(d=lt.current,ka(r))c_(r);else{var y=zc(Tt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[ce]=r,d[He]=l;t:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break t;for(;y.sibling===null;){if(y.return===null||y.return===r)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;t:switch(Ye(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(r)}}return ie(r),Yd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&$i(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Tt.current,ka(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ce]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wE(e.nodeValue,a)),e||Pr(r,!0)}else e=zc(e).createTextNode(l),e[ce]=r,r.stateNode=e}return ie(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=ka(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ce]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),e=!1}else a=nd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ka(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ce]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=nd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),ie(r),null);case 4:return Ht(),e===null&&mm(r.stateNode.containerInfo),ie(r),null;case 10:return qi(r.type),ie(r),null;case 19:if(G(_e),l=r.memoizedState,l===null)return ie(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=fc(e),d!==null){for(r.flags|=128,El(l,!1),e=d.updateQueue,r.updateQueue=e,Rc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)s_(a,e),a=a.sibling;return it(_e,_e.current&1|2),kt&&Fi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&ze()>Nc&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304)}else{if(!f)if(e=fc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Rc(r,e),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return ie(r),null}else 2*ze()-l.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,a=_e.current,it(_e,f?a&1|2:a&1),kt&&Fi(r,l.treeForkCount),e):(ie(r),null);case 22:case 23:return On(r),pd(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&G($s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qi(Te),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sb(e,r){switch(td(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return qi(Te),Ht(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ni(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Ys()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(On(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return G(_e),null;case 4:return Ht(),null;case 10:return qi(r.type),null;case 22:case 23:return On(r),pd(),e!==null&&G($s),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return qi(Te),null;case 25:return null;default:return null}}function My(e,r){switch(td(r),r.tag){case 3:qi(Te),Ht();break;case 26:case 27:case 5:Ni(r);break;case 4:Ht();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:G(_e);break;case 10:qi(r.type);break;case 22:case 23:On(r),pd(),e!==null&&G($s);break;case 24:qi(Te)}}function vl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(A){$t(r,r.return,A)}}function Gr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,f=r;var O=a,H=A;try{H()}catch($){$t(f,O,$)}}}l=l.next}while(l!==d)}}catch($){$t(r,r.return,$)}}function xy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{S_(r,a)}catch(l){$t(e,e.return,l)}}}function Ly(e,r,a){a.props=ta(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,r,l)}}function Tl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){$t(e,r,f)}}function Ti(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,r,f)}else a.current=null}function Vy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function Kd(e,r,a){try{var l=e.stateNode;wb(l,e.type,a,r),l[He]=r}catch(f){$t(e,e.return,f)}}function Uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jr(e.type)||e.tag===4}function Qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $d(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Le));else if(l!==4&&(l===27&&Jr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for($d(e,r,a),e=e.sibling;e!==null;)$d(e,r,a),e=e.sibling}function bc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Jr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,r,a),e=e.sibling;e!==null;)bc(e,r,a),e=e.sibling}function Py(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,l,a),r[ce]=e,r[He]=a}catch(d){$t(e,e.return,d)}}var Xi=!1,Ie=!1,Xd=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ab(e,r){if(e=e.containerInfo,_m=Kc,e=Xg(e),Ff(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,A=-1,O=-1,H=0,$=0,Z=e,F=null;e:for(;;){for(var Y;Z!==a||f!==0&&Z.nodeType!==3||(A=y+f),Z!==d||l!==0&&Z.nodeType!==3||(O=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)F=Z,Z=Y;for(;;){if(Z===e)break e;if(F===a&&++H===f&&(A=y),F===d&&++$===l&&(O=y),(Y=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Y}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:e,selectionRange:a},Kc=!1,Pe=r;Pe!==null;)if(r=Pe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Pe=e;else for(;Pe!==null;){switch(r=Pe,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ht=ta(a.type,f);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){$t(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Tm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Pe=e;break}Pe=r.return}}function By(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),l&4&&vl(5,a);break;case 1:if(Wi(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(y){$t(a,a.return,y)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}l&64&&xy(a),l&512&&Tl(a,a.return);break;case 3:if(Wi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{S_(e,r)}catch(y){$t(a,a.return,y)}}break;case 27:r===null&&l&4&&Py(a);case 26:case 5:Wi(e,a),r===null&&l&4&&Vy(a),l&512&&Tl(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),l&4&&Hy(e,a);break;case 13:Wi(e,a),l&4&&Fy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pb.bind(null,a),Vb(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){r=r!==null&&r.memoizedState!==null||Ie,f=Xi;var d=Ie;Xi=l,(Ie=r)&&!d?Zi(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Xi=f,Ie=d}break;case 30:break;default:Wi(e,a)}}function zy(e){var r=e.alternate;r!==null&&(e.alternate=null,zy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ms(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,_n=!1;function Ji(e,r,a){for(a=a.child;a!==null;)jy(e,r,a),a=a.sibling}function jy(e,r,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:Ie||Ti(a,r),Ji(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ti(a,r);var l=ae,f=_n;Jr(a.type)&&(ae=a.stateNode,_n=!1),Ji(e,r,a),Nl(a.stateNode),ae=l,_n=f;break;case 5:Ie||Ti(a,r);case 6:if(l=ae,f=_n,ae=null,Ji(e,r,a),ae=l,_n=f,ae!==null)if(_n)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){$t(a,r,d)}else try{ae.removeChild(a.stateNode)}catch(d){$t(a,r,d)}break;case 18:ae!==null&&(_n?(e=ae,xE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),so(e)):xE(ae,a.stateNode));break;case 4:l=ae,f=_n,ae=a.stateNode.containerInfo,_n=!0,Ji(e,r,a),ae=l,_n=f;break;case 0:case 11:case 14:case 15:Gr(2,a,r),Ie||Gr(4,a,r),Ji(e,r,a);break;case 1:Ie||(Ti(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ly(a,r,l)),Ji(e,r,a);break;case 21:Ji(e,r,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Ji(e,r,a),Ie=l;break;default:Ji(e,r,a)}}function Hy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(a){$t(r,r.return,a)}}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(a){$t(r,r.return,a)}}function ob(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new ky),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new ky),r;default:throw Error(s(435,e.tag))}}function wc(e,r){var a=ob(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=gb.bind(null,e,l);l.then(f,f)}})}function yn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,y=r,A=y;t:for(;A!==null;){switch(A.tag){case 27:if(Jr(A.type)){ae=A.stateNode,_n=!1;break t}break;case 5:ae=A.stateNode,_n=!1;break t;case 3:case 4:ae=A.stateNode.containerInfo,_n=!0;break t}A=A.return}if(ae===null)throw Error(s(160));jy(d,y,f),ae=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Gy(r,e),r=r.sibling}var si=null;function Gy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(r,e),En(e),l&4&&(Gr(3,e,e.return),vl(3,e),Gr(5,e,e.return));break;case 1:yn(r,e),En(e),l&512&&(Ie||a===null||Ti(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(yn(r,e),En(e),l&512&&(Ie||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Li]||d[ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ye(d,l,a),d[ce]=e,ge(d),l=d;break t;case"link":var y=GE("link","href",f).get(l+(a.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(A,1);break e}}d=f.createElement(l),Ye(d,l,a),f.head.appendChild(d);break;case"meta":if(y=GE("meta","content",f).get(l+(a.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(A,1);break e}}d=f.createElement(l),Ye(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ce]=e,ge(d),l=d}e.stateNode=l}else qE(f,e.type,e.stateNode);else e.stateNode=FE(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?qE(f,e.type,e.stateNode):FE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kd(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(r,e),En(e),l&512&&(Ie||a===null||Ti(a,a.return)),a!==null&&l&4&&Kd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,e),En(e),l&512&&(Ie||a===null||Ti(a,a.return)),e.flags&32){f=e.stateNode;try{zn(f,"")}catch(ht){$t(e,e.return,ht)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Kd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Xd=!0);break;case 6:if(yn(r,e),En(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ht){$t(e,e.return,ht)}}break;case 3:if(Fc=null,f=si,si=jc(r.containerInfo),yn(r,e),si=f,En(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(ht){$t(e,e.return,ht)}Xd&&(Xd=!1,qy(e));break;case 4:l=si,si=jc(e.stateNode.containerInfo),yn(r,e),En(e),si=l;break;case 12:yn(r,e),En(e);break;case 31:yn(r,e),En(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:yn(r,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=Xi,$=Ie;if(Xi=H||f,Ie=$||O,yn(r,e),Ie=$,Xi=H,En(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||Xi||Ie||ea(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=O.stateNode;var Z=O.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ht){$t(O,O.return,ht)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(ht){$t(O,O.return,ht)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;f?LE(Y,!0):LE(O.stateNode,!1)}catch(ht){$t(O,O.return,ht)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(e,a))));break;case 19:yn(r,e),En(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:yn(r,e),En(e)}}function En(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Uy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(e);bc(e,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(zn(y,""),a.flags&=-33);var A=Qd(e);bc(e,A,y);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Qd(e);$d(e,H,O);break;default:throw Error(s(161))}}catch($){$t(e,e.return,$)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Wi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)By(e,r.alternate,r),r=r.sibling}function ea(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),ea(r);break;case 1:Ti(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ly(r,r.return,a),ea(r);break;case 27:Nl(r.stateNode);case 26:case 5:Ti(r,r.return),ea(r);break;case 22:r.memoizedState===null&&ea(r);break;case 30:ea(r);break;default:ea(r)}e=e.sibling}}function Zi(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(f,d,a),vl(4,d);break;case 1:if(Zi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)A_(O[f],A)}catch(H){$t(l,l.return,H)}}a&&y&64&&xy(d),Tl(d,d.return);break;case 27:Py(d);case 26:case 5:Zi(f,d,a),a&&l===null&&y&4&&Vy(d),Tl(d,d.return);break;case 12:Zi(f,d,a);break;case 31:Zi(f,d,a),a&&y&4&&Hy(f,d);break;case 13:Zi(f,d,a),a&&y&4&&Fy(f,d);break;case 22:d.memoizedState===null&&Zi(f,d,a),Tl(d,d.return);break;case 30:break;default:Zi(f,d,a)}r=r.sibling}}function Jd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function Wd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e))}function ai(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yy(e,r,a,l),r=r.sibling}function Yy(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ai(e,r,a,l),f&2048&&vl(9,r);break;case 1:ai(e,r,a,l);break;case 3:ai(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e)));break;case 12:if(f&2048){ai(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){$t(r,r.return,O)}}else ai(e,r,a,l);break;case 31:ai(e,r,a,l);break;case 13:ai(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?ai(e,r,a,l):Al(e,r):d._visibility&2?ai(e,r,a,l):(d._visibility|=2,Qa(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(y,r);break;case 24:ai(e,r,a,l),f&2048&&Wd(r.alternate,r);break;default:ai(e,r,a,l)}}function Qa(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,y=r,A=a,O=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(d,y,A,O,f),vl(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Qa(d,y,A,O,f):Al(d,y):($._visibility|=2,Qa(d,y,A,O,f)),f&&H&2048&&Jd(y.alternate,y);break;case 24:Qa(d,y,A,O,f),f&&H&2048&&Wd(y.alternate,y);break;default:Qa(d,y,A,O,f)}r=r.sibling}}function Al(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Al(a,l),f&2048&&Wd(l.alternate,l);break;default:Al(a,l)}r=r.sibling}}var Sl=8192;function $a(e,r,a){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)Ky(e,r,a),e=e.sibling}function Ky(e,r,a){switch(e.tag){case 26:$a(e,r,a),e.flags&Sl&&e.memoizedState!==null&&Kb(a,si,e.memoizedState,e.memoizedProps);break;case 5:$a(e,r,a);break;case 3:case 4:var l=si;si=jc(e.stateNode.containerInfo),$a(e,r,a),si=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,$a(e,r,a),Sl=l):$a(e,r,a));break;default:$a(e,r,a)}}function Qy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Il(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,Xy(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$y(e),e=e.sibling}function $y(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Gr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Cc(e)):Il(e);break;default:Il(e)}}function Cc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,Xy(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}e=e.sibling}}function Xy(e,r){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var f=l.sibling,d=l.return;if(zy(l),l===a){Pe=null;break t}if(f!==null){f.return=d,Pe=f;break t}Pe=d}}}var lb={getCacheForType:function(e){var r=Ge(Te),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ge(Te).controller.signal}},ub=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Mt=null,Lt=0,Qt=0,Nn=null,qr=!1,Xa=!1,Zd=!1,tr=0,de=0,Yr=0,na=0,tm=0,Dn=0,Ja=0,Rl=null,vn=null,em=!1,Oc=0,Jy=0,Nc=1/0,Dc=null,Kr=null,De=0,Qr=null,Wa=null,er=0,nm=0,im=null,Wy=null,bl=0,rm=null;function Mn(){return(Yt&2)!==0&&Lt!==0?Lt&-Lt:Q.T!==null?cm():xi()}function Zy(){if(Dn===0)if((Lt&536870912)===0||kt){var e=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),Dn=e}else Dn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Dn}function Tn(e,r,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Za(e,0),$r(e,Lt,Dn,!1)),yr(e,a),((Yt&2)===0||e!==te)&&(e===te&&((Yt&2)===0&&(na|=a),de===4&&$r(e,Lt,Dn,!1)),Ai(e))}function tE(e,r,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||_r(e,r),f=l?fb(e,r):am(e,r,!0),d=l;do{if(f===0){Xa&&!l&&$r(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!cb(a)){f=am(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;t:{var A=e;f=Rl;var O=A.current.memoizedState.isDehydrated;if(O&&(Za(A,y).flags|=256),y=am(A,y,!1),y!==2){if(Zd&&!O){A.errorRecoveryDisabledLanes|=d,na|=d,f=4;break t}d=vn,vn=f,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Za(e,0),$r(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(l,r,Dn,!qr);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Oc+300-ze(),10<f)){if($r(l,r,Dn,!qr),kn(l,0,!0)!==0)break t;er=r,l.timeoutHandle=DE(eE.bind(null,l,a,vn,Dc,em,r,Dn,na,Ja,qr,d,"Throttled",-0,0),f);break t}eE(l,a,vn,Dc,em,r,Dn,na,Ja,qr,d,null,-0,0)}}break}while(!0);Ai(e)}function eE(e,r,a,l,f,d,y,A,O,H,$,Z,F,Y){if(e.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Le},Ky(r,d,Z);var ht=(d&62914560)===d?Oc-ze():(d&4194048)===d?Jy-ze():0;if(ht=Qb(Z,ht),ht!==null){er=d,e.cancelPendingCommit=ht(uE.bind(null,e,r,d,a,l,f,y,A,O,$,Z,null,F,Y)),$r(e,d,y,!H);return}}uE(e,r,d,a,l,f,y,A,O)}function cb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(e,r,a,l){r&=~tm,r&=~na,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-sn(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&zo(e,a,r)}function Mc(){return(Yt&6)===0?(wl(0),!1):!0}function sm(){if(Mt!==null){if(Qt===0)var e=Mt.return;else e=Mt,Gi=Ks=null,Td(e),Fa=null,ul=0,e=Mt;for(;e!==null;)My(e.alternate,e),e=e.return;Mt=null}}function Za(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Nb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,sm(),te=e,Mt=a=Hi(e.current,null),Lt=r,Qt=0,Nn=null,qr=!1,Xa=_r(e,r),Zd=!1,Ja=Dn=tm=na=Yr=de=0,vn=Rl=null,em=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-sn(l),d=1<<f;r|=e[f],l&=~d}return tr=r,Zu(),a}function nE(e,r){wt=null,Q.H=_l,r===Ha||r===oc?(r=y_(),Qt=3):r===ud?(r=y_(),Qt=4):Qt=r===Pd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Mt===null&&(de=1,Tc(e,Hn(r,e.current)))}function iE(){var e=Cn.current;return e===null?!0:(Lt&4194048)===Lt?Yn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Yn:!1}function rE(){var e=Q.H;return Q.H=_l,e===null?_l:e}function sE(){var e=Q.A;return Q.A=lb,e}function xc(){de=4,qr||(Lt&4194048)!==Lt&&Cn.current!==null||(Xa=!0),(Yr&134217727)===0&&(na&134217727)===0||te===null||$r(te,Lt,Dn,!1)}function am(e,r,a){var l=Yt;Yt|=2;var f=rE(),d=sE();(te!==e||Lt!==r)&&(Dc=null,Za(e,r)),r=!1;var y=de;t:do try{if(Qt!==0&&Mt!==null){var A=Mt,O=Nn;switch(Qt){case 8:sm(),y=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var H=Qt;if(Qt=0,Nn=null,to(e,A,O,H),a&&Xa){y=0;break t}break;default:H=Qt,Qt=0,Nn=null,to(e,A,O,H)}}hb(),y=de;break}catch($){nE(e,$)}while(!0);return r&&e.shellSuspendCounter++,Gi=Ks=null,Yt=l,Q.H=f,Q.A=d,Mt===null&&(te=null,Lt=0,Zu()),y}function hb(){for(;Mt!==null;)aE(Mt)}function fb(e,r){var a=Yt;Yt|=2;var l=rE(),f=sE();te!==e||Lt!==r?(Dc=null,Nc=ze()+500,Za(e,r)):Xa=_r(e,r);t:do try{if(Qt!==0&&Mt!==null){r=Mt;var d=Nn;e:switch(Qt){case 1:Qt=0,Nn=null,to(e,r,d,1);break;case 2:case 9:if(g_(d)){Qt=0,Nn=null,oE(r);break}r=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ai(e)},d.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:g_(d)?(Qt=0,Nn=null,oE(r)):(Qt=0,Nn=null,to(e,r,d,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var A=Mt;if(y?YE(y):A.stateNode.complete){Qt=0,Nn=null;var O=A.sibling;if(O!==null)Mt=O;else{var H=A.return;H!==null?(Mt=H,Lc(H)):Mt=null}break e}}Qt=0,Nn=null,to(e,r,d,5);break;case 6:Qt=0,Nn=null,to(e,r,d,6);break;case 8:sm(),de=6;break t;default:throw Error(s(462))}}db();break}catch($){nE(e,$)}while(!0);return Gi=Ks=null,Q.H=l,Q.A=f,Yt=a,Mt!==null?0:(te=null,Lt=0,Zu(),de)}function db(){for(;Mt!==null&&!Mf();)aE(Mt)}function aE(e){var r=Ny(e.alternate,e,tr);e.memoizedProps=e.pendingProps,r===null?Lc(e):Mt=r}function oE(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Iy(a,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Iy(a,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Td(r);default:My(a,r),r=Mt=s_(r,tr),r=Ny(a,r,tr)}e.memoizedProps=e.pendingProps,r===null?Lc(e):Mt=r}function to(e,r,a,l){Gi=Ks=null,Td(r),Fa=null,ul=0;var f=r.return;try{if(eb(e,f,r,a,Lt)){de=1,Tc(e,Hn(a,e.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;de=1,Tc(e,Hn(a,e.current)),Mt=null;return}r.flags&32768?(kt||l===1?e=!0:Xa||(Lt&536870912)!==0?e=!1:(qr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lE(r,e)):Lc(r)}function Lc(e){var r=e;do{if((r.flags&32768)!==0){lE(r,qr);return}e=r.return;var a=rb(r.alternate,r,tr);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=e}while(r!==null);de===0&&(de=5)}function lE(e,r){do{var a=sb(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);de=6,Mt=null}function uE(e,r,a,l,f,d,y,A,O){e.cancelPendingCommit=null;do Vc();while(De!==0);if((Yt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,je(e,a,d,y,A,O),e===te&&(Mt=te=null,Lt=0),Wa=r,Qr=e,er=a,nm=d,im=f,Wy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_b(Di,function(){return mE(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ot.p,ot.p=2,y=Yt,Yt|=4;try{ab(e,r,a)}finally{Yt=y,ot.p=f,Q.T=l}}De=1,cE(),hE(),fE()}}function cE(){if(De===1){De=0;var e=Qr,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var f=Yt;Yt|=4;try{Gy(r,e);var d=ym,y=Xg(e.containerInfo),A=d.focusedElem,O=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&$g(A.ownerDocument.documentElement,A)){if(O!==null&&Ff(A)){var H=O.start,$=O.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var Z=A.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ht=A.textContent.length,vt=Math.min(O.start,ht),Wt=O.end===void 0?vt:Math.min(O.end,ht);!Y.extend&&vt>Wt&&(y=Wt,Wt=vt,vt=y);var P=Qg(A,vt),x=Qg(A,Wt);if(P&&x&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==x.node||Y.focusOffset!==x.offset)){var j=Z.createRange();j.setStart(P.node,P.offset),Y.removeAllRanges(),vt>Wt?(Y.addRange(j),Y.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),Y.addRange(j))}}}}for(Z=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var X=Z[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Kc=!!_m,ym=_m=null}finally{Yt=f,ot.p=l,Q.T=a}}e.current=r,De=2}}function hE(){if(De===2){De=0;var e=Qr,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var f=Yt;Yt|=4;try{By(e,r.alternate,r)}finally{Yt=f,ot.p=l,Q.T=a}}De=3}}function fE(){if(De===4||De===3){De=0,Uo();var e=Qr,r=Wa,a=er,l=Wy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?De=5:(De=0,Wa=Qr=null,dE(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Kr=null),Ho(a),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(pr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=ot.p,ot.p=2,Q.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];d(A.value,{componentStack:A.stack})}}finally{Q.T=r,ot.p=f}}(er&3)!==0&&Vc(),Ai(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===rm?bl++:(bl=0,rm=e):bl=0,wl(0)}}function dE(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ol(r)))}function Vc(){return cE(),hE(),fE(),mE()}function mE(){if(De!==5)return!1;var e=Qr,r=nm;nm=0;var a=Ho(er),l=Q.T,f=ot.p;try{ot.p=32>a?32:a,Q.T=null,a=im,im=null;var d=Qr,y=er;if(De=0,Wa=Qr=null,er=0,(Yt&6)!==0)throw Error(s(331));var A=Yt;if(Yt|=4,$y(d.current),Yy(d,d.current,y,a),Yt=A,wl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(pr,d)}catch{}return!0}finally{ot.p=f,Q.T=l,dE(e,r)}}function pE(e,r,a){r=Hn(a,r),r=Ud(e.stateNode,r,2),e=jr(e,r,2),e!==null&&(yr(e,2),Ai(e))}function $t(e,r,a){if(e.tag===3)pE(e,e,a);else for(;r!==null;){if(r.tag===3){pE(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){e=Hn(a,e),a=gy(2),l=jr(r,a,2),l!==null&&(_y(a,l,r,e),yr(l,2),Ai(l));break}}r=r.return}}function om(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ub;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Zd=!0,f.add(a),e=mb.bind(null,e,r,a),r.then(e,e))}function mb(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(de===4||de===3&&(Lt&62914560)===Lt&&300>ze()-Oc?(Yt&2)===0&&Za(e,0):tm|=a,Ja===Lt&&(Ja=0)),Ai(e)}function gE(e,r){r===0&&(r=Bo()),e=Gs(e,r),e!==null&&(yr(e,r),Ai(e))}function pb(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),gE(e,a)}function gb(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),gE(e,a)}function _b(e,r){return Os(e,r)}var Uc=null,eo=null,lm=!1,Pc=!1,um=!1,Xr=0;function Ai(e){e!==eo&&e.next===null&&(eo===null?Uc=eo=e:eo=eo.next=e),Pc=!0,lm||(lm=!0,Eb())}function wl(e,r){if(!um&&Pc){um=!0;do for(var a=!1,l=Uc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-sn(42|e)+1)-1,d&=f&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,vE(l,d))}else d=Lt,d=kn(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_r(l,d)||(a=!0,vE(l,d));l=l.next}while(a);um=!1}}function yb(){_E()}function _E(){Pc=lm=!1;var e=0;Xr!==0&&Ob()&&(e=Xr);for(var r=ze(),a=null,l=Uc;l!==null;){var f=l.next,d=yE(l,r);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(eo=a)):(a=l,(e!==0||(d&3)!==0)&&(Pc=!0)),l=f}De!==0&&De!==5||wl(e),Xr!==0&&(Xr=0)}function yE(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-sn(d),A=1<<y,O=f[y];O===-1?((A&a)===0||(A&l)!==0)&&(f[y]=Ta(A,r)):O<=r&&(e.expiredLanes|=A),d&=~A}if(r=te,a=Lt,a=kn(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_r(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&va(l),Ho(a)){case 2:case 8:a=xe;break;case 32:a=Di;break;case 268435456:a=Po;break;default:a=Di}return l=EE.bind(null,e),a=Os(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&va(l),e.callbackPriority=2,e.callbackNode=null,2}function EE(e,r){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vc()&&e.callbackNode!==a)return null;var l=Lt;return l=kn(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(tE(e,l,r),yE(e,ze()),e.callbackNode!=null&&e.callbackNode===a?EE.bind(null,e):null)}function vE(e,r){if(Vc())return null;tE(e,r,!0)}function Eb(){Db(function(){(Yt&6)!==0?Os(Ne,yb):_E()})}function cm(){if(Xr===0){var e=za;e===0&&(e=Ds,Ds<<=1,(Ds&261888)===0&&(Ds=256)),Xr=e}return Xr}function TE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gi(""+e)}function AE(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function vb(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=TE((f[He]||null).action),y=l.submitter;y&&(r=(r=y[He]||null)?TE(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var A=new Ps("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var O=y?AE(f,y):new FormData(f);Nd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=y?AE(f,y):new FormData(f),Nd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var hm=0;hm<Kf.length;hm++){var fm=Kf[hm],Tb=fm.toLowerCase(),Ab=fm[0].toUpperCase()+fm.slice(1);ri(Tb,"on"+Ab)}ri(Zg,"onAnimationEnd"),ri(t_,"onAnimationIteration"),ri(e_,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(kR,"onTransitionRun"),ri(BR,"onTransitionStart"),ri(zR,"onTransitionCancel"),ri(n_,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function SE(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var y=l.length-1;0<=y;y--){var A=l[y],O=A.instance,H=A.currentTarget;if(A=A.listener,O!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=O}else for(y=0;y<l.length;y++){if(A=l[y],O=A.instance,H=A.currentTarget,A=A.listener,O!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=O}}}}function xt(e,r){var a=r[Tr];a===void 0&&(a=r[Tr]=new Set);var l=e+"__bubble";a.has(l)||(IE(r,e,2,!1),a.add(l))}function dm(e,r,a){var l=0;r&&(l|=4),IE(a,e,l,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function mm(e){if(!e[kc]){e[kc]=!0,Aa.forEach(function(a){a!=="selectionchange"&&(Sb.has(a)||dm(a,!1,e),dm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[kc]||(r[kc]=!0,dm("selectionchange",!1,r))}}function IE(e,r,a,l){switch(ZE(r)){case 2:var f=Jb;break;case 8:f=Wb;break;default:f=Om}a=f.bind(null,r,a,e),f=void 0,!Xo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function pm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===f)break;if(y===4)for(y=l.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;A!==null;){if(y=Vi(A),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){l=d=y;continue t}A=A.parentNode}}l=l.return}Uu(function(){var H=d,$=wa(a),Z=[];t:{var F=i_.get(e);if(F!==void 0){var Y=Ps,ht=e;switch(e){case"keypress":if(Us(a)===0)break t;case"keydown":case"keyup":Y=qu;break;case"focusin":ht="focus",Y=Dr;break;case"focusout":ht="blur",Y=Dr;break;case"beforeblur":case"afterblur":Y=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ku;break;case Zg:case t_:case e_:Y=Na;break;case n_:Y=Da;break;case"scroll":case"scrollend":Y=Pu;break;case"wheel":Y=$u;break;case"copy":case"cut":case"paste":Y=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=el;break;case"toggle":case"beforetoggle":Y=xr}var vt=(r&4)!==0,Wt=!vt&&(e==="scroll"||e==="scrollend"),P=vt?F!==null?F+"Capture":null:F;vt=[];for(var x=H,j;x!==null;){var X=x;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||P===null||(X=pn(x,P),X!=null&&vt.push(Ol(x,X,j))),Wt)break;x=x.return}0<vt.length&&(F=new Y(F,ht,null,a,$),Z.push({event:F,listeners:vt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==ba&&(ht=a.relatedTarget||a.fromElement)&&(Vi(ht)||ht[di]))break t;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ht=a.relatedTarget||a.toElement,Y=H,ht=ht?Vi(ht):null,ht!==null&&(Wt=u(ht),vt=ht.tag,ht!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(Y=null,ht=H),Y!==ht)){if(vt=ku,X="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(vt=el,X="onPointerLeave",P="onPointerEnter",x="pointer"),Wt=Y==null?F:xs(Y),j=ht==null?F:xs(ht),F=new vt(X,x+"leave",Y,a,$),F.target=Wt,F.relatedTarget=j,X=null,Vi($)===H&&(vt=new vt(P,x+"enter",ht,a,$),vt.target=j,vt.relatedTarget=Wt,X=vt),Wt=X,Y&&ht)e:{for(vt=Ib,P=Y,x=ht,j=0,X=P;X;X=vt(X))j++;X=0;for(var _t=x;_t;_t=vt(_t))X++;for(;0<j-X;)P=vt(P),j--;for(;0<X-j;)x=vt(x),X--;for(;j--;){if(P===x||x!==null&&P===x.alternate){vt=P;break e}P=vt(P),x=vt(x)}vt=null}else vt=null;Y!==null&&RE(Z,F,Y,vt,!1),ht!==null&&Wt!==null&&RE(Z,Wt,ht,vt,!0)}}t:{if(F=H?xs(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Gt=Hg;else if(gn(F))if(Fg)Gt=VR;else{Gt=xR;var dt=MR}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Qo(H.elementType)&&(Gt=Hg):Gt=LR;if(Gt&&(Gt=Gt(e,H))){js(Z,Gt,a,$);break t}dt&&dt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Ra(F,"number",F.value)}switch(dt=H?xs(H):window,e){case"focusin":(gn(dt)||dt.contentEditable==="true")&&(Ma=dt,Gf=H,rl=null);break;case"focusout":rl=Gf=Ma=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Jg(Z,a,$);break;case"selectionchange":if(PR)break;case"keydown":case"keyup":Jg(Z,a,$)}var Ct;if(_)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Nt?Kt(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(B&&a.locale!=="ko"&&(Nt||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Nt&&(Ct=wr()):(Rn=$,Ca="value"in Rn?Rn.value:Rn.textContent,Nt=!0)),dt=Bc(H,Vt),0<dt.length&&(Vt=new Wo(Vt,e,null,a,$),Z.push({event:Vt,listeners:dt}),Ct?Vt.data=Ct:(Ct=ve(a),Ct!==null&&(Vt.data=Ct)))),(Ct=I?Ve(e,a):Ue(e,a))&&(Vt=Bc(H,"onBeforeInput"),0<Vt.length&&(dt=new Wo("onBeforeInput","beforeinput",null,a,$),Z.push({event:dt,listeners:Vt}),dt.data=Ct)),vb(Z,e,H,a,$)}SE(Z,r)})}function Ol(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Bc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=pn(e,a),f!=null&&l.unshift(Ol(e,f,d)),f=pn(e,r),f!=null&&l.push(Ol(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Ib(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function RE(e,r,a,l,f){for(var d=r._reactName,y=[];a!==null&&a!==l;){var A=a,O=A.alternate,H=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||H===null||(O=H,f?(H=pn(a,d),H!=null&&y.unshift(Ol(a,H,O))):f||(H=pn(a,d),H!=null&&y.push(Ol(a,H,O)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var Rb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function bE(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(bb,"")}function wE(e,r){return r=bE(r),bE(e)===r}function Jt(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(e,""+l);break;case"className":Ir(e,"class",l);break;case"tabIndex":Ir(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(e,a,l);break;case"style":Lu(e,l,d);break;case"data":if(r!=="object"){Ir(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Jt(e,r,"name",f.name,f,null),Jt(e,r,"formEncType",f.formEncType,f,null),Jt(e,r,"formMethod",f.formMethod,f,null),Jt(e,r,"formTarget",f.formTarget,f,null)):(Jt(e,r,"encType",f.encType,f,null),Jt(e,r,"method",f.method,f,null),Jt(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Le);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=gi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Sr(e,"popover",l);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kf.get(a)||a,Sr(e,a,l))}}function gm(e,r,a,l,f,d){switch(a){case"style":Lu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?zn(e,l):(typeof l=="number"||typeof l=="bigint")&&zn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Le);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[He]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Sr(e,a,l)}}}function Ye(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,d,y,a,null)}}f&&Jt(e,r,"srcSet",a.srcSet,a,null),l&&Jt(e,r,"src",a.src,a,null);return;case"input":xt("invalid",e);var A=d=y=f=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":O=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Jt(e,r,l,$,a,null)}}Ls(e,d,A,O,H,y,f,!1);return;case"select":xt("invalid",e),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:Jt(e,r,f,A,a,null)}r=d,a=y,e.multiple=!!l,r!=null?Ft(e,!!l,r,!1):a!=null&&Ft(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(A=a[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Jt(e,r,y,A,a,null)}br(e,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,r,O,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Cl.length;l++)xt(Cl[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,H,l,a,null)}return;default:if(Qo(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&gm(e,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Jt(e,r,A,l,a,null))}function wb(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,A=null,O=null,H=null,$=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(Y)||Jt(e,r,Y,null,l,Z)}}for(var F in l){var Y=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(Y!=null||Z!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":$=Y;break;case"value":y=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==Z&&Jt(e,r,F,Y,l,Z)}}Rr(e,y,A,O,H,$,d,f);return;case"select":Y=y=A=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||Jt(e,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==O&&Jt(e,r,f,d,l,O)}r=A,a=y,l=Y,F!=null?Ft(e,!!a,F,!1):!!l!=!!a&&(r!=null?Ft(e,!!a,r,!0):Ft(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Jt(e,r,A,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Jt(e,r,y,f,l,d)}Vs(e,F,Y);return;case"option":for(var ht in a)if(F=a[ht],a.hasOwnProperty(ht)&&F!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Jt(e,r,ht,null,l,F)}for(O in l)if(F=l[O],Y=a[O],l.hasOwnProperty(O)&&F!==Y&&(F!=null||Y!=null))switch(O){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Jt(e,r,O,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)F=a[vt],a.hasOwnProperty(vt)&&F!=null&&!l.hasOwnProperty(vt)&&Jt(e,r,vt,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Jt(e,r,H,F,l,Y)}return;default:if(Qo(r)){for(var Wt in a)F=a[Wt],a.hasOwnProperty(Wt)&&F!==void 0&&!l.hasOwnProperty(Wt)&&gm(e,r,Wt,void 0,l,F);for($ in l)F=l[$],Y=a[$],!l.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||gm(e,r,$,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Jt(e,r,P,null,l,F);for(Z in l)F=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||F===Y||F==null&&Y==null||Jt(e,r,Z,F,l,Y)}function CE(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,A=f.duration;if(d&&A&&CE(y)){for(y=0,A=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],H=O.startTime;if(H>A)break;var $=O.transferSize,Z=O.initiatorType;$&&CE(Z)&&(O=O.responseEnd,y+=$*(O<A?1:(A-H)/(O-H)))}if(--l,r+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _m=null,ym=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function OE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NE(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Em(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===vm?!1:(vm=e,!0):(vm=null,!1)}var DE=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(e){return ME.resolve(null).then(e).catch(Mb)}:DE;function Mb(e){setTimeout(function(){throw e})}function Jr(e){return e==="head"}function xE(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),so(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[Li]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Nl(e.ownerDocument.body);a=f}while(a);so(r)}function LE(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Tm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xb(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Li])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function Lb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function VE(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Kn(e.nextSibling),e===null))return null;return e}function Am(e){return e.data==="$?"||e.data==="$~"}function Sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vb(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Im=null;function UE(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Kn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function PE(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function kE(e,r,a){switch(r=zc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Nl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ms(e)}var Qn=new Map,BE=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=ot.d;ot.d={f:Ub,r:Pb,D:kb,C:Bb,L:zb,m:jb,X:Fb,S:Hb,M:Gb};function Ub(){var e=nr.f(),r=Mc();return e||r}function Pb(e){var r=Ui(e);r!==null&&r.tag===5&&r.type==="form"?ny(r):nr.r(e)}var no=typeof document>"u"?null:document;function zE(e,r,a){var l=no;if(l&&typeof r=="string"&&r){var f=he(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),BE.has(f)||(BE.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ye(r,"link",e),ge(r),l.head.appendChild(r)))}}function kb(e){nr.D(e),zE("dns-prefetch",e,null)}function Bb(e,r){nr.C(e,r),zE("preconnect",e,r)}function zb(e,r,a){nr.L(e,r,a);var l=no;if(l&&e&&r){var f='link[rel="preload"][as="'+he(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+he(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+he(a.imageSizes)+'"]')):f+='[href="'+he(e)+'"]';var d=f;switch(r){case"style":d=io(e);break;case"script":d=ro(e)}Qn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Qn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),Ye(r,"link",e),ge(r),l.head.appendChild(r)))}}function jb(e,r){nr.m(e,r);var a=no;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(e)}if(!Qn.has(d)&&(e=T({rel:"modulepreload",href:e},r),Qn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Ye(l,"link",e),ge(l),a.head.appendChild(l)}}}function Hb(e,r,a){nr.S(e,r,a);var l=no;if(l&&e){var f=ni(l).hoistableStyles,d=io(e);r=r||"default";var y=f.get(d);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Dl(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Qn.get(d))&&Rm(e,a);var O=y=l.createElement("link");ge(O),Ye(O,"link",e),O._p=new Promise(function(H,$){O.onload=H,O.onerror=$}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hc(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:A},f.set(d,y)}}}function Fb(e,r){nr.X(e,r);var a=no;if(a&&e){var l=ni(a).hoistableScripts,f=ro(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0},r),(r=Qn.get(f))&&bm(e,r),d=a.createElement("script"),ge(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Gb(e,r){nr.M(e,r);var a=no;if(a&&e){var l=ni(a).hoistableScripts,f=ro(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Qn.get(f))&&bm(e,r),d=a.createElement("script"),ge(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function jE(e,r,a,l){var f=(f=Tt.current)?jc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=ni(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=io(a.href);var d=ni(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(Dl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),d||qb(f,e,a,y.state))),r&&l===null)throw Error(s(528,""));return y}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=ni(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function io(e){return'href="'+he(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function HE(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function qb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ye(r,"link",a),ge(r),e.head.appendChild(r))}function ro(e){return'[src="'+he(e)+'"]'}function Ml(e){return"script[async]"+e}function FE(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+he(a.href)+'"]');if(l)return r.instance=l,ge(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ge(l),Ye(l,"style",f),Hc(l,a.precedence,e),r.instance=l;case"stylesheet":f=io(a.href);var d=e.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,ge(d),d;l=HE(a),(f=Qn.get(f))&&Rm(l,f),d=(e.ownerDocument||e).createElement("link"),ge(d);var y=d;return y._p=new Promise(function(A,O){y.onload=A,y.onerror=O}),Ye(d,"link",l),r.state.loading|=4,Hc(d,a.precedence,e),r.instance=d;case"script":return d=ro(a.src),(f=e.querySelector(Ml(d)))?(r.instance=f,ge(f),f):(l=a,(f=Qn.get(d))&&(l=T({},a),bm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ge(f),Ye(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hc(l,a.precedence,e));return r.instance}function Hc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Rm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function bm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Fc=null;function GE(e,r,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Li]||d[ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=e+y;var A=l.get(y);A?A.push(d):l.set(y,[d])}}return l}function qE(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Yb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function YE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kb(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=io(l.href),d=r.querySelector(Dl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Gc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,ge(d);return}d=r.ownerDocument||r,l=HE(l),(f=Qn.get(f))&&Rm(l,f),d=d.createElement("link"),ge(d);var y=d;y._p=new Promise(function(A,O){y.onload=A,y.onerror=O}),Ye(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var wm=0;function Qb(e,r){return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&wm===0&&(wm=62500*Cb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>wm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Yc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,r.forEach($b,e),qc=null,Gc.call(e))}function $b(e,r){if(!(r.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var xl={$$typeof:W,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Xb(e,r,a,l,f,d,y,A,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function KE(e,r,a,l,f,d,y,A,O,H,$,Z){return e=new Xb(e,r,a,y,O,H,$,Z,A),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),e.current=d,d.stateNode=e,r=ad(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},cd(d),e}function QE(e){return e?(e=Va,e):Va}function $E(e,r,a,l,f,d){f=QE(f),l.context===null?l.context=f:l.pendingContext=f,l=zr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(e,l,r),a!==null&&(Tn(a,e,r),hl(a,e,r))}function XE(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Cm(e,r){XE(e,r),(e=e.alternate)&&XE(e,r)}function JE(e){if(e.tag===13||e.tag===31){var r=Gs(e,67108864);r!==null&&Tn(r,e,67108864),Cm(e,67108864)}}function WE(e){if(e.tag===13||e.tag===31){var r=Mn();r=jo(r);var a=Gs(e,r);a!==null&&Tn(a,e,r),Cm(e,r)}}var Kc=!0;function Jb(e,r,a,l){var f=Q.T;Q.T=null;var d=ot.p;try{ot.p=2,Om(e,r,a,l)}finally{ot.p=d,Q.T=f}}function Wb(e,r,a,l){var f=Q.T;Q.T=null;var d=ot.p;try{ot.p=8,Om(e,r,a,l)}finally{ot.p=d,Q.T=f}}function Om(e,r,a,l){if(Kc){var f=Nm(l);if(f===null)pm(e,r,l,Qc,a),tv(e,l);else if(tw(f,e,r,a,l))l.stopPropagation();else if(tv(e,l),r&4&&-1<Zb.indexOf(e)){for(;f!==null;){var d=Ui(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ei(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var O=1<<31-sn(y);A.entanglements[1]|=O,y&=~O}Ai(d),(Yt&6)===0&&(Nc=ze()+500,wl(0))}}break;case 31:case 13:A=Gs(d,2),A!==null&&Tn(A,d,2),Mc(),Cm(d,2)}if(d=Nm(l),d===null&&pm(e,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else pm(e,r,l,null,a)}}function Nm(e){return e=wa(e),Dm(e)}var Qc=null;function Dm(e){if(Qc=null,e=Vi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Qc=e,null}function ZE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case Ne:return 2;case xe:return 8;case Di:case Cu:return 32;case Po:return 268435456;default:return 32}default:return 32}}var Mm=!1,Wr=null,Zr=null,ts=null,Ll=new Map,Vl=new Map,es=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(e,r){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Ul(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ui(r),r!==null&&JE(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function tw(e,r,a,l,f){switch(r){case"focusin":return Wr=Ul(Wr,e,r,a,l,f),!0;case"dragenter":return Zr=Ul(Zr,e,r,a,l,f),!0;case"mouseover":return ts=Ul(ts,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,Ul(Ll.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Vl.set(d,Ul(Vl.get(d)||null,e,r,a,l,f)),!0}return!1}function ev(e){var r=Vi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Nu(e.priority,function(){WE(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Nu(e.priority,function(){WE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Nm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ba=l,a.target.dispatchEvent(l),ba=null}else return r=Ui(a),r!==null&&JE(r),e.blockedOn=a,!1;r.shift()}return!0}function nv(e,r,a){$c(e)&&a.delete(r)}function ew(){Mm=!1,Wr!==null&&$c(Wr)&&(Wr=null),Zr!==null&&$c(Zr)&&(Zr=null),ts!==null&&$c(ts)&&(ts=null),Ll.forEach(nv),Vl.forEach(nv)}function Xc(e,r){e.blockedOn===r&&(e.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ew)))}var Jc=null;function iv(e){Jc!==e&&(Jc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Dm(l||a)===null)continue;break}var d=Ui(a);d!==null&&(e.splice(r,3),r-=3,Nd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function so(e){function r(O){return Xc(O,e)}Wr!==null&&Xc(Wr,e),Zr!==null&&Xc(Zr,e),ts!==null&&Xc(ts,e),Ll.forEach(r),Vl.forEach(r);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&es.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[He]||null;if(typeof d=="function")y||iv(a);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[He]||null)A=y.formAction;else if(Dm(f)!==null)continue}else A=y.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),iv(a)}}}function rv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function xm(e){this._internalRoot=e}Wc.prototype.render=xm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Mn();$E(a,l,e,r,null,null)},Wc.prototype.unmount=xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;$E(e.current,2,null,e,null,null),Mc(),r[di]=null}};function Wc(e){this._internalRoot=e}Wc.prototype.unstable_scheduleHydration=function(e){if(e){var r=xi();e={blockedOn:null,target:e,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,e),a===0&&ev(e)}};var sv=t.version;if(sv!=="19.2.3")throw Error(s(527,sv,"19.2.3"));ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{pr=Zc.inject(nw),Je=Zc}catch{}}return kl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=fy,d=dy,y=my;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=KE(e,1,!1,null,null,a,l,null,f,d,y,rv),e[di]=r.current,mm(e),new xm(r)},kl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=fy,y=dy,A=my,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=KE(e,1,!0,r,a??null,l,f,O,d,y,A,rv),r.context=QE(null),a=r.current,l=Mn(),l=jo(l),f=zr(l),f.callback=null,jr(a,f,l),a=l,r.current.lanes=a,yr(r,a),Ai(r),e[di]=r.current,mm(e),new Wc(r)},kl.version="19.2.3",kl}var pv;function mw(){if(pv)return Um.exports;pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Um.exports=dw(),Um.exports}var pw=mw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gv="popstate";function gw(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=da(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),rp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return yw(t,n,s,i)}function le(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Un(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _w(){return Math.random().toString(36).substring(2,10)}function _v(i,t){return{usr:i.state,key:i.key,idx:t}}function rp(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?da(t):t,state:n,key:t&&t.key||s||_w()}}function tu({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function da(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function yw(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let M=v(),et=M==null?null:M-g;g=M,p&&p({action:m,location:z.location,delta:et})}function S(M,et){m="PUSH";let st=rp(z.location,M,et);n&&n(st,M),g=v()+1;let W=_v(st,g),ft=z.createHref(st);try{h.pushState(W,"",ft)}catch(St){if(St instanceof DOMException&&St.name==="DataCloneError")throw St;o.location.assign(ft)}u&&p&&p({action:m,location:z.location,delta:1})}function b(M,et){m="REPLACE";let st=rp(z.location,M,et);n&&n(st,M),g=v();let W=_v(st,g),ft=z.createHref(st);h.replaceState(W,"",ft),u&&p&&p({action:m,location:z.location,delta:0})}function V(M){return Ew(M)}let z={get action(){return m},get location(){return i(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,T),p=M,()=>{o.removeEventListener(gv,T),p=null}},createHref(M){return t(o,M)},createURL:V,encodeLocation(M){let et=V(M);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:S,replace:b,go(M){return h.go(M)}};return z}function Ew(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:tu(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cA(i,t,n="/"){return vw(i,t,n,!1)}function vw(i,t,n,s){let o=typeof t=="string"?da(t):t,u=lr(o.pathname||"/",n);if(u==null)return null;let h=hA(i);Tw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Mw(u);m=Nw(h[p],g,s)}return m}function hA(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;le(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=ar([s,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(le(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),hA(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Cw(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of fA(h.path))u(h,m,!0,g)}),t}function fA(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=fA(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Tw(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Ow(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Sw=3,Iw=2,Rw=1,bw=10,ww=-2,yv=i=>i==="*";function Cw(i,t){let n=i.split("/"),s=n.length;return n.some(yv)&&(s+=ww),t&&(s+=Iw),n.filter(o=>!yv(o)).reduce((o,u)=>o+(Aw.test(u)?Sw:u===""?Rw:bw),s)}function Ow(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function Nw(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ar([u,T.pathname]),pathnameBase:Uw(ar([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return h}function Nh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Dw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const b=m[S];return T&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Dw(i,t=!1,n=!0){Un(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Mw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function lr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xw=i=>dA.test(i);function Lw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?da(i):i,u;if(n)if(xw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Ev(n.substring(1),"/"):u=Ev(n,t)}else u=t;return{pathname:u,search:Pw(s),hash:kw(o)}}function Ev(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mA(i){let t=Vw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function pA(i,t,n,s=!1){let o;typeof i=="string"?o=da(i):(o={...i},le(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=Lw(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ar=i=>i.join("/").replace(/\/\/+/g,"/"),Uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Bw=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jw(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _A(i,t){let n=i;if(typeof n!="string"||!dA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(gA)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=lr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Un(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yA=["POST","PUT","PATCH","DELETE"];new Set(yA);var Hw=["GET",...yA];new Set(Hw);var wo=q.createContext(null);wo.displayName="DataRouter";var nf=q.createContext(null);nf.displayName="DataRouterState";var Fw=q.createContext(!1),EA=q.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var Gw=q.createContext(new Map);Gw.displayName="Fetchers";var qw=q.createContext(null);qw.displayName="Await";var Zn=q.createContext(null);Zn.displayName="Navigation";var lu=q.createContext(null);lu.displayName="Location";var dr=q.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var zp=q.createContext(null);zp.displayName="RouteError";var vA="REACT_ROUTER_ERROR",Yw="REDIRECT",Kw="ROUTE_ERROR_RESPONSE";function Qw(i){if(i.startsWith(`${vA}:${Yw}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function $w(i){if(i.startsWith(`${vA}:${Kw}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Bw(t.status,t.statusText,t.data)}catch{}}function Xw(i,{relative:t}={}){le(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Zn),{hash:o,pathname:u,search:h}=cu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:h,hash:o})}function uu(){return q.useContext(lu)!=null}function Is(){return le(uu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(lu).location}var TA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AA(i){q.useContext(Zn).static||q.useLayoutEffect(i)}function jp(){let{isDataRoute:i}=q.useContext(dr);return i?u1():Jw()}function Jw(){le(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(wo),{basename:t,navigator:n}=q.useContext(Zn),{matches:s}=q.useContext(dr),{pathname:o}=Is(),u=JSON.stringify(mA(s)),h=q.useRef(!1);return AA(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(Un(h.current,TA),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=pA(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ar([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}q.createContext(null);function cu(i,{relative:t}={}){let{matches:n}=q.useContext(dr),{pathname:s}=Is(),o=JSON.stringify(mA(n));return q.useMemo(()=>pA(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Ww(i,t){return SA(i,t)}function SA(i,t,n,s,o){var st;le(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Zn),{matches:h}=q.useContext(dr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";RA(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=Is(),b;if(t){let W=typeof t=="string"?da(t):t;le(v==="/"||((st=W.pathname)==null?void 0:st.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),b=W}else b=S;let V=b.pathname||"/",z=V;if(v!=="/"){let W=v.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=cA(i,{pathname:z});Un(T||M!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Un(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=i1(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ar([v,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ar([v,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return t&&et?q.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},et):et}function Zw(){let i=l1(),t=zw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,h)}var t1=q.createElement(Zw,null),IA=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=$w(i.digest);n&&(i=n)}let t=i!==void 0?q.createElement(dr.Provider,{value:this.props.routeContext},q.createElement(zp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?q.createElement(e1,{error:i},t):t}};IA.contextType=Fw;var jm=new WeakMap;function e1({children:i,error:t}){let{basename:n}=q.useContext(Zn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Qw(t.digest);if(s){let o=jm.get(t);if(o)throw o;let u=_A(s.location,n);if(gA&&!jm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw jm.set(t,h),h}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function n1({routeContext:i,match:t,children:n}){let s=q.useContext(wo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(dr.Provider,{value:i},n)}function i1(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);le(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:b}=n,V=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!b||b[T.route.id]===void 0);if(T.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{var S,b;s(v,{location:n.location,params:((b=(S=n.matches)==null?void 0:S[0])==null?void 0:b.params)??{},unstable_pattern:jw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,S)=>{let b,V=!1,z=null,M=null;n&&(b=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||t1,m&&(p<0&&S===0?(RA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,M=null):p===S&&(V=!0,M=T.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,S+1)),st=()=>{let W;return b?W=z:V?W=M:T.route.Component?W=q.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=v,q.createElement(n1,{match:T,routeContext:{outlet:v,matches:et,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?q.createElement(IA,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:st(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:g}):st()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(i){let t=q.useContext(wo);return le(t,Hp(i)),t}function s1(i){let t=q.useContext(nf);return le(t,Hp(i)),t}function a1(i){let t=q.useContext(dr);return le(t,Hp(i)),t}function Fp(i){let t=a1(i),n=t.matches[t.matches.length-1];return le(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function o1(){return Fp("useRouteId")}function l1(){var s;let i=q.useContext(zp),t=s1("useRouteError"),n=Fp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function u1(){let{router:i}=r1("useNavigate"),t=Fp("useNavigate"),n=q.useRef(!1);return AA(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Un(n.current,TA),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var vv={};function RA(i,t,n){!t&&!vv[i]&&(vv[i]=!0,Un(!1,n))}q.memo(c1);function c1({routes:i,future:t,state:n,onError:s}){return SA(i,void 0,n,s,t)}function sp(i){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){le(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=da(n));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:b="default"}=n,V=q.useMemo(()=>{let z=lr(g,m);return z==null?null:{location:{pathname:z,search:v,hash:T,state:S,key:b},navigationType:s}},[m,g,v,T,S,b,s]);return Un(V!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:q.createElement(Zn.Provider,{value:p},q.createElement(lu.Provider,{children:t,value:V}))}function f1({children:i,location:t}){return Ww(ap(i),t)}function ap(i,t=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...t,o];if(s.type===q.Fragment){n.push.apply(n,ap(s.props.children,u));return}le(s.type===sp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ap(s.props.children,u)),n.push(h)}),n}var _h="get",yh="application/x-www-form-urlencoded";function rf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function d1(i){return rf(i)&&i.tagName.toLowerCase()==="button"}function m1(i){return rf(i)&&i.tagName.toLowerCase()==="form"}function p1(i){return rf(i)&&i.tagName.toLowerCase()==="input"}function g1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _1(i,t){return i.button===0&&(!t||t==="_self")&&!g1(i)}function op(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,n)=>{let s=i[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function y1(i,t){let n=op(i);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var th=null;function E1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!v1.has(i)?(Un(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function T1(i,t){let n,s,o,u,h;if(m1(i)){let m=i.getAttribute("action");s=m?lr(m,t):null,n=i.getAttribute("method")||_h,o=Hm(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(d1(i)||p1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Hm(i.getAttribute("formenctype"))||Hm(m.getAttribute("enctype"))||yh,u=new FormData(m,i),!E1()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=yh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function A1(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&lr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function S1(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return O1(s.flat(1).filter(I1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(i,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function b1(i,t,{includeHydrateFallback:n}={}){return w1(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function w1(i){return[...new Set(i)]}function C1(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function O1(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function bA(){let i=q.useContext(wo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function N1(){let i=q.useContext(nf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qp=q.createContext(void 0);qp.displayName="FrameworkContext";function wA(){let i=q.useContext(qp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function D1(i,t){let n=q.useContext(qp),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,S=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=et=>{et.forEach(st=>{h(st.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[i]),q.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let b=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,b),onBlur:Bl(p,V),onMouseEnter:Bl(g,b),onMouseLeave:Bl(v,V),onTouchStart:Bl(T,b)}]:[!1,S,{}]}function Bl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function M1({page:i,...t}){let{router:n}=bA(),s=q.useMemo(()=>cA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(L1,{page:i,matches:s,...t}):null}function x1(i){let{manifest:t,routeModules:n}=wA(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return R1(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function L1({page:i,matches:t,...n}){let s=Is(),{future:o,manifest:u,routeModules:h}=wA(),{basename:m}=bA(),{loaderData:p,matches:g}=N1(),v=q.useMemo(()=>Tv(i,t,g,u,s,"data"),[i,t,g,u,s]),T=q.useMemo(()=>Tv(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,M=!1;if(t.forEach(st=>{var ft;let W=u.routes[st.route.id];!W||!W.hasLoader||(!v.some(St=>St.route.id===st.route.id)&&st.route.id in p&&((ft=h[st.route.id])!=null&&ft.shouldRevalidate)||W.hasClientLoader?M=!0:z.add(st.route.id))}),z.size===0)return[];let et=A1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return M&&z.size>0&&et.searchParams.set("_routes",t.filter(st=>z.has(st.route.id)).map(st=>st.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,i,h]),b=q.useMemo(()=>b1(T,u),[T,u]),V=x1(T);return q.createElement(q.Fragment,null,S.map(z=>q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>q.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),V.map(({key:z,link:M})=>q.createElement("link",{key:z,nonce:n.nonce,...M})))}function V1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U1&&(window.__reactRouterVersion="7.12.0")}catch{}function P1({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=gw({window:s,v5Compat:!0}));let u=o.current,[h,m]=q.useState({action:u.action,location:u.location}),p=q.useCallback(g=>{n===!1?m(g):q.startTransition(()=>m(g))},[n]);return q.useLayoutEffect(()=>u.listen(p),[u,p]),q.createElement(h1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V){let{basename:z,unstable_useTransitions:M}=q.useContext(Zn),et=typeof g=="string"&&CA.test(g),st=_A(g,z);g=st.to;let W=Xw(g,{relative:o}),[ft,St,yt]=D1(s,b),D=j1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:M});function R(L){t&&t(L),L.defaultPrevented||D(L)}let w=q.createElement("a",{...b,...yt,href:st.absoluteURL||W,onClick:st.isExternal||u?t:R,ref:V1(V,St),target:p,"data-discover":!et&&n==="render"?"true":void 0});return ft&&!et?q.createElement(q.Fragment,null,w,q.createElement(M1,{page:W})):w});OA.displayName="Link";var k1=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=cu(h,{relative:g.relative}),S=Is(),b=q.useContext(nf),{navigator:V,basename:z}=q.useContext(Zn),M=b!=null&&K1(T)&&m===!0,et=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,st=S.pathname,W=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(st=st.toLowerCase(),W=W?W.toLowerCase():null,et=et.toLowerCase()),W&&z&&(W=lr(W,z)||W);const ft=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let St=st===et||!o&&st.startsWith(et)&&st.charAt(ft)==="/",yt=W!=null&&(W===et||!o&&W.startsWith(et)&&W.charAt(et.length)==="/"),D={isActive:St,isPending:yt,isTransitioning:M},R=St?t:void 0,w;typeof s=="function"?w=s(D):w=[s,St?"active":null,yt?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(D):u;return q.createElement(OA,{...g,"aria-current":R,className:w,ref:v,style:L,to:h,viewTransition:m},typeof p=="function"?p(D):p)});k1.displayName="NavLink";var B1=q.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V)=>{let{unstable_useTransitions:z}=q.useContext(Zn),M=q1(),et=Y1(m,{relative:g}),st=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&CA.test(m),ft=St=>{if(p&&p(St),St.defaultPrevented)return;St.preventDefault();let yt=St.nativeEvent.submitter,D=(yt==null?void 0:yt.getAttribute("formmethod"))||h,R=()=>M(yt||St.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?q.startTransition(()=>R()):R()};return q.createElement("form",{ref:V,method:st,action:et,onSubmit:s?p:ft,...b,"data-discover":!W&&i==="render"?"true":void 0})});B1.displayName="Form";function z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(i){let t=q.useContext(wo);return le(t,z1(i)),t}function j1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=jp(),v=Is(),T=cu(i,{relative:u});return q.useCallback(S=>{if(_1(S,t)){S.preventDefault();let b=n!==void 0?n:tu(v)===tu(T),V=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?q.startTransition(()=>V()):V()}},[v,g,T,n,s,t,i,o,u,h,m,p])}function H1(i){Un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=q.useRef(op(i)),n=q.useRef(!1),s=Is(),o=q.useMemo(()=>y1(s.search,n.current?null:t.current),[s.search]),u=jp(),h=q.useCallback((m,p)=>{const g=op(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var F1=0,G1=()=>`__${String(++F1)}__`;function q1(){let{router:i}=NA("useSubmit"),{basename:t}=q.useContext(Zn),n=o1(),s=i.fetch,o=i.navigate;return q.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=T1(u,t);if(h.navigate===!1){let S=h.fetcherKey||G1();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function Y1(i,{relative:t}={}){let{basename:n}=q.useContext(Zn),s=q.useContext(dr);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:t})},h=Is();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),tu(u)}function K1(i,{relative:t}={}){let n=q.useContext(EA);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NA("useViewTransitionState"),o=cu(i,{relative:t});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DA=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=q.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>q.createElement("svg",{ref:p,...$1,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:DA("lucide",o),...m},[...h.map(([g,v])=>q.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(i,t)=>{const n=q.forwardRef(({className:s,...o},u)=>q.createElement(X1,{ref:u,iconNode:t,className:DA(`lucide-${Q1(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=mn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=mn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=mn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=mn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=mn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=mn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=mn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=mn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=mn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=mn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=mn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=mn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=mn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=mn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=mn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aC=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},oC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},VA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,b=g&63;p||(b=64,h||(S=64)),s.push(n[v],n[T],n[S],n[b])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(LA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):oC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new lC;const S=u<<2|m>>4;if(s.push(S),g!==64){const b=m<<4&240|g>>2;if(s.push(b),T!==64){const V=g<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uC=function(i){const t=LA(i);return VA.encodeByteArray(t,!0)},Mh=function(i){return uC(i).replace(/\./g,"")},UA=function(i){try{return VA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=()=>cC().__FIREBASE_DEFAULTS__,fC=()=>{if(typeof process>"u"||typeof Sv>"u")return;const i=Sv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&UA(i[1]);return t&&JSON.parse(t)},sf=()=>{try{return aC()||hC()||fC()||dC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},PA=i=>{var t,n;return(n=(t=sf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},mC=i=>{const t=PA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},kA=()=>{var i;return(i=sf())===null||i===void 0?void 0:i.config},BA=i=>{var t;return(t=sf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const Yl={};function _C(){const i={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?i.emulator.push(t):i.prod.push(t);return i}function yC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let Iv=!1;function jA(i,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Yl[i]===t||Yl[i]||Iv)return;Yl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=_C().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Iv=!0,h()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=yC(s),b=n("text"),V=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),M=document.getElementById(z)||document.createElement("a"),et=n("preprendIcon"),st=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;m(W),v(M,z);const ft=g();p(st,et),W.append(st,V,M,ft),document.body.appendChild(W)}u?(V.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function vC(){var i;const t=(i=sf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IC(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function RC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FirebaseError";class mr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=CC,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?OC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function OC(i,t){return i.replace(NC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const NC=/\{\$([^}]+)}/g;function DC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ps(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(Rv(u)&&Rv(h)){if(!ps(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function MC(i,t){const n=new xC(i,t);return n.subscribe.bind(n)}class xC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i){return i&&i._delegate?i._delegate:i}class ua{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new pC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PC(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UC(i){return i===ia?void 0:i}function PC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ut||(Ut={}));const BC={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},zC=Ut.INFO,jC={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},HC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=jC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yp{constructor(t){this.name=t,this._logLevel=zC,this._logHandler=HC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const FC=(i,t)=>t.some(n=>i instanceof n);let bv,wv;function GC(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HA=new WeakMap,lp=new WeakMap,FA=new WeakMap,Gm=new WeakMap,Kp=new WeakMap;function YC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ls(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&HA.set(n,i)}).catch(()=>{}),Kp.set(t,i),t}function KC(i){if(lp.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,t)}let up={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return lp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||FA.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function QC(i){up=i(up)}function $C(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(qm(this),t,...n);return FA.set(s,t.sort?t.sort():[t]),ls(s)}:qC().includes(i)?function(...t){return i.apply(qm(this),t),ls(HA.get(this))}:function(...t){return ls(i.apply(qm(this),t))}}function XC(i){return typeof i=="function"?$C(i):(i instanceof IDBTransaction&&KC(i),FC(i,GC())?new Proxy(i,up):i)}function ls(i){if(i instanceof IDBRequest)return YC(i);if(Gm.has(i))return Gm.get(i);const t=XC(i);return t!==i&&(Gm.set(i,t),Kp.set(t,i)),t}const qm=i=>Kp.get(i);function JC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=ls(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ls(h.result),p.oldVersion,p.newVersion,ls(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Ym=new Map;function Cv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ym.get(t))return Ym.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ZC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Ym.set(t,u),u}QC(i=>({...i,get:(t,n,s)=>Cv(t,n)||i.get(t,n,s),has:(t,n)=>!!Cv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eO(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cp="@firebase/app",Ov="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Yp("@firebase/app"),nO="@firebase/app-compat",iO="@firebase/analytics-compat",rO="@firebase/analytics",sO="@firebase/app-check-compat",aO="@firebase/app-check",oO="@firebase/auth",lO="@firebase/auth-compat",uO="@firebase/database",cO="@firebase/data-connect",hO="@firebase/database-compat",fO="@firebase/functions",dO="@firebase/functions-compat",mO="@firebase/installations",pO="@firebase/installations-compat",gO="@firebase/messaging",_O="@firebase/messaging-compat",yO="@firebase/performance",EO="@firebase/performance-compat",vO="@firebase/remote-config",TO="@firebase/remote-config-compat",AO="@firebase/storage",SO="@firebase/storage-compat",IO="@firebase/firestore",RO="@firebase/ai",bO="@firebase/firestore-compat",wO="firebase",CO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",OO={[cp]:"fire-core",[nO]:"fire-core-compat",[rO]:"fire-analytics",[iO]:"fire-analytics-compat",[aO]:"fire-app-check",[sO]:"fire-app-check-compat",[oO]:"fire-auth",[lO]:"fire-auth-compat",[uO]:"fire-rtdb",[cO]:"fire-data-connect",[hO]:"fire-rtdb-compat",[fO]:"fire-fn",[dO]:"fire-fn-compat",[mO]:"fire-iid",[pO]:"fire-iid-compat",[gO]:"fire-fcm",[_O]:"fire-fcm-compat",[yO]:"fire-perf",[EO]:"fire-perf-compat",[vO]:"fire-rc",[TO]:"fire-rc-compat",[AO]:"fire-gcs",[SO]:"fire-gcs-compat",[IO]:"fire-fst",[bO]:"fire-fst-compat",[RO]:"fire-vertex","fire-js":"fire-js",[wO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,NO=new Map,fp=new Map;function Nv(i,t){try{i.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Eo(i){const t=i.name;if(fp.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;fp.set(t,i);for(const n of xh.values())Nv(n,i);for(const n of NO.values())Nv(n,i);return!0}function Qp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new hu("app","Firebase",DO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=CO;function GA(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:hp,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=kA()),!n)throw us.create("no-options");const u=xh.get(o);if(u){if(ps(n,u.options)&&ps(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new kC(o);for(const p of fp.values())h.addComponent(p);const m=new MO(n,s,h);return xh.set(o,m),m}function qA(i=hp){const t=xh.get(i);if(!t&&i===hp&&kA())return GA();if(!t)throw us.create("no-app",{appName:i});return t}function cs(i,t,n){var s;let o=(s=OO[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(m.join(" "));return}Eo(new ua(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-heartbeat-database",LO=1,eu="firebase-heartbeat-store";let Km=null;function YA(){return Km||(Km=JC(xO,LO,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),Km}async function VO(i){try{const n=(await YA()).transaction(eu),s=await n.objectStore(eu).get(KA(i));return await n.done,s}catch(t){if(t instanceof mr)ur.warn(t.message);else{const n=us.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ur.warn(n.message)}}}async function Dv(i,t){try{const s=(await YA()).transaction(eu,"readwrite");await s.objectStore(eu).put(t,KA(i)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function KA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1024,PO=30;class kO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PO){const h=jO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:o}=BO(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ur.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function BO(i,t=UO){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function xv(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function jO(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(i){Eo(new ua("platform-logger",t=>new tO(t),"PRIVATE")),Eo(new ua("heartbeat",t=>new kO(t),"PRIVATE")),cs(cp,Ov,i),cs(cp,Ov,"esm2017"),cs("fire-js","")}HO("");function $p(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function QA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=QA,$A=new hu("auth","Firebase",QA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Yp("@firebase/auth");function GO(i,...t){Lh.logLevel<=Ut.WARN&&Lh.warn(`Auth (${Oo}): ${i}`,...t)}function Eh(i,...t){Lh.logLevel<=Ut.ERROR&&Lh.error(`Auth (${Oo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(i,...t){throw Jp(i,...t)}function li(i,...t){return Jp(i,...t)}function Xp(i,t,n){const s=Object.assign(Object.assign({},FO()),{[t]:n});return new hu("auth","Firebase",s).create(t,{appName:i.name})}function hs(i){return Xp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XA(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ci(i,"argument-error"),Xp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return $A.create(i,...t)}function It(i,t,...n){if(!i)throw Jp(t,...n)}function rr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Eh(t),new Error(t)}function cr(i,t){i||rr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function qO(){return Lv()==="http:"||Lv()==="https:"}function Lv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qO()||AC()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=EC()||SC()}get(){return YO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,t){cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XO=new du(3e4,6e4);function Zp(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function No(i,t,n,s,o={}){return WA(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=fu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return TC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Co(i.emulatorConfig.host)&&(g.credentials="include"),JA.fetch()(await ZA(i,i.config.apiHost,n,m),g)})}async function WA(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QO),t);try{const o=new WO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ih(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xp(i,v,g);Ci(i,v)}}catch(o){if(o instanceof mr)throw o;Ci(i,"network-request-failed",{message:String(o)})}}async function JO(i,t,n,s,o={}){const u=await No(i,t,n,s,o);return"mfaPendingCredential"in u&&Ci(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZA(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Wp(i.config,o):`${i.config.apiScheme}://${o}`;return $O.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class WO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),XO.get())})}}function ih(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(i,t){return No(i,"POST","/v1/accounts:delete",t)}async function Vh(i,t){return No(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tN(i,t=!1){const n=Ce(i),s=await n.getIdToken(t),o=tg(s);It(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Qm(o.auth_time)),issuedAtTime:Kl(Qm(o.iat)),expirationTime:Kl(Qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qm(i){return Number(i)*1e3}function tg(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=UA(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(i){const t=tg(i);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof mr&&eN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function eN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await nu(i,Vh(n,{idToken:s}));It(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?tS(u.providerUserInfo):[],m=rN(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new mp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function iN(i){const t=Ce(i);await Uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rN(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function tS(i){return i.map(t=>{var{providerId:n}=t,s=$p(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(i,t){const n=await WA(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ZA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Co(i.emulatorConfig.host)&&(p.credentials="include"),JA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(i,t){return No(i,"POST","/v2/accounts:revokeToken",Zp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){It(t.length!==0,"internal-error");const n=Vv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sN(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new mo;return s&&(It(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(It(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(It(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(i,t){It(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class oi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=$p(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new mp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tN(this,t)}reload(){return iN(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new oi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await nu(this,ZO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=n.createdAt)!==null&&g!==void 0?g:void 0,st=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:ft,isAnonymous:St,providerData:yt,stsTokenManager:D}=n;It(W&&D,t,"internal-error");const R=mo.fromJSON(this.name,D);It(typeof W=="string",t,"internal-error"),is(T,t.name),is(S,t.name),It(typeof ft=="boolean",t,"internal-error"),It(typeof St=="boolean",t,"internal-error"),is(b,t.name),is(V,t.name),is(z,t.name),is(M,t.name),is(et,t.name),is(st,t.name);const w=new oi({uid:W,auth:t,email:S,emailVerified:ft,displayName:T,isAnonymous:St,photoURL:V,phoneNumber:b,tenantId:z,stsTokenManager:R,createdAt:et,lastLoginAt:st});return yt&&Array.isArray(yt)&&(w.providerData=yt.map(L=>Object.assign({},L))),M&&(w._redirectEventId=M),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];It(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function sr(i){cr(i instanceof Function,"Expected a class definition");let t=Uv.get(i);return t?(cr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Uv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}eS.type="NONE";const Pv=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,t,n){return`firebase:${i}:${t}:${n}`}class po{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vh(this.auth,{idToken:t}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new po(sr(Pv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(Pv);const h=vh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const S=await Vh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await oi._fromGetAccountInfoResponse(t,S,v)}else T=oi._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oS(t))return"Blackberry";if(lS(t))return"Webos";if(iS(t))return"Safari";if((t.includes("chrome/")||rS(t))&&!t.includes("edge/"))return"Chrome";if(aS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function nS(i=rn()){return/firefox\//i.test(i)}function iS(i=rn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rS(i=rn()){return/crios\//i.test(i)}function sS(i=rn()){return/iemobile/i.test(i)}function aS(i=rn()){return/android/i.test(i)}function oS(i=rn()){return/blackberry/i.test(i)}function lS(i=rn()){return/webos/i.test(i)}function eg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oN(i=rn()){var t;return eg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function lN(){return IC()&&document.documentMode===10}function uS(i=rn()){return eg(i)||aS(i)||lS(i)||oS(i)||/windows phone/i.test(i)||sS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(i,t=[]){let n;switch(i){case"Browser":n=kv(rn());break;case"Worker":n=`${kv(rn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(i,t={}){return No(i,"GET","/v2/passwordPolicy",Zp(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=6;class fN{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:hN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vh(this,{idToken:t}),s=await oi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Uh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(hs(this));const n=t?Ce(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cN(this),n=new fN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aN(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sr(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&GO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mu(i){return Ce(i)}class Bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=MC(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(i){ng=i}function pN(i){return ng.loadJS(i)}function gN(){return ng.gapiScript}function _N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(i,t){const n=Qp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ps(u,t??{}))return o;Ci(o,"already-initialized")}return n.initialize({options:t})}function EN(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(sr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vN(i,t,n){const s=mu(i);It(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=hS(t),{host:h,port:m}=TN(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){It(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),It(ps(g,s.config.emulator)&&ps(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(zA(`${u}//${h}${p}`),jA("Auth",!0)):AN()}function hS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function TN(i){const t=hS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:zv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:zv(h)}}}function zv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function AN(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,n){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,t){return JO(i,"POST","/v1/accounts:signInWithIdp",Zp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class ca extends fS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=$p(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return go(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,go(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,go(t,n)}buildRequest(){const t={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends af{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends pu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends pu{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await oi._fromIdTokenResponse(t,s,o),h=jv(s);return new vo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=jv(s);return new vo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends mr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ph(t,n,s,o)}}function dS(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,t,s):u})}async function IN(i,t,n=!1){const s=await nu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return vo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(i,t,n=!1){const{auth:s}=i;if(Xn(s.app))return Promise.reject(hs(s));const o="reauthenticate";try{const u=await nu(i,dS(s,o,t,i),n);It(u.idToken,s,"internal-error");const h=tg(u.idToken);It(h,s,"internal-error");const{sub:m}=h;return It(i.uid===m,s,"user-mismatch"),vo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ci(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(i,t,n=!1){if(Xn(i.app))return Promise.reject(hs(i));const s="signIn",o=await dS(i,s,t),u=await vo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function wN(i,t,n,s){return Ce(i).onIdTokenChanged(t,n,s)}function CN(i,t,n){return Ce(i).beforeAuthStateChanged(t,n)}function mS(i,t,n,s){return Ce(i).onAuthStateChanged(t,n,s)}function ON(i){return Ce(i).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3,DN=10;class gS extends pS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);lN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,DN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gS.type="LOCAL";const MN=gS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends pS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_S.type="SESSION";const yS=_S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new of(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await xN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=ig("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function VN(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kN(){return ES()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebaseLocalStorageDb",BN=1,Bh="firebaseLocalStorage",TS="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(i,t){return i.transaction([Bh],t?"readwrite":"readonly").objectStore(Bh)}function zN(){const i=indexedDB.deleteDatabase(vS);return new gu(i).toPromise()}function pp(){const i=indexedDB.open(vS,BN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:TS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?t(s):(s.close(),await zN(),t(await pp()))})})}async function Hv(i,t,n){const s=lf(i,!0).put({[TS]:t,value:n});return new gu(s).toPromise()}async function jN(i,t){const n=lf(i,!1).get(t),s=await new gu(n).toPromise();return s===void 0?null:s.value}function Fv(i,t){const n=lf(i,!0).delete(t);return new gu(n).toPromise()}const HN=800,FN=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>FN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ES()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(kN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new LN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pp();return await Hv(t,kh,"1"),await Fv(t,kh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new gu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const GN=AS;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i,t){return t?sr(t):(It(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends fS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,n){return go(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qN(i){return bN(i.auth,new sg(i),i.bypassAuthState)}function YN(i){const{auth:t,user:n}=i;return It(n,t,"internal-error"),RN(n,new sg(i),i.bypassAuthState)}async function KN(i){const{auth:t,user:n}=i;return It(n,t,"internal-error"),IN(n,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Ci(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new du(2e3,1e4);async function $N(i,t,n){if(Xn(i.app))return Promise.reject(li(i,"operation-not-supported-in-this-environment"));const s=mu(i);XA(i,t,af);const o=rg(s,n);return new sa(s,"signInViaPopup",t,o).executeNotNull()}class sa extends SS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QN.get())};t()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="pendingRedirect",Th=new Map;class JN extends SS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Th.get(this.auth._key());if(!t){try{const s=await WN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Th.set(this.auth._key(),t)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WN(i,t){const n=RS(t),s=IS(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function ZN(i,t){return IS(i)._set(RS(t),"true")}function tD(i,t){Th.set(i._key(),t)}function IS(i){return sr(i._redirectPersistence)}function RS(i){return vh(XN,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(i,t,n){return eD(i,t,n)}async function eD(i,t,n){if(Xn(i.app))return Promise.reject(hs(i));const s=mu(i);XA(i,t,af),await s._initializationPromise;const o=rg(s,n);return await ZN(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function nD(i,t,n=!1){if(Xn(i.app))return Promise.reject(hs(i));const s=mu(i),o=rg(s,t),h=await new JN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=600*1e3;class rD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!bS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(li(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(t))}saveEventToCache(t){this.cachedEventUids.add(qv(t)),this.lastProcessedEventTime=Date.now()}}function qv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function bS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i,t={}){return No(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;async function uD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await aD(i);for(const n of t)try{if(cD(n))return}catch{}Ci(i,"unauthorized-domain")}function cD(i){const t=dp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!lD.test(n))return!1;if(oD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new du(3e4,6e4);function Yv(){const i=Ii().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fD(i){return new Promise((t,n)=>{var s,o,u;function h(){Yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yv(),n(li(i,"network-request-failed"))},timeout:hD.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)h();else{const m=_N("iframefcb");return Ii()[m]=()=>{gapi.load?h():n(li(i,"network-request-failed"))},pN(`${gN()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function dD(i){return Ah=Ah||fD(i),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new du(5e3,15e3),pD="__/auth/iframe",gD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(i){const t=i.config;It(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Wp(t,gD):`https://${i.config.authDomain}/${pD}`,s={apiKey:t.apiKey,appName:i.name,v:Oo},o=yD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function vD(i){const t=await dD(i),n=Ii().gapi;return It(n,i,"internal-error"),t.open({where:document.body,url:ED(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=li(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(h)},mD.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,SD=600,ID="_blank",RD="http://localhost";class Kv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bD(i,t,n,s=AD,o=SD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=rn().toLowerCase();n&&(m=rS(g)?ID:n),nS(g)&&(t=t||RD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(oN(g)&&m!=="_self")return wD(t||"",m),new Kv(null);const T=window.open(t||"",m,v);It(T,i,"popup-blocked");try{T.focus()}catch{}return new Kv(T)}function wD(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__/auth/handler",OD="emulator/auth/handler",ND=encodeURIComponent("fac");async function Qv(i,t,n,s,o,u){It(i.config.authDomain,i,"auth-domain-config-required"),It(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(t instanceof af){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",DC(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(t instanceof pu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${ND}=${encodeURIComponent(p)}`:"";return`${DD(i)}?${fu(m).slice(1)}${g}`}function DD({config:i}){return i.emulator?Wp(i,OD):`https://${i.authDomain}/${CD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yS,this._completeRedirectFn=nD,this._overrideRedirectResult=tD}async _openPopup(t,n,s,o){var u;cr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Qv(t,n,s,dp(),o);return bD(t,h,ig())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Qv(t,n,s,dp(),o);return VN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await vD(t),s=new rD(t);return n.register("authEvent",o=>(It(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($m,{type:$m},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[$m];h!==void 0&&n(!!h),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uS()||iS()||eg()}}const xD=MD;var $v="@firebase/auth",Xv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UD(i){Eo(new ua("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;It(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cS(i)},g=new dN(s,o,u,p);return EN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Eo(new ua("auth-internal",t=>{const n=mu(t.getProvider("auth").getImmediate());return(s=>new LD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs($v,Xv,VD(i)),cs($v,Xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=300,kD=BA("authIdTokenMaxAge")||PD;let Jv=null;const BD=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kD)return;const o=n==null?void 0:n.token;Jv!==o&&(Jv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zD(i=qA()){const t=Qp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=yN(i,{popupRedirectResolver:xD,persistence:[GN,MN,yS]}),s=BA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=BD(u.toString());CN(n,h,()=>h(n.currentUser)),wN(n,m=>h(m))}}const o=PA("auth");return o&&vN(n,`http://${o}`),n}function jD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}mN({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UD("Browser");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,wS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function w(){}w.prototype=R.prototype,D.D=R.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(L,U,k){for(var N=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)N[pe-2]=arguments[pe];return R.prototype[U].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,w){w||(w=0);var L=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)L[U]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(U=0;16>U;++U)L[U]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=D.g[0],w=D.g[1],U=D.g[2];var k=D.g[3],N=R+(k^w&(U^k))+L[0]+3614090360&4294967295;R=w+(N<<7&4294967295|N>>>25),N=k+(U^R&(w^U))+L[1]+3905402710&4294967295,k=R+(N<<12&4294967295|N>>>20),N=U+(w^k&(R^w))+L[2]+606105819&4294967295,U=k+(N<<17&4294967295|N>>>15),N=w+(R^U&(k^R))+L[3]+3250441966&4294967295,w=U+(N<<22&4294967295|N>>>10),N=R+(k^w&(U^k))+L[4]+4118548399&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(U^R&(w^U))+L[5]+1200080426&4294967295,k=R+(N<<12&4294967295|N>>>20),N=U+(w^k&(R^w))+L[6]+2821735955&4294967295,U=k+(N<<17&4294967295|N>>>15),N=w+(R^U&(k^R))+L[7]+4249261313&4294967295,w=U+(N<<22&4294967295|N>>>10),N=R+(k^w&(U^k))+L[8]+1770035416&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(U^R&(w^U))+L[9]+2336552879&4294967295,k=R+(N<<12&4294967295|N>>>20),N=U+(w^k&(R^w))+L[10]+4294925233&4294967295,U=k+(N<<17&4294967295|N>>>15),N=w+(R^U&(k^R))+L[11]+2304563134&4294967295,w=U+(N<<22&4294967295|N>>>10),N=R+(k^w&(U^k))+L[12]+1804603682&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(U^R&(w^U))+L[13]+4254626195&4294967295,k=R+(N<<12&4294967295|N>>>20),N=U+(w^k&(R^w))+L[14]+2792965006&4294967295,U=k+(N<<17&4294967295|N>>>15),N=w+(R^U&(k^R))+L[15]+1236535329&4294967295,w=U+(N<<22&4294967295|N>>>10),N=R+(U^k&(w^U))+L[1]+4129170786&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^U&(R^w))+L[6]+3225465664&4294967295,k=R+(N<<9&4294967295|N>>>23),N=U+(R^w&(k^R))+L[11]+643717713&4294967295,U=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(U^k))+L[0]+3921069994&4294967295,w=U+(N<<20&4294967295|N>>>12),N=R+(U^k&(w^U))+L[5]+3593408605&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^U&(R^w))+L[10]+38016083&4294967295,k=R+(N<<9&4294967295|N>>>23),N=U+(R^w&(k^R))+L[15]+3634488961&4294967295,U=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(U^k))+L[4]+3889429448&4294967295,w=U+(N<<20&4294967295|N>>>12),N=R+(U^k&(w^U))+L[9]+568446438&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^U&(R^w))+L[14]+3275163606&4294967295,k=R+(N<<9&4294967295|N>>>23),N=U+(R^w&(k^R))+L[3]+4107603335&4294967295,U=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(U^k))+L[8]+1163531501&4294967295,w=U+(N<<20&4294967295|N>>>12),N=R+(U^k&(w^U))+L[13]+2850285829&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^U&(R^w))+L[2]+4243563512&4294967295,k=R+(N<<9&4294967295|N>>>23),N=U+(R^w&(k^R))+L[7]+1735328473&4294967295,U=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(U^k))+L[12]+2368359562&4294967295,w=U+(N<<20&4294967295|N>>>12),N=R+(w^U^k)+L[5]+4294588738&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^U)+L[8]+2272392833&4294967295,k=R+(N<<11&4294967295|N>>>21),N=U+(k^R^w)+L[11]+1839030562&4294967295,U=k+(N<<16&4294967295|N>>>16),N=w+(U^k^R)+L[14]+4259657740&4294967295,w=U+(N<<23&4294967295|N>>>9),N=R+(w^U^k)+L[1]+2763975236&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^U)+L[4]+1272893353&4294967295,k=R+(N<<11&4294967295|N>>>21),N=U+(k^R^w)+L[7]+4139469664&4294967295,U=k+(N<<16&4294967295|N>>>16),N=w+(U^k^R)+L[10]+3200236656&4294967295,w=U+(N<<23&4294967295|N>>>9),N=R+(w^U^k)+L[13]+681279174&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^U)+L[0]+3936430074&4294967295,k=R+(N<<11&4294967295|N>>>21),N=U+(k^R^w)+L[3]+3572445317&4294967295,U=k+(N<<16&4294967295|N>>>16),N=w+(U^k^R)+L[6]+76029189&4294967295,w=U+(N<<23&4294967295|N>>>9),N=R+(w^U^k)+L[9]+3654602809&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^U)+L[12]+3873151461&4294967295,k=R+(N<<11&4294967295|N>>>21),N=U+(k^R^w)+L[15]+530742520&4294967295,U=k+(N<<16&4294967295|N>>>16),N=w+(U^k^R)+L[2]+3299628645&4294967295,w=U+(N<<23&4294967295|N>>>9),N=R+(U^(w|~k))+L[0]+4096336452&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~U))+L[7]+1126891415&4294967295,k=R+(N<<10&4294967295|N>>>22),N=U+(R^(k|~w))+L[14]+2878612391&4294967295,U=k+(N<<15&4294967295|N>>>17),N=w+(k^(U|~R))+L[5]+4237533241&4294967295,w=U+(N<<21&4294967295|N>>>11),N=R+(U^(w|~k))+L[12]+1700485571&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~U))+L[3]+2399980690&4294967295,k=R+(N<<10&4294967295|N>>>22),N=U+(R^(k|~w))+L[10]+4293915773&4294967295,U=k+(N<<15&4294967295|N>>>17),N=w+(k^(U|~R))+L[1]+2240044497&4294967295,w=U+(N<<21&4294967295|N>>>11),N=R+(U^(w|~k))+L[8]+1873313359&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~U))+L[15]+4264355552&4294967295,k=R+(N<<10&4294967295|N>>>22),N=U+(R^(k|~w))+L[6]+2734768916&4294967295,U=k+(N<<15&4294967295|N>>>17),N=w+(k^(U|~R))+L[13]+1309151649&4294967295,w=U+(N<<21&4294967295|N>>>11),N=R+(U^(w|~k))+L[4]+4149444226&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~U))+L[11]+3174756917&4294967295,k=R+(N<<10&4294967295|N>>>22),N=U+(R^(k|~w))+L[2]+718787259&4294967295,U=k+(N<<15&4294967295|N>>>17),N=w+(k^(U|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var w=R-this.blockSize,L=this.B,U=this.h,k=0;k<R;){if(U==0)for(;k<=w;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<R;)if(L[U++]=D.charCodeAt(k++),U==this.blockSize){o(this,L),U=0;break}}else for(;k<R;)if(L[U++]=D[k++],U==this.blockSize){o(this,L),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var w=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.u(D),D=Array(16),R=w=0;4>R;++R)for(var L=0;32>L;L+=8)D[w++]=this.g[R]>>>L&255;return D};function u(D,R){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=R(D)}function h(D,R){this.h=R;for(var w=[],L=!0,U=D.length-1;0<=U;U--){var k=D[U]|0;L&&k==R||(w[U]=k,L=!1)}this.g=w}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new h([R|0],0>R?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return M(g(-D));for(var R=[],w=1,L=0;D>=w;L++)R[L]=D/w|0,w*=4294967296;return new h(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return M(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),L=T,U=0;U<D.length;U+=8){var k=Math.min(8,D.length-U),N=parseInt(D.substring(U,U+k),R);8>k?(k=g(Math.pow(R,k)),L=L.j(k).add(g(N))):(L=L.j(w),L=L.add(g(N)))}return L}var T=p(0),S=p(1),b=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-M(this).m();for(var D=0,R=1,w=0;w<this.g.length;w++){var L=this.i(w);D+=(0<=L?L:4294967296+L)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(z(this))return"-"+M(this).toString(D);for(var R=g(Math.pow(D,6)),w=this,L="";;){var U=ft(w,R).g;w=et(w,U.j(R));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=U,V(w))return k+L;for(;6>k.length;)k="0"+k;L=k+L}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function z(D){return D.h==-1}i.l=function(D){return D=et(this,D),z(D)?-1:V(D)?0:1};function M(D){for(var R=D.g.length,w=[],L=0;L<R;L++)w[L]=~D.g[L];return new h(w,~D.h).add(S)}i.abs=function(){return z(this)?M(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],L=0,U=0;U<=R;U++){var k=L+(this.i(U)&65535)+(D.i(U)&65535),N=(k>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);L=N>>>16,k&=65535,N&=65535,w[U]=N<<16|k}return new h(w,w[w.length-1]&-2147483648?-1:0)};function et(D,R){return D.add(M(R))}i.j=function(D){if(V(this)||V(D))return T;if(z(this))return z(D)?M(this).j(M(D)):M(M(this).j(D));if(z(D))return M(this.j(M(D)));if(0>this.l(b)&&0>D.l(b))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,w=[],L=0;L<2*R;L++)w[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<D.g.length;U++){var k=this.i(L)>>>16,N=this.i(L)&65535,pe=D.i(U)>>>16,Oe=D.i(U)&65535;w[2*L+2*U]+=N*Oe,st(w,2*L+2*U),w[2*L+2*U+1]+=k*Oe,st(w,2*L+2*U+1),w[2*L+2*U+1]+=N*pe,st(w,2*L+2*U+1),w[2*L+2*U+2]+=k*pe,st(w,2*L+2*U+2)}for(L=0;L<R;L++)w[L]=w[2*L+1]<<16|w[2*L];for(L=R;L<2*R;L++)w[L]=0;return new h(w,0)};function st(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function W(D,R){this.g=D,this.h=R}function ft(D,R){if(V(R))throw Error("division by zero");if(V(D))return new W(T,T);if(z(D))return R=ft(M(D),R),new W(M(R.g),M(R.h));if(z(R))return R=ft(D,M(R)),new W(M(R.g),R.h);if(30<D.g.length){if(z(D)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,L=R;0>=L.l(D);)w=St(w),L=St(L);var U=yt(w,1),k=yt(L,1);for(L=yt(L,2),w=yt(w,2);!V(L);){var N=k.add(L);0>=N.l(D)&&(U=U.add(w),k=N),L=yt(L,1),w=yt(w,1)}return R=et(D,U.j(R)),new W(U,R)}for(U=T;0<=D.l(R);){for(w=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(w)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),k=g(w),N=k.j(R);z(N)||0<N.l(D);)w-=L,k=g(w),N=k.j(R);V(k)&&(k=S),U=U.add(k),D=et(D,N)}return new W(U,D)}i.A=function(D){return ft(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)&D.i(L);return new h(w,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)|D.i(L);return new h(w,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)^D.i(L);return new h(w,this.h^D.h)};function St(D){for(var R=D.g.length+1,w=[],L=0;L<R;L++)w[L]=D.i(L)<<1|D.i(L-1)>>>31;return new h(w,D.h)}function yt(D,R){var w=R>>5;R%=32;for(var L=D.g.length-w,U=[],k=0;k<L;k++)U[k]=0<R?D.i(k+w)>>>R|D.i(k+w+1)<<32-R:D.i(k+w);return new h(U,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,fs=h}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,jl,OS,Sh,gp,NS,DS,MS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)t:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in E))break t;E=E[B]}c=c[c.length-1],I=E[c],_=_(I),_!=I&&_!=null&&t(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,I=!1,B={next:function(){if(!I&&E<c.length){var K=E++;return{value:_(K,c[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function T(c,_,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function S(c,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function V(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,B,K){for(var at=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)at[Kt-2]=arguments[Kt];return _.prototype[B].apply(I,at)}}function z(c){const _=c.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=c[I];return E}return[]}function M(c,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const B=c.length||0,K=I.length||0;c.length=B+K;for(let at=0;at<K;at++)c[B+at]=I[at]}else c.push(I)}}class et{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function st(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ft(c){return ft[" "](c),c}ft[" "]=function(){};var St=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function yt(c,_,E){for(const I in c)_.call(E,c[I],I,c)}function D(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function R(c){const _={};for(const E in c)_[E]=c[E];return _}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)c[E]=I[E];for(let K=0;K<w.length;K++)E=w[K],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function U(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function k(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Bt;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class pe{constructor(){this.h=this.g=null}add(_,E){const I=Oe.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Oe=new et(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,pt=!1,Bt=new pe,rt=()=>{const c=m.Promise.resolve(void 0);ot=()=>{c.then(C)}};var C=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(E){k(E)}var _=Oe;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pt=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var lt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,_),m.removeEventListener("test",E,_)}catch{}return c})();function mt(c,_){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(St){t:{try{ft(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mt.aa.h.call(this)}}V(mt,it);var Tt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),se=0;function Ht(c,_,E,I,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++se,this.da=this.fa=!1}function ci(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ni(c){this.src=c,this.g={},this.h=0}Ni.prototype.add=function(c,_,E,I,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var at=_a(c,_,I,B);return-1<at?(_=c[at],E||(_.fa=!1)):(_=new Ht(_,this.src,K,!!I,B),_.fa=E,c.push(_)),_};function ws(c,_){var E=_.type;if(E in c.g){var I=c.g[E],B=Array.prototype.indexOf.call(I,_,void 0),K;(K=0<=B)&&Array.prototype.splice.call(I,B,1),K&&(ci(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function _a(c,_,E,I){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==I)return B}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Cs={};function ya(c,_,E,I,B){if(Array.isArray(_)){for(var K=0;K<_.length;K++)ya(c,_[K],E,I,B);return null}return E=wu(E),c&&c[Ot]?c.K(_,E,g(I)?!!I.capture:!1,B):Df(c,_,E,!1,I,B)}function Df(c,_,E,I,B,K){if(!_)throw Error("Invalid event type");var at=g(B)?!!B.capture:!!B,Kt=Uo(c);if(Kt||(c[ti]=Kt=new Ni(c)),E=Kt.add(_,E,I,at,K),E.proxy)return E;if(I=bu(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)lt||(B=at),B===void 0&&(B=!1),c.addEventListener(_.toString(),I,B);else if(c.attachEvent)c.attachEvent(va(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bu(){function c(E){return _.call(c.src,c.listener,E)}const _=Mf;return c}function Ea(c,_,E,I,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)Ea(c,_[K],E,I,B);else I=g(I)?!!I.capture:!!I,E=wu(E),c&&c[Ot]?(c=c.i,_=String(_).toString(),_ in c.g&&(K=c.g[_],E=_a(K,E,I,B),-1<E&&(ci(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete c.g[_],c.h--)))):c&&(c=Uo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=_a(_,E,I,B)),(E=-1<c?_[c]:null)&&Os(E))}function Os(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ot])ws(_.i,c);else{var E=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(E,I,c.capture):_.detachEvent?_.detachEvent(va(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Uo(_))?(ws(E,c),E.h==0&&(E.src=null,_[ti]=null)):ci(c)}}}function va(c){return c in Cs?Cs[c]:Cs[c]="on"+c}function Mf(c,_){if(c.da)c=!0;else{_=new mt(_,this);var E=c.listener,I=c.ha||c.src;c.fa&&Os(c),c=E.call(I,_)}return c}function Uo(c){return c=c[ti],c instanceof Ni?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(_){return c.handleEvent(_)}),c[ze])}function Ne(){G.call(this),this.i=new Ni(this),this.M=this,this.F=null}V(Ne,G),Ne.prototype[Ot]=!0,Ne.prototype.removeEventListener=function(c,_,E,I){Ea(this,c,_,E,I)};function xe(c,_){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new it(_,c);else if(_ instanceof it)_.target=_.target||c;else{var B=_;_=new it(I,c),L(_,B)}if(B=!0,E)for(var K=E.length-1;0<=K;K--){var at=_.g=E[K];B=Di(at,I,!0,_)&&B}if(at=_.g=c,B=Di(at,I,!0,_)&&B,B=Di(at,I,!1,_)&&B,E)for(K=0;K<E.length;K++)at=_.g=E[K],B=Di(at,I,!1,_)&&B}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],I=0;I<E.length;I++)ci(E[I]);delete c.g[_],c.h--}}this.F=null},Ne.prototype.K=function(c,_,E,I){return this.i.add(String(c),_,!1,E,I)},Ne.prototype.L=function(c,_,E,I){return this.i.add(String(c),_,!0,E,I)};function Di(c,_,E,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,K=0;K<_.length;++K){var at=_[K];if(at&&!at.da&&at.capture==E){var Kt=at.listener,ve=at.ha||at.src;at.fa&&ws(c.i,at),B=Kt.call(ve,I)!==!1&&B}}return B&&!I.defaultPrevented}function Cu(c,_,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Po(c){c.g=Cu(()=>{c.g=null,c.i&&(c.i=!1,Po(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class xf extends G{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){G.call(this),this.h=c,this.g={}}V(Ns,G);var pr=[];function Je(c){yt(c.g,function(_,E){this.g.hasOwnProperty(E)&&Os(_)},c),c.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Je(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,sn=m.JSON.parse,Lf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Ou(c){return c.h||(c.h=c.i())}function Ds(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){it.call(this,"d")}V(gr,it);function ei(){it.call(this,"c")}V(ei,it);var kn={},_r=null;function Ta(){return _r=_r||new Ne}kn.La="serverreachability";function Bo(c){it.call(this,kn.La,c)}V(Bo,it);function Mi(c){const _=Ta();xe(_,new Bo(_))}kn.STAT_EVENT="statevent";function yr(c,_){it.call(this,kn.STAT_EVENT,c),this.stat=_}V(yr,it);function je(c){const _=Ta();xe(_,new yr(_,c))}kn.Ma="timingevent";function zo(c,_){it.call(this,kn.Ma,c),this.size=_}V(zo,it);function Er(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function vr(){this.g=!0}vr.prototype.xa=function(){this.g=!1};function jo(c,_,E,I,B,K){c.info(function(){if(c.g)if(K)for(var at="",Kt=K.split("&"),ve=0;ve<Kt.length;ve++){var Nt=Kt[ve].split("=");if(1<Nt.length){var Ve=Nt[0];Nt=Nt[1];var Ue=Ve.split("_");at=2<=Ue.length&&Ue[1]=="type"?at+(Ve+"="+Nt+"&"):at+(Ve+"=redacted&")}}else at=null;else at=K;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+at})}function Ho(c,_,E,I,B,K,at){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+K+" "+at})}function xi(c,_,E,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+fi(c,E)+(I?" "+I:"")})}function Nu(c,_){c.info(function(){return"TIMEOUT: "+_})}vr.prototype.info=function(){};function fi(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var at=1;at<B.length;at++)B[at]=""}}}}return Pn(E)}catch{return _}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function Tr(){}V(Tr,ko),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},di=new Tr;function mi(c,_,E,I){this.j=c,this.i=_,this.l=E,this.R=I||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Fo={},Li={};function Ms(c,_,E){c.L=1,c.v=Vs(he(_)),c.m=E,c.P=!0,Vi(c,null)}function Vi(c,_){c.F=Date.now(),ni(c),c.A=he(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ki(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Du,c.g=Ku(c.j,E?_:null,!c.m),0<c.O&&(c.M=new xf(S(c.Y,c,c.g),c.O)),_=c.U,E=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(pr[0]=B.toString()),B=pr);for(var K=0;K<B.length;K++){var at=ya(E,B[K],I||_.handleEvent,!1,_.h||_);if(!at)break;_.g[at.key]=at}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Mi(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}mi.prototype.ca=function(c){c=c.target;const _=this.M;_&&ln(c)==3?_.j():this.Y(c)},mi.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=ln(this.g);var _=this.g.Ba();const Lr=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||ks(this.g)))){this.J||Ue!=4||_==7||(_==8||0>=Lr?Mi(3):Mi(2)),Aa(this);var E=this.g.Z();this.X=E;e:if(Ui(this)){var I=ks(this.g);c="";var B=I.length,K=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Ar(this);var at="";break e}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(I[_],{stream:!(K&&_==B-1)});I.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=E==200,Ho(this.i,this.u,this.A,this.l,this.R,Ue,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,ve=this.g;if((Kt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Kt)){var Nt=Kt;break e}}Nt=null}if(E=Nt)xi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,E);else{this.o=!1,this.s=3,je(12),an(this),Ar(this);break t}}if(this.P){E=!0;let gn;for(;!this.J&&this.C<at.length;)if(gn=xs(this,at),gn==Li){Ue==4&&(this.s=4,je(14),E=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Fo){this.s=4,je(15),xi(this.i,this.l,at,"[Invalid Chunk]"),E=!1;break}else xi(this.i,this.l,gn,null),pi(this,gn);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||at.length!=0||this.h.h||(this.s=1,je(16),E=!1),this.o=this.o&&E,!E)xi(this.i,this.l,at,"[Invalid Chunked Response]"),an(this),Ar(this);else if(0<at.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),tl(Ve),Ve.M=!0,je(11))}}else xi(this.i,this.l,at,null),pi(this,at);Ue==4&&an(this),this.o&&!this.J&&(Ue==4?Gu(this.j,this):(this.o=!1,ni(this)))}else ku(this.g),E==400&&0<at.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),an(this),Ar(this)}}}catch{}finally{}};function Ui(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xs(c,_){var E=c.C,I=_.indexOf(`
`,E);return I==-1?Li:(E=Number(_.substring(E,I)),isNaN(E)?Fo:(I+=1,I+E>_.length?Li:(_=_.slice(I,I+E),c.C=I+E,_)))}mi.prototype.cancel=function(){this.J=!0,an(this)};function ni(c){c.S=Date.now()+c.I,ge(c,c.I)}function ge(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Er(S(c.ba,c),_)}function Aa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}mi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(Mi(),je(17)),an(this),this.s=2,Ar(this)):ge(this,this.S-c)};function Ar(c){c.j.G==0||c.J||Gu(c.j,c)}function an(c){Aa(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Je(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function pi(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Sr(E.h,c))){if(!c.K&&Sr(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Mr(E),Dr(E);else break t;Zo(E),je(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Er(S(E.Za,E),6e3));if(1>=Mu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else zi(E,11)}else if((c.K||E.g==c)&&Mr(E),!st(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Nt=B[_];if(E.T=Nt[0],Nt=Nt[1],E.G==2)if(Nt[0]=="c"){E.K=Nt[1],E.ia=Nt[2];const Ve=Nt[3];Ve!=null&&(E.la=Ve,E.j.info("VER="+E.la));const Ue=Nt[4];Ue!=null&&(E.Aa=Ue,E.j.info("SVER="+E.Aa));const Lr=Nt[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(I=1.5*Lr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const gn=c.g;if(gn){const js=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var K=I.h;K.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ir(K,K.h),K.h=null))}if(I.D){const ji=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ji&&(I.ya=ji,Ft(I.I,I.D,ji))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var at=c;if(I.qa=Yu(I,I.J?I.ia:null,I.W),at.K){Bn(I.h,at);var Kt=at,ve=I.L;ve&&(Kt.I=ve),Kt.B&&(Aa(Kt),ni(Kt)),I.g=at}else Hu(I);0<E.i.length&&Na(E)}else Nt[0]!="stop"&&Nt[0]!="close"||zi(E,7);else E.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?zi(E,7):Jo(E):Nt[0]!="noop"&&E.l&&E.l.ta(Nt),E.v=0)}}Mi(4)}catch{}}var Vf=class{constructor(c,_){this.g=c,this.map=_}};function Go(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mu(c){return c.h?1:c.g?c.g.size:0}function Sr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ir(c,_){c.g?c.g.add(_):c.h=_}function Bn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Go.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return z(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,I=0;I<E;I++)_.push(c[I]);return _}_=[],E=0;for(I in c)_[E++]=c[I];return _}function Uf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const I in c)_[E++]=I;return _}}}function Sa(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Uf(c),I=xu(c),B=I.length,K=0;K<B;K++)_.call(void 0,I[K],E&&E[K],c)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),B=null;if(0<=I){var K=c[E].substring(0,I);B=c[E].substring(I+1)}else K=c[E];_(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,Rr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var _=c.i,E=new gi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ra(this,E),this.m=c.m}else c&&(_=String(c).match(Yo))?(this.h=!1,Rr(this,_[1]||"",!0),this.o=br(_[2]||""),this.g=br(_[3]||"",!0),Ls(this,_[4]),this.l=br(_[5]||"",!0),Ra(this,_[6]||"",!0),this.m=br(_[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Pi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(zn(_,Ko,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(zn(_,Ko,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(zn(E,E.charAt(0)=="/"?Qo:Lu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",zn(E,Bf)),c.join("")};function he(c){return new Pi(c)}function Rr(c,_,E){c.j=E?br(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Ra(c,_,E){_ instanceof gi?(c.i=_,Vu(c.i,c.h)):(E||(_=zn(_,kf)),c.i=new gi(_,c.h))}function Ft(c,_,E){c.i.set(_,E)}function Vs(c){return Ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zn(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Pf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Lu=/[#\?:]/g,Qo=/[#\?]/g,kf=/[#\?@]/g,Bf=/#/g;function gi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Le(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=gi.prototype,i.add=function(c,_){Le(this),this.i=null,c=In(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function ba(c,_){Le(c),_=In(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function wa(c,_){return Le(c),_=In(c,_),c.g.has(_)}i.forEach=function(c,_){Le(this),this.g.forEach(function(E,I){E.forEach(function(B){c.call(_,B,I,this)},this)},this)},i.na=function(){Le(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=c[I];for(let K=0;K<B.length;K++)E.push(_[I])}return E},i.V=function(c){Le(this);let _=[];if(typeof c=="string")wa(this,c)&&(_=_.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Le(this),this.i=null,c=In(this,c),wa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function ki(c,_,E){ba(c,_),0<E.length&&(c.i=null,c.g.set(In(c,_),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const K=encodeURIComponent(String(I)),at=this.V(I);for(I=0;I<at.length;I++){var B=K;at[I]!==""&&(B+="="+encodeURIComponent(String(at[I]))),c.push(B)}}return this.i=c.join("&")};function In(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Vu(c,_){_&&!c.j&&(Le(c),c.i=null,c.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(ba(this,I),ki(this,B,E))},c)),c.j=_}function $o(c,_){const E=new vr;if(m.Image){const I=new Image;I.onload=b(pn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=b(pn,E,"TestLoadImage: error",!1,_,I),I.onabort=b(pn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=b(pn,E,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function Uu(c,_){const E=new vr,I=new AbortController,B=setTimeout(()=>{I.abort(),pn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(K=>{clearTimeout(B),K.ok?pn(E,"TestPingServer: ok",!0,_):pn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),pn(E,"TestPingServer: error",!1,_)})}function pn(c,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function ii(){this.g=new Lf}function Xo(c,_,E){const I=E||"";try{Sa(c,function(B,K){let at=B;g(B)&&(at=Pn(B)),_.push(I+K+"="+encodeURIComponent(at))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}V(_i,ko),_i.prototype.g=function(){return new Rn(this.l,this.j)},_i.prototype.i=(function(c){return function(){return c}})({});function Rn(c,_){Ne.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Rn,Ne),i=Rn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,wr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?yi(this):wr(this),this.readyState==3&&Ca(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,yi(this))},i.Qa=function(c){this.g&&(this.response=c,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wr(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Us(c){let _="";return yt(c,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Cr(c,_,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=Us(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ft(c,_,E))}function ee(c){Ne.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ee,Ne);var We=/^https?$/i,Bi=["POST","PUT"];i=ee.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Ou(this.o):Ou(di),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(K){Ps(this,K);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())E.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Bi,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,at]of E)this.g.setRequestHeader(K,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ps(this,K)}};function Ps(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Or(c),Nr(c)}function Or(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xe(this,"complete"),xe(this,"abort"),Nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),ee.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},i.bb=function(){Pu(this)};function Pu(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)Cu(c.Ea,0,c);else if(xe(c,"readystatechange"),ln(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var I;if(I=at===0){var B=String(c.D).match(Yo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),I=!We.test(B?B.toLowerCase():"")}E=I}if(E)xe(c,"complete"),xe(c,"success");else{c.m=6;try{var K=2<ln(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Or(c)}}finally{Nr(c)}}}}function Nr(c,_){if(c.g){Oa(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||xe(c,"ready");try{E.onreadystatechange=I}catch{}}}function Oa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),sn(_)}};function ks(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ku(c){const _={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(st(c[I]))continue;var E=U(c[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[B]||[];_[B]=K,K.push(E)}D(_,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Bu(c){this.Aa=0,this.i=[],this.j=new vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Go(c&&c.concurrentRequestLimit),this.Da=new ii,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Bu.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,I){je(0),this.W=c,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Yu(this,null,this.W),Na(this)};function Jo(c){if(zu(c),c.G==3){var _=c.U++,E=he(c.I);if(Ft(E,"SID",c.K),Ft(E,"RID",_),Ft(E,"TYPE","terminate"),zs(c,E),_=new mi(c,c.j,_),_.L=2,_.v=Vs(he(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=_.v,E=!0),E||(_.g=Ku(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ni(_)}el(c)}function Dr(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function zu(c){Dr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Mr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!qo(c.h)&&!c.s){c.s=!0;var _=c.Ga;ot||rt(),pt||(ot(),pt=!0),Bt.add(_,c),c.B=0}}function zf(c,_){return Mu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Er(S(c.Ga,c,_),qu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new mi(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),L(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Wo(this,B,_),E=he(this.I),Ft(E,"RID",c),Ft(E,"CVER",22),this.D&&Ft(E,"X-HTTP-Session-Id",this.D),zs(this,E),K&&(this.O?_="headers="+encodeURIComponent(String(Us(K)))+"&"+_:this.m&&Cr(E,this.m,K)),Ir(this.h,B),this.Ua&&Ft(E,"TYPE","init"),this.P?(Ft(E,"$req",_),Ft(E,"SID","null"),B.T=!0,Ms(B,E,null)):Ms(B,E,_),this.G=2}}else this.G==3&&(c?ju(this,c):this.i.length==0||qo(this.h)||ju(this))};function ju(c,_){var E;_?E=_.l:E=c.U++;const I=he(c.I);Ft(I,"SID",c.K),Ft(I,"RID",E),Ft(I,"AID",c.T),zs(c,I),c.m&&c.o&&Cr(I,c.m,c.o),E=new mi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Wo(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,E),Ms(E,I,_)}function zs(c,_){c.H&&yt(c.H,function(E,I){Ft(_,I,E)}),c.l&&Sa({},function(E,I){Ft(_,I,E)})}function Wo(c,_,E){E=Math.min(c.i.length,E);var I=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let K=-1;for(;;){const at=["count="+E];K==-1?0<E?(K=B[0].g,at.push("ofs="+K)):K=0:at.push("ofs="+K);let Kt=!0;for(let ve=0;ve<E;ve++){let Nt=B[ve].g;const Ve=B[ve].map;if(Nt-=K,0>Nt)K=Math.max(0,B[ve].g-100),Kt=!1;else try{Xo(Ve,at,"req"+Nt+"_")}catch{I&&I(Ve)}}if(Kt){I=at.join("&");break t}}}return c=c.i.splice(0,E),_.D=c,I}function Hu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ot||rt(),pt||(ot(),pt=!0),Bt.add(_,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Er(S(c.Fa,c),qu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Er(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Dr(this),Fu(this))};function tl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new mi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=he(c.qa);Ft(_,"RID","rpc"),Ft(_,"SID",c.K),Ft(_,"AID",c.T),Ft(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ft(_,"TO",c.ja),Ft(_,"TYPE","xmlhttp"),zs(c,_),c.m&&c.o&&Cr(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Vs(he(_)),E.m=null,E.P=!0,Vi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Dr(this),Zo(this),je(19))};function Mr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,_){var E=null;if(c.g==_){Mr(c),tl(c),c.g=null;var I=2}else if(Sr(c.h,_))E=_.D,Bn(c.h,_),I=1;else return;if(c.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;I=Ta(),xe(I,new zo(I,E)),Na(c)}else Hu(c);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&zf(c,_)||I==2&&Zo(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function qu(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function zi(c,_){if(c.j.info("Error code "+_),_==2){var E=S(c.fb,c),I=c.Xa;const B=!I;I=new Pi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rr(I,"https"),Vs(I),B?$o(I.toString(),E):Uu(I.toString(),E)}else je(2);c.G=0,c.l&&c.l.sa(_),el(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function el(c){if(c.G=0,c.ka=[],c.l){const _=on(c.h);(_.length!=0||c.i.length!=0)&&(M(c.ka,_),M(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Yu(c,_,E){var I=E instanceof Pi?he(E):new Pi(E);if(I.g!="")_&&(I.g=_+"."+I.g),Ls(I,I.s);else{var B=m.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var K=new Pi(null);I&&Rr(K,I),_&&(K.g=_),B&&Ls(K,B),E&&(K.l=E),I=K}return E=c.D,_=c.ya,E&&_&&Ft(I,E,_),Ft(I,"VER",c.la),zs(c,I),I}function Ku(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new ee(new _i({eb:E})):new ee(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Da(){}Da.prototype.g=function(c,_){return new un(c,_)};function un(c,_){Ne.call(this),this.g=new Bu(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!st(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!st(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new xr(this)}V(un,Ne),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Jo(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Pn(c),c=E);_.i.push(new Vf(_.Ya++,c)),_.G==3&&Na(_)},un.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,un.aa.N.call(this)};function $u(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const E in _){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}V($u,gr);function Xu(){ei.call(this),this.status=1}V(Xu,ei);function xr(c){this.g=c}V(xr,Qu),xr.prototype.ua=function(){xe(this.g,"a")},xr.prototype.ta=function(c){xe(this.g,new $u(c))},xr.prototype.sa=function(c){xe(this.g,new Xu)},xr.prototype.ra=function(){xe(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,MS=function(){return new Da},DS=function(){return Ta()},NS=kn,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Sh=ce,He.COMPLETE="complete",OS=He,Ds.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,jl=Ds,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,CS=ee}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",tT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Yp("@firebase/firestore");function ao(){return ha.logLevel}function ct(i,...t){if(ha.logLevel<=Ut.DEBUG){const n=t.map(ag);ha.debug(`Firestore (${Do}): ${i}`,...n)}}function hr(i,...t){if(ha.logLevel<=Ut.ERROR){const n=t.map(ag);ha.error(`Firestore (${Do}): ${i}`,...n)}}function gs(i,...t){if(ha.logLevel<=Ut.WARN){const n=t.map(ag);ha.warn(`Firestore (${Do}): ${i}`,...n)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,xS(i,s,n)}function xS(i,t,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function jt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||xS(t,o,s)}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class FD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GD{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new LS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class qD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new qD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(i,t){return i<t?-1:i>t?1:0}function _p(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=VS(),h=$D(u.encode(nT(i,n)),u.encode(nT(t,n)));return h!==0?h:Dt(s,o)}}n+=s>65535?2:1}return Dt(i.length,t.length)}function nT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function $D(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Dt(i[n],t[n]);return Dt(i.length,t.length)}function To(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__name__";class Si{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=Si.isNumericId(t),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(n)):_p(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fs.fromString(t.substring(4,t.length-2))}}class Zt extends Si{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Zt(n)}static emptyPath(){return new Zt([])}}const XD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return XD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iT}static keyField(){return new Qe([iT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Zt.fromString(t))}static fromName(t){return new gt(Zt.fromString(t).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(i,t,n){if(!n)throw new ut(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function JD(i,t,n,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rT(i){if(!gt.isDocumentKey(i))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sT(i){if(gt.isDocumentKey(i))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function PS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function uf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Et(12329,{type:typeof i})}function Jn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(i);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,t){const n={typeString:i};return t&&(n.value=t),n}function _u(i,t){if(!PS(i))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,oT=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*oT);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<aT)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-aT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:we("string",re._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function WD(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new _s(o,gt.empty(),t)}function ZD(i){return new _s(i.readTime,i.key,iu)}class _s{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(At.min(),gt.empty(),iu)}static max(){return new _s(At.max(),gt.empty(),iu)}}function t2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(i.documentKey,t.documentKey),n!==0?n:Dt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==e2)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function i2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}cf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function yu(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function r2(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function s2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=lT(t)),t=a2(i.get(n),t);return lT(t)}function a2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case kS:n+="";break;default:n+=u}}return n}function lT(i){return i+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Rs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function BS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sh(this.root,t,this.comparator,!0)}}class sh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(t){return new cT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class cT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Me(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zS("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(i){if(jt(!!i,39018),typeof i=="string"){let t=0;const n=o2.exec(i);if(jt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(i.seconds),nanos:Ee(i.nanos)}}function Ee(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?$e.fromBase64String(i):$e.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",HS="__type__",FS="__previous_value__",GS="__local_write_time__";function ug(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[HS])===null||n===void 0?void 0:n.stringValue)===jS}function hf(i){const t=i.mapValue.fields[FS];return ug(t)?hf(t):t}function ru(i){const t=ys(i.mapValue.fields[GS].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n,s,o,u,h,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const jh="(default)";class su{constructor(t,n){this.projectId=t,this.database=n||jh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===jh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="__type__",u2="__max__",ah={mapValue:{}},YS="__vector__",Hh="value";function vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:h2(i)?9007199254740991:c2(i)?10:11:Et(28295,{value:i})}function Oi(i,t){if(i===t)return!0;const n=vs(i);if(n!==vs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ru(i).isEqual(ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ys(o.timestampValue),m=ys(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ee(o.doubleValue),m=Ee(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return To(i.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(uT(h)!==uT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Oi(h[p],m[p])))return!1;return!0})(i,t);default:return Et(52216,{left:i})}}function au(i,t){return(i.values||[]).find((n=>Oi(n,t)))!==void 0}function Ao(i,t){if(i===t)return 0;const n=vs(i),s=vs(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ee(u.integerValue||u.doubleValue),p=Ee(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return hT(i.timestampValue,t.timestampValue);case 4:return hT(ru(i),ru(t));case 5:return _p(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Es(u),p=Es(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Dt(m[g],p[g]);if(v!==0)return v}return Dt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Dt(Ee(u.latitude),Ee(h.latitude));return m!==0?m:Dt(Ee(u.longitude),Ee(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return fT(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var m,p,g,v;const T=u.fields||{},S=h.fields||{},b=(m=T[Hh])===null||m===void 0?void 0:m.arrayValue,V=(p=S[Hh])===null||p===void 0?void 0:p.arrayValue,z=Dt(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:fT(b,V)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=_p(p[T],v[T]);if(S!==0)return S;const b=Ao(m[p[T]],g[v[T]]);if(b!==0)return b}return Dt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Et(23264,{le:n})}}function hT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Dt(i,t);const n=ys(i),s=ys(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function fT(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function So(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Es(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return gt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=yp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${yp(n.fields[h])}`;return o+"}"})(i.mapValue):Et(61005,{value:i})}function Ih(i){switch(vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hf(i);return t?16+Ih(t):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ih(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Rs(s.fields,((u,h)=>{o+=u.length+Ih(h)})),o})(i.mapValue);default:throw Et(13486,{value:i})}}function dT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Ep(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function mT(i){return!!i&&"nullValue"in i}function pT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rh(i){return!!i&&"mapValue"in i}function c2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[qS])===null||n===void 0?void 0:n.stringValue)===YS}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Rs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ql(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return t}return Object.assign({},i)}function h2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===u2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Rh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Ql(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Rs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(Ql(this.value))}}function KS(i){const t=[];return Rs(i.fields,((n,s)=>{const o=new Qe([n]);if(Rh(s)){const u=KS(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Be(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Be(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new Be(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Be(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Be&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n){this.position=t,this.inclusive=n}}function gT(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _T(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Oi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n="asc"){this.field=t,this.dir=n}}function f2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class be extends QS{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new m2(t,n,s):n==="array-contains"?new _2(t,s):n==="in"?new y2(t,s):n==="not-in"?new E2(t,s):n==="array-contains-any"?new v2(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new p2(t,s):new g2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends QS{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new ui(t,n)}matches(t){return $S(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $S(i){return i.op==="and"}function XS(i){return d2(i)&&$S(i)}function d2(i){for(const t of i.filters)if(t instanceof ui)return!1;return!0}function vp(i){if(i instanceof be)return i.field.canonicalString()+i.op.toString()+So(i.value);if(XS(i))return i.filters.map((t=>vp(t))).join(",");{const t=i.filters.map((n=>vp(n))).join(",");return`${i.op}(${t})`}}function JS(i,t){return i instanceof be?(function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(i,t):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&JS(h,o.filters[m])),!0):!1})(i,t):void Et(19439)}function WS(i){return i instanceof be?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(i):i instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(WS).join(" ,")+"}"})(i):"Filter"}class m2 extends be{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class p2 extends be{constructor(t,n){super(t,"in",n),this.keys=ZS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class g2 extends be{constructor(t,n){super(t,"not-in",n),this.keys=ZS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ZS(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>gt.fromName(s.referenceValue)))}class _2 extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cg(n)&&au(n.arrayValue,this.value)}}class y2 extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class E2 extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class v2 extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function yT(i,t=null,n=[],s=[],o=null,u=null,h=null){return new T2(i,t,n,s,o,u,h)}function hg(i){const t=Rt(i);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>vp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),yu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>So(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>So(s))).join(",")),t.Pe=n}return t.Pe}function fg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!f2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!JS(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!_T(i.startAt,t.startAt)&&_T(i.endAt,t.endAt)}function Tp(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function A2(i,t,n,s,o,u,h,m){return new Eu(i,t,n,s,o,u,h,m)}function dg(i){return new Eu(i)}function ET(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function tI(i){return i.collectionGroup!==null}function $l(i){const t=Rt(i);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Me(Qe.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Gh(u,s))})),n.has(Qe.keyField().canonicalString())||t.Te.push(new Gh(Qe.keyField(),s))}return t.Te}function Ri(i){const t=Rt(i);return t.Ie||(t.Ie=S2(t,$l(i))),t.Ie}function S2(i,t){if(i.limitType==="F")return yT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)}));const n=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return yT(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Ap(i,t){const n=i.filters.concat([t]);return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Sp(i,t,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function ff(i,t){return fg(Ri(i),Ri(t))&&i.limitType===t.limitType}function eI(i){return`${hg(Ri(i))}|lt:${i.limitType}`}function oo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>WS(o))).join(", ")}]`),yu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Ri(i))}; limitType=${i.limitType})`}function df(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=gT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,p){const g=gT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,t)}function I2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nI(i){return(t,n)=>{let s=!1;for(const o of $l(i)){const u=R2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function R2(i,t,n){const s=i.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):Et(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Rs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return BS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new ue(gt.comparator);function fr(){return b2}const iI=new ue(gt.comparator);function Hl(...i){let t=iI;for(const n of i)t=t.insert(n.key,n);return t}function rI(i){let t=iI;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function aa(){return Xl()}function sI(){return Xl()}function Xl(){return new ma((i=>i.toString()),((i,t)=>i.isEqual(t)))}const w2=new ue(gt.comparator),C2=new Me(gt.comparator);function Pt(...i){let t=C2;for(const n of i)t=t.add(n);return t}const O2=new Me(Dt);function N2(){return O2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(t)?"-0":t}}function aI(i){return{integerValue:""+i}}function D2(i,t){return r2(t)?aI(t):mg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function M2(i,t,n){return i instanceof qh?(function(o,u){const h={fields:{[HS]:{stringValue:jS},[GS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=hf(u)),u&&(h.fields[FS]=u),{mapValue:h}})(n,t):i instanceof Io?lI(i,t):i instanceof ou?uI(i,t):(function(o,u){const h=oI(o,u),m=vT(h)+vT(o.Ee);return Ep(h)&&Ep(o.Ee)?aI(m):mg(o.serializer,m)})(i,t)}function x2(i,t,n){return i instanceof Io?lI(i,t):i instanceof ou?uI(i,t):n}function oI(i,t){return i instanceof Yh?(function(s){return Ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class qh extends mf{}class Io extends mf{constructor(t){super(),this.elements=t}}function lI(i,t){const n=cI(t);for(const s of i.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends mf{constructor(t){super(),this.elements=t}}function uI(i,t){let n=cI(t);for(const s of i.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class Yh extends mf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function vT(i){return Ee(i.integerValue||i.doubleValue)}function cI(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.field=t,this.transform=n}}function V2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Io&&o instanceof Io||s instanceof ou&&o instanceof ou?To(s.elements,o.elements,Oi):s instanceof Yh&&o instanceof Yh?Oi(s.Ee,o.Ee):s instanceof qh&&o instanceof qh})(i.transform,t.transform)}class U2{constructor(t,n){this.version=t,this.transformResults=n}}class nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nn}static exists(t){return new nn(void 0,t)}static updateTime(t){return new nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class pf{}function hI(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new gf(i.key,nn.none()):new vu(i.key,i.data,nn.none());{const n=i.data,s=fn.empty();let o=new Me(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new bs(i.key,s,new Ln(o.toArray()),nn.none())}}function P2(i,t,n){i instanceof vu?(function(o,u,h){const m=o.value.clone(),p=AT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof bs?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=AT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(fI(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function Jl(i,t,n,s){return i instanceof vu?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),v=ST(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof bs?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=ST(u.fieldTransforms,p,h),v=h.data;return v.setAll(fI(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function k2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=oI(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function TT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((u,h)=>V2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class vu extends pf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends pf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fI(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function AT(i,t,n){const s=new Map;jt(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,x2(h,m,n[o]))}return s}function ST(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,M2(u,h,t))}return s}class gf extends pf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dI extends pf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&P2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=sI();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=hI(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((n,s)=>TT(n,s)))&&To(this.baseMutations,t.baseMutations,((n,s)=>TT(n,s)))}}class pg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return w2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new pg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function mI(i){switch(i){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:i})}}function pI(i){if(i===void 0)return hr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:i})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new fs([4294967295,4294967295],0);function IT(i){const t=VS().encode(i),n=new wS;return n.update(t),new Uint8Array(n.digest())}function RT(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new fs([n,s],0),new fs([o,u],0)]}class gg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=fs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(fs.fromNumber(s)));return o.compare(H2)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=IT(t),[s,o]=RT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new gg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.fe===0)return;const n=IT(t),[s,o]=RT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _f(At.min(),o,new ue(Dt),fr(),Pt())}}class Tu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Tu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class gI{constructor(t,n){this.targetId=t,this.De=n}}class _I{constructor(t,n,s=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class bT{constructor(){this.ve=0,this.Ce=wT(),this.Fe=$e.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),n=Pt(),s=Pt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new Tu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=wT()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class F2{constructor(t){this.We=t,this.Ge=new Map,this.ze=fr(),this.je=oh(),this.Je=oh(),this.He=new ue(Dt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Tp(u))if(s===0){const h=new gt(u.path);this.Xe(n,h,Be.newNoDocument(h,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Es(s).toUint8Array()}catch(p){if(p instanceof zS)return gs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gg(h,o,u)}catch(p){return gs(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,h)=>{const m=this.st(h);if(m){if(u.current&&Tp(m.target)){const p=new gt(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Be.newNoDocument(p,t))}u.Ne&&(n.set(h,u.Le()),u.ke())}}));let s=Pt();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new _f(t,n,this.He,this.ze,s);return this.ze=fr(),this.je=oh(),this.Je=oh(),this.He=new ue(Dt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new bT,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Me(Dt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Me(Dt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new bT),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function oh(){return new ue(gt.comparator)}function wT(){return new ue(gt.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class K2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ip(i,t){return i.useProto3Json||yu(t)?t:{value:t}}function Kh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yI(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Q2(i,t){return Kh(i,t.toTimestamp())}function Vn(i){return jt(!!i,49232),At.fromTimestamp((function(n){const s=ys(n);return new re(s.seconds,s.nanos)})(i))}function _g(i,t){return Rp(i,t).canonicalString()}function Rp(i,t){const n=(function(o){return new Zt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function EI(i){const t=Zt.fromString(i);return jt(RI(t),10190,{key:t.toString()}),t}function Qh(i,t){return _g(i.databaseId,t.path)}function Wl(i,t){const n=EI(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new gt(TI(n))}function vI(i,t){return _g(i.databaseId,t)}function $2(i){const t=EI(i);return t.length===4?Zt.emptyPath():TI(t)}function bp(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TI(i){return jt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function CT(i,t,n){return{name:Qh(i,t),fields:n.value.mapValue.fields}}function X2(i,t){return"found"in t?(function(s,o){jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=Wl(s,o.found.name),h=Vn(o.found.updateTime),m=o.found.createTime?Vn(o.found.createTime):At.min(),p=new fn({mapValue:{fields:o.found.fields}});return Be.newFoundDocument(u,h,m,p)})(i,t):"missing"in t?(function(s,o){jt(!!o.missing,3894),jt(!!o.readTime,22933);const u=Wl(s,o.missing),h=Vn(o.readTime);return Be.newNoDocument(u,h)})(i,t):Et(7234,{result:t})}function J2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(jt(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(jt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?J.UNKNOWN:pI(g.code);return new ut(v,g.message||"")})(h);n=new _I(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wl(i,s.document.name),u=Vn(s.document.updateTime),h=s.document.createTime?Vn(s.document.createTime):At.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Be.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new wh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Wl(i,s.document),u=s.readTime?Vn(s.readTime):At.min(),h=Be.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Wl(i,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new j2(o,u),m=s.targetId;n=new gI(m,h)}}return n}function AI(i,t){let n;if(t instanceof vu)n={update:CT(i,t.key,t.value)};else if(t instanceof gf)n={delete:Qh(i,t.key)};else if(t instanceof bs)n={update:CT(i,t.key,t.data),updateMask:aM(t.fieldMask)};else{if(!(t instanceof dI))return Et(16599,{Rt:t.type});n={verify:Qh(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof qh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Io)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Et(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Q2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(i,t.precondition)),n}function W2(i,t){return i&&i.length>0?(jt(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Vn(o.updateTime):Vn(u);return h.isEqual(At.min())&&(h=Vn(u)),new U2(h,o.transformResults||[])})(n,t)))):[]}function Z2(i,t){return{documents:[vI(i,t.path)]}}function tM(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vI(i,o);const u=(function(g){if(g.length!==0)return II(ui.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:lo(S.field),direction:iM(S.dir)}})(v)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ip(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function eM(i){let t=$2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=SI(T);return S instanceof ui&&XS(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(V){return new Gh(uo(V.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,yu(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new Fh(b,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,b=T.values||[];return new Fh(b,S)})(n.endAt)),A2(t,o,h,u,m,"F",p,g)}function nM(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SI(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(n.unaryFilter.field);return be.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(i):i.fieldFilter!==void 0?(function(n){return be.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((s=>SI(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(i):Et(30097,{filter:i})}function iM(i){return G2[i]}function rM(i){return q2[i]}function sM(i){return Y2[i]}function lo(i){return{fieldPath:i.canonicalString()}}function uo(i){return Qe.fromServerFormat(i.fieldPath)}function II(i){return i instanceof be?(function(n){if(n.op==="=="){if(pT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(mT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(mT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:rM(n.op),value:n.value}}})(i):i instanceof ui?(function(n){const s=n.getFilters().map((o=>II(o)));return s.length===1?s[0]:{compositeFilter:{op:sM(n.op),filters:s}}})(i):Et(54877,{filter:i})}function aM(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function RI(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n,s,o,u=At.min(),h=At.min(),m=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.gt=t}}function lM(i){const t=eM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Sp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Dn=new cM}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(_s.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class cM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Me(Zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bI=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(bI,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ro(0)}static ur(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="LruGarbageCollector",hM=1048576;function DT([i,t],[n,s]){const o=Dt(i,n);return o===0?Dt(t,s):o}class fM{constructor(t){this.Tr=t,this.buffer=new Me(DT),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();DT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(NT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ct(NT,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Rr(3e5)}))}}class mM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(cf.ue);const s=new fM(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(OT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),ao()<=Ut.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function pM(i,t){return new mM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.changes=new ma((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Be.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Ln.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=aa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=fr();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof bs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),re.now())):h.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>{var T;return m.set(g,new _M(v,(T=h.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new ue(((h,m)=>h-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Ln.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=sI();v.forEach((S=>{if(!u.has(S)){const b=hI(n.get(S),s.get(S));b!==null&&T.set(S,b),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(aa());let m=iu,p=u;return h.next((g=>nt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Pt()))).next((v=>({batchId:m,changes:rI(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,S){return new Eu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Be.newInvalidDocument(v)))}));let m=Hl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Jl(v.mutation,g,Ln.empty(),re.now()),df(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:lM(o.bundledQuery),readTime:Vn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.overlays=new ue(gt.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=aa();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=aa(),u=n.length+1,h=new gt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new z2(n,s));let u=this.kr.get(n);u===void 0&&(u=Pt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.qr=new Me(ke.Qr),this.$r=new Me(ke.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new gt(new Zt([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new gt(new Zt([])),s=new ke(n,t),o=new ke(n,t+1);let u=Pt();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new ke(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return gt.comparator(t.key,n.key)||Dt(t.Hr,n.Hr)}static Ur(t,n){return Dt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Me(ke.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new B2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?lg:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Dt);return n.forEach((o=>{const u=new ke(o,0),h=new ke(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),nt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const h=new ke(new gt(u),0);let m=new Me(Dt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),nt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){jt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return nt.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new ke(n,0),o=this.Yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t){this.ni=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(t,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Be.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=fr();const h=n.path,m=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||t2(ZD(v),s)<=0||(o.has(v.key)||df(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ri(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new IM(this)}getSize(t){return nt.resolve(this.size)}}class IM extends gM{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.persistence=t,this.ii=new ma((n=>hg(n)),fg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new yg,this.targetCount=0,this._i=Ro.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ro(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.ai={},this.overlays={},this.ui=new cf(0),this.ci=!1,this.ci=!0,this.li=new TM,this.referenceDelegate=t(this),this.hi=new RM(this),this.indexManager=new uM,this.remoteDocumentCache=(function(o){return new SM(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new oM(n),this.Ti=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new vM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new AM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new bM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return nt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class bM extends n2{constructor(t){super(),this.currentSequenceNumber=t}}class Eg{constructor(t){this.persistence=t,this.Ai=new yg,this.Ri=null}static Vi(t){return new Eg(t)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(s=>{const o=gt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class $h{constructor(t,n){this.persistence=t,this.gi=new ma((s=>s2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pM(this,n)}static Vi(t,n){return new $h(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return nt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ih(t.data.value)),n}Sr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return RC()?8:i2(rn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new wM;return this.ws(t,n,h).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,h,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(ao()<=Ut.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(ao()<=Ut.DEBUG&&ct("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ao()<=Ut.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):nt.resolve())}ps(t,n){if(ET(n))return nt.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Sp(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Pt(...u);return this.gs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(t,Sp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return ET(n)||o.isEqual(At.min())?nt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?nt.resolve(null):(ao()<=Ut.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.vs(t,h,n,WD(o,iu)).next((m=>m)))}))}bs(t,n){let s=new Me(nI(t));return n.forEach(((o,u)=>{df(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return ao()<=Ut.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",oo(n)),this.gs.getDocumentsMatchingQuery(t,n,_s.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",OM=3e8;class NM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new ue(Dt),this.Ms=new ma((u=>hg(u)),fg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function DM(i,t,n,s){return new NM(i,t,n,s)}async function CI(i,t){const n=Rt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function MM(i,t){const n=Rt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let b=nt.resolve();return S.forEach((V=>{b=b.next((()=>v.getEntry(p,V))).next((z=>{const M=g.docVersions.get(V);jt(M!==null,48541),z.version.compareTo(M)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),b.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OI(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function xM(i,t){const n=Rt(i),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,T))));let b=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken($e.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,s)),o=o.insert(T,b),(function(z,M,et){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=OM?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(S,b,v)&&m.push(n.hi.updateTargetData(u,b))}));let p=fr(),g=Pt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(LM(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(At.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function LM(i,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=fr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function VM(i,t){const n=Rt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UM(i,t){const n=Rt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.hi.allocateTargetId(s).next((h=>(o=new os(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function wp(i,t,n){const s=Rt(i),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!xo(h))throw h;ct(Tg,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function MT(i,t,n){const s=Rt(i);let o=At.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=Rt(p),S=T.Ms.get(v);return S!==void 0?nt.resolve(T.Fs.get(S)):T.hi.getTargetData(g,v)})(s,h,Ri(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:At.min(),n?u:Pt()))).next((m=>(PM(s,I2(t),m),{documents:m,qs:u})))))}function PM(i,t,n){let s=i.xs.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(t,s)}class xT{constructor(){this.activeTargetIds=N2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kM{constructor(){this.Fo=new xT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new xT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="ConnectivityMonitor";class VT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(LT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(LT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Cp(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=Cp(),m=this.Go(t,n.toUriEncodedString());ct(Xm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Co(g);return this.jo(t,m,p,s,v).then((T=>(ct(Xm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw gs(Xm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=zM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class FM extends jM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const h=Cp();return new Promise(((m,p)=>{const g=new CS;g.setWithCredentials(!0),g.listenOnce(OS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const T=g.getResponseJson();ct(tn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Sh.TIMEOUT:ct(tn,`RPC '${t}' ${h} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const S=g.getStatus();if(ct(tn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const z=(function(et){const st=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})(V.status);p(new ut(z,V.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ct(tn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);ct(tn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(t,n,s){const o=Cp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=MS(),m=DS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let S=!1,b=!1;const V=new HM({Ho:M=>{b?ct(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(S||(ct(tn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ct(tn,`RPC '${t}' stream ${o} sending:`,M),T.send(M))},Yo:()=>T.close()}),z=(M,et,st)=>{M.listen(et,(W=>{try{st(W)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return z(T,jl.EventType.OPEN,(()=>{b||(ct(tn,`RPC '${t}' stream ${o} transport opened.`),V.s_())})),z(T,jl.EventType.CLOSE,(()=>{b||(b=!0,ct(tn,`RPC '${t}' stream ${o} transport closed`),V.__(),this.I_(T))})),z(T,jl.EventType.ERROR,(M=>{b||(b=!0,gs(tn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),V.__(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),z(T,jl.EventType.MESSAGE,(M=>{var et;if(!b){const st=M.data[0];jt(!!st,16349);const W=st,ft=(W==null?void 0:W.error)||((et=W[0])===null||et===void 0?void 0:et.error);if(ft){ct(tn,`RPC '${t}' stream ${o} received error:`,ft);const St=ft.status;let yt=(function(w){const L=Re[w];if(L!==void 0)return pI(L)})(St),D=ft.message;yt===void 0&&(yt=J.INTERNAL,D="Unknown error status: "+St+" with message "+ft.message),b=!0,V.__(new ut(yt,D)),T.close()}else ct(tn,`RPC '${t}' stream ${o} received:`,st),V.a_(st)}})),z(m,NS.STAT_EVENT,(M=>{M.stat===gp.PROXY?ct(tn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===gp.NOPROXY&&ct(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){return new K2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="PersistentStream";class NI{constructor(t,n,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ag(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ct(UT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ct(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GM extends NI{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=J2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Vn(h.readTime):At.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=bp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Tp(p)?{documents:Z2(u,p)}:{query:tM(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yI(u,h.resumeToken);const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=nM(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=bp(this.serializer),n.removeTarget=t,this.k_(n)}}class qM extends NI{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=W2(t.writeResults,t.commitTime),s=Vn(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=bp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>AI(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class KM extends YM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,Rp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Jo(t,Rp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(J.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class QM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hr(n),this._a=!1):ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class $M{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(ct(fa,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ia.add(4),await Au(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Ef(g)})(this))}))})),this.Aa=new QM(s,o)}}async function Ef(i){if(pa(i))for(const t of i.da)await t(!0)}async function Au(i){for(const t of i.da)await t(!1)}function DI(i,t){const n=Rt(i);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),bg(n)?Rg(n):Lo(n).x_()&&Ig(n,t))}function Sg(i,t){const n=Rt(i),s=Lo(n);n.Ta.delete(t),s.x_()&&MI(n,t),n.Ta.size===0&&(s.x_()?s.B_():pa(n)&&n.Aa.set("Unknown"))}function Ig(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lo(i).H_(t)}function MI(i,t){i.Ra.$e(t),Lo(i).Y_(t)}function Rg(i){i.Ra=new F2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Aa.aa()}function bg(i){return pa(i)&&!Lo(i).M_()&&i.Ta.size>0}function pa(i){return Rt(i).Ia.size===0}function xI(i){i.Ra=void 0}async function XM(i){i.Aa.set("Online")}async function JM(i){i.Ta.forEach(((t,n)=>{Ig(i,t)}))}async function WM(i,t){xI(i),bg(i)?(i.Aa.la(t),Rg(i)):i.Aa.set("Unknown")}async function ZM(i,t,n){if(i.Aa.set("Online"),t instanceof _I&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,t)}catch(s){ct(fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Xh(i,s)}else if(t instanceof wh?i.Ra.Ye(t):t instanceof gI?i.Ra.it(t):i.Ra.et(t),!n.isEqual(At.min()))try{const s=await OI(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),MI(u,p);const T=new os(v.target,p,g,v.sequenceNumber);Ig(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ct(fa,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,t,n){if(!xo(t))throw t;i.Ia.add(1),await Au(i),i.Aa.set("Offline"),n||(n=()=>OI(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(fa,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Ef(i)}))}function LI(i,t){return t().catch((n=>Xh(i,n,t)))}async function vf(i){const t=Rt(i),n=Ts(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:lg;for(;tx(t);)try{const o=await VM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,ex(t,o)}catch(o){await Xh(t,o)}VI(t)&&UI(t)}function tx(i){return pa(i)&&i.Pa.length<10}function ex(i,t){i.Pa.push(t);const n=Ts(i);n.x_()&&n.Z_&&n.X_(t.mutations)}function VI(i){return pa(i)&&!Ts(i).M_()&&i.Pa.length>0}function UI(i){Ts(i).start()}async function nx(i){Ts(i).na()}async function ix(i){const t=Ts(i);for(const n of i.Pa)t.X_(n.mutations)}async function rx(i,t,n){const s=i.Pa.shift(),o=pg.from(s,t,n);await LI(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vf(i)}async function sx(i,t){t&&Ts(i).Z_&&await(async function(s,o){if((function(h){return mI(h)&&h!==J.ABORTED})(o.code)){const u=s.Pa.shift();Ts(s).N_(),await LI(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vf(s)}})(i,t),VI(i)&&UI(i)}async function PT(i,t){const n=Rt(i);n.asyncQueue.verifyOperationInProgress(),ct(fa,"RemoteStore received new credentials");const s=pa(n);n.Ia.add(3),await Au(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Ef(n)}async function ax(i,t){const n=Rt(i);t?(n.Ia.delete(2),await Ef(n)):t||(n.Ia.add(2),await Au(n),n.Aa.set("Unknown"))}function Lo(i){return i.Va||(i.Va=(function(n,s,o){const u=Rt(n);return u.ia(),new GM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:XM.bind(null,i),e_:JM.bind(null,i),n_:WM.bind(null,i),J_:ZM.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),bg(i)?Rg(i):i.Aa.set("Unknown")):(await i.Va.stop(),xI(i))}))),i.Va}function Ts(i){return i.ma||(i.ma=(function(n,s,o){const u=Rt(n);return u.ia(),new qM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:nx.bind(null,i),n_:sx.bind(null,i),ea:ix.bind(null,i),ta:rx.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await vf(i)):(await i.ma.stop(),i.Pa.length>0&&(ct(fa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new wg(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,t){if(hr("AsyncQueue",`${t}: ${i}`),xo(i))return new ut(J.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new _o;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.fa=new ue(gt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Et(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class bo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new bo(t,n,_o.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class lx{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=BT(),u.forEach(((h,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function BT(){return new ma((i=>eI(i)),ff)}async function PI(i,t){const n=Rt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new ox,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Cg(h,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Og(n)}async function kI(i,t){const n=Rt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ux(i,t){const n=Rt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Og(n)}function cx(i,t,n){const s=Rt(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Og(i){i.Da.forEach((t=>{t.next()}))}var Op,zT;(zT=Op||(Op={})).Fa="default",zT.Cache="cache";class BI{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.key=t}}class jI{constructor(t){this.key=t}}class hx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=nI(t),this.eu=new _o(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new kT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),b=df(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;S&&b?S.data.isEqual(b.data)?V!==z&&(s.track({type:3,doc:b}),M=!0):this.iu(S,b)||(s.track({type:2,doc:b}),M=!0,(p&&this.Xa(b,p)>0||g&&this.Xa(b,g)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),M=!0):S&&!b&&(s.track({type:1,doc:S}),M=!0,(p||g)&&(m=!0)),M&&(b?(h=h.add(b),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,T)=>(function(b,V){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:M})}};return z(b)-z(V)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new bo(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new kT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new jI(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new zI(s))})),n}uu(t){this.Ha=t.qs,this.Za=Pt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return bo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ng="SyncEngine";class fx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class dx{constructor(t){this.key=t,this.lu=!1}}class mx{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ma((m=>eI(m)),ff),this.Tu=new Map,this.Iu=new Set,this.du=new ue(gt.comparator),this.Eu=new Map,this.Au=new yg,this.Ru={},this.Vu=new Map,this.mu=Ro.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function px(i,t,n=!0){const s=KI(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await HI(s,t,n,!0),o}async function gx(i,t){const n=KI(i);await HI(n,t,!0,!1)}async function HI(i,t,n,s){const o=await UM(i.localStore,Ri(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _x(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&DI(i.remoteStore,o),m}async function _x(i,t,n,s,o){i.gu=(T,S,b)=>(async function(z,M,et,st){let W=M.view.nu(et);W.Ds&&(W=await MT(z.localStore,M.query,!1).then((({documents:D})=>M.view.nu(D,W))));const ft=st&&st.targetChanges.get(M.targetId),St=st&&st.targetMismatches.get(M.targetId)!=null,yt=M.view.applyChanges(W,z.isPrimaryClient,ft,St);return HT(z,M.targetId,yt._u),yt.snapshot})(i,T,S,b);const u=await MT(i.localStore,t,!0),h=new hx(t,u.qs),m=h.nu(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);HT(i,n,g._u);const v=new fx(t,n,h);return i.Pu.set(t,v),i.Tu.has(n)?i.Tu.get(n).push(t):i.Tu.set(n,[t]),g.snapshot}async function yx(i,t,n){const s=Rt(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!ff(h,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),Np(s,o.targetId)})).catch(Mo)):(Np(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function Ex(i,t){const n=Rt(i),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function vx(i,t,n){const s=wx(i);try{const o=await(function(h,m){const p=Rt(h),g=re.now(),v=m.reduce(((b,V)=>b.add(V.key)),Pt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=fr(),z=Pt();return p.Os.getEntries(b,v).next((M=>{V=M,V.forEach(((et,st)=>{st.isValidDocument()||(z=z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((M=>{T=M;const et=[];for(const st of m){const W=k2(st,T.get(st.key).overlayedDocument);W!=null&&et.push(new bs(st.key,W,KS(W.value.mapValue),nn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,et,m)})).next((M=>{S=M;const et=M.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(b,M.batchId,et)}))})).then((()=>({batchId:S.batchId,changes:rI(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ue(Dt)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await vf(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function FI(i,t){const n=Rt(i);try{const s=await xM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Eu.get(u);h&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?jt(h.lu,14607):o.removedDocuments.size>0&&(jt(h.lu,42227),h.lu=!1))})),await Su(n,s,t)}catch(s){await Mo(s)}}function jT(i,t,n){const s=Rt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Rt(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.wa)S.va(m)&&(g=!0)})),g&&Og(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Tx(i,t,n){const s=Rt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ue(gt.comparator);h=h.insert(u,Be.newNoDocument(u,At.min()));const m=Pt().add(u),p=new _f(At.min(),new Map,new ue(Dt),h,m);await FI(s,p),s.du=s.du.remove(u),s.Eu.delete(t),Dg(s)}else await wp(s.localStore,t,!1).then((()=>Np(s,t,n))).catch(Mo)}async function Ax(i,t){const n=Rt(i),s=t.batch.batchId;try{const o=await MM(n.localStore,t);qI(n,s,null),GI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Mo(o)}}async function Sx(i,t,n){const s=Rt(i);try{const o=await(function(h,m){const p=Rt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(jt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);qI(s,t,n),GI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Su(s,o)}catch(o){await Mo(o)}}function GI(i,t){(i.Vu.get(t)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(t)}function qI(i,t,n){const s=Rt(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Np(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((s=>{i.Au.containsKey(s)||YI(i,s)}))}function YI(i,t){i.Iu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(Sg(i.remoteStore,n),i.du=i.du.remove(t),i.Eu.delete(n),Dg(i))}function HT(i,t,n){for(const s of n)s instanceof zI?(i.Au.addReference(s.key,t),Ix(i,s)):s instanceof jI?(ct(Ng,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||YI(i,s.key)):Et(19791,{yu:s})}function Ix(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ct(Ng,"New document in limbo: "+n),i.Iu.add(s),Dg(i))}function Dg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const n=new gt(Zt.fromString(t)),s=i.mu.next();i.Eu.set(s,new dx(n)),i.du=i.du.insert(n,s),DI(i.remoteStore,new os(Ri(dg(n.path)),s,"TargetPurposeLimboResolution",cf.ue))}}async function Su(i,t,n){const s=Rt(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{h.push(s.gu(p,t,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=vg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(S=>nt.forEach(S.Is,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>nt.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!xo(T))throw T;ct(Tg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const b=v.Fs.get(S),V=b.snapshotVersion,z=b.withLastLimboFreeSnapshotVersion(V);v.Fs=v.Fs.insert(S,z)}}})(s.localStore,u))}async function Rx(i,t){const n=Rt(i);if(!n.currentUser.isEqual(t)){ct(Ng,"User change. New user:",t.toKey());const s=await CI(n.localStore,t);n.currentUser=t,(function(u,h){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ut(J.CANCELLED,h))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Bs)}}function bx(i,t){const n=Rt(i),s=n.Eu.get(t);if(s&&s.lu)return Pt().add(s.key);{let o=Pt();const u=n.Tu.get(t);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function KI(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=FI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,t),t.hu.J_=ux.bind(null,t.eventManager),t.hu.pu=cx.bind(null,t.eventManager),t}function wx(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return DM(this.persistence,new CM,t.initialUser,this.serializer)}Du(t){return new wI(Eg.Vi,this.serializer)}bu(t){return new kM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class Cx extends Jh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){jt(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new wI((s=>$h.Vi(s,n)),this.serializer)}}class Dp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new lx})()}createDatastore(t){const n=yf(t.databaseInfo.databaseId),s=(function(u){return new FM(u)})(t.databaseInfo);return(function(u,h,m,p){return new KM(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new $M(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>jT(this.syncEngine,n,0)),(function(){return VT.C()?new VT:new BM})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,v){const T=new mx(o,u,h,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Rt(o);ct(fa,"RemoteStore shutting down."),u.Ia.add(5),await Au(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):hr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=Rt(o),m={documents:u.map((T=>Qh(h.serializer,T)))},p=await h.Jo("BatchGetDocuments",h.serializer.databaseId,Zt.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=X2(h.serializer,T);g.set(S.key.toString(),S)}));const v=[];return u.forEach((T=>{const S=g.get(T.toString());jt(!!S,55234,{key:T}),v.push(S)})),v})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new gf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=gt.fromPath(s);this.mutations.push(new dI(o,this.precondition(o)))})),await(async function(s,o){const u=Rt(s),h={writes:o.map((m=>AI(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,Zt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Et(50498,{Wu:t.constructor.name});n=At.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(At.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(At.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new Ag(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new Ox(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!yu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!mI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class Dx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ct(As,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ct(As,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wm(i,t){i.asyncQueue.verifyOperationInProgress(),ct(As,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CI(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{gs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{gs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=t}async function FT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await Mx(i);ct(As,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>PT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>PT(t.remoteStore,o))),i._onlineComponents=t}async function Mx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(As,"Using user provided OfflineComponentProvider");try{await Wm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),await Wm(i,new Jh)}}else ct(As,"Using default OfflineComponentProvider"),await Wm(i,new Cx(void 0));return i._offlineComponents}async function Mg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(As,"Using user provided OnlineComponentProvider"),await FT(i,i._uninitializedComponentsProvider._online)):(ct(As,"Using default OnlineComponentProvider"),await FT(i,new Dp))),i._onlineComponents}function xx(i){return Mg(i).then((t=>t.syncEngine))}function Lx(i){return Mg(i).then((t=>t.datastore))}async function Mp(i){const t=await Mg(i),n=t.eventManager;return n.onListen=px.bind(null,t.syncEngine),n.onUnlisten=yx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ex.bind(null,t.syncEngine),n}function Vx(i,t,n={}){const s=new or;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new QI({next:S=>{v.Ou(),h.enqueueAndForget((()=>kI(u,T))),S.fromCache&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new BI(m,v,{includeMetadataChanges:!0,ka:!0});return PI(u,T)})(await Mp(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firestore.googleapis.com",qT=!0;class YT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XI,this.ssl=qT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:qT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hM)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$I((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HD;switch(s.type){case"firstParty":return new YD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=GT.get(n);s&&(ct("ComponentProvider","Removing Datastore"),GT.delete(n),s.terminate())})(this),Promise.resolve()}}function Ux(i,t,n,s={}){var o;i=Jn(i,Tf);const u=Co(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(zA(`https://${p}`),jA("Firestore",!0)),h.host!==XI&&h.host!==p&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ps(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=en.MOCK_USER;else{v=gC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}i._authCredentials=new FD(new LS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ga(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(_u(n,me._jsonSchema))return new me(t,s||null,new gt(Zt.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:we("string",me._jsonSchemaVersion),referencePath:we("string")};class ds extends ga{constructor(t,n,s){super(t,n,dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new gt(t))}withConverter(t){return new ds(this.firestore,t,this._path)}}function uh(i,t,...n){if(i=Ce(i),US("collection","path",t),i instanceof Tf){const s=Zt.fromString(t,...n);return sT(s),new ds(i,null,s)}{if(!(i instanceof me||i instanceof ds))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(t,...n));return sT(s),new ds(i.firestore,null,s)}}function $n(i,t,...n){if(i=Ce(i),arguments.length===1&&(t=og.newId()),US("doc","path",t),i instanceof Tf){const s=Zt.fromString(t,...n);return rT(s),new me(i,null,new gt(s))}{if(!(i instanceof me||i instanceof ds))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(t,...n));return rT(s),new me(i.firestore,i instanceof ds?i.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="AsyncQueue";class QT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ag(this,"async_queue_retry"),this.oc=()=>{const s=Jm();s&&ct(KT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new or;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!xo(t))throw t;ct(KT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,hr("INTERNAL UNHANDLED ERROR: ",$T(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=wg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Et(47125,{hc:$T(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function $T(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ss extends Tf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new QT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new QT(t),this._firestoreClient=void 0,await t}}}function Px(i,t){const n=typeof i=="object"?i:qA(),s=typeof i=="string"?i:jh,o=Qp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mC("firestore");u&&Ux(o,...u)}return o}function Af(i){if(i._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kx(i),i._firestoreClient}function kx(i){var t,n,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new l2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$I(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Dx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn($e.fromBase64String(t))}catch(n){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:we("string",xn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new wi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:we("string",wi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^__.*__$/;class zx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}class JI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new bs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function WI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:i})}}class If{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new If(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Wh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(WI(this.Ec)&&Bx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class jx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||yf(t)}Dc(t,n,s,o=!1){return new If({Ec:t,methodName:n,bc:s,path:Qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(i){const t=i._freezeSettings(),n=yf(i._databaseId);return new jx(i._databaseId,!!t.ignoreUndefinedProperties,n)}function ZI(i,t,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,n,o);Lg("Data must be an object, but it was:",h,s);const m=nR(s,h);let p,g;if(u.merge)p=new Ln(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=xp(t,T,n);if(!h.contains(S))throw new ut(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rR(v,S)||v.push(S)}p=new Ln(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new zx(new fn(m),p,g)}class Ru extends Sf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ru}}function Hx(i,t,n){return new If({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class xg extends Sf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Hx(this,t,!0),s=this.vc.map((u=>Vo(u,n))),o=new Io(s);return new L2(t.path,o)}isEqual(t){return t instanceof xg&&ps(this.vc,t.vc)}}function tR(i,t,n,s){const o=i.Dc(1,t,n);Lg("Data must be an object, but it was:",o,s);const u=[],h=fn.empty();Rs(s,((p,g)=>{const v=Vg(t,p,n);g=Ce(g);const T=o.gc(v);if(g instanceof Ru)u.push(v);else{const S=Vo(g,T);S!=null&&(u.push(v),h.set(v,S))}}));const m=new Ln(u);return new JI(h,m,o.fieldTransforms)}function eR(i,t,n,s,o,u){const h=i.Dc(1,t,n),m=[xp(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(xp(t,u[S])),p.push(u[S+1]);const g=[],v=fn.empty();for(let S=m.length-1;S>=0;--S)if(!rR(g,m[S])){const b=m[S];let V=p[S];V=Ce(V);const z=h.gc(b);if(V instanceof Ru)g.push(b);else{const M=Vo(V,z);M!=null&&(g.push(b),v.set(b,M))}}const T=new Ln(g);return new JI(v,T,h.fieldTransforms)}function Fx(i,t,n,s=!1){return Vo(n,i.Dc(s?4:3,t))}function Vo(i,t){if(iR(i=Ce(i)))return Lg("Unsupported field value:",t,i),nR(i,t);if(i instanceof Sf)return(function(s,o){if(!WI(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Vo(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:yI(o.serializer,s._byteString)};if(s instanceof me){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(h,m){return{mapValue:{fields:{[qS]:{stringValue:YS},[Hh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return mg(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${uf(s)}`)})(i,t)}function nR(i,t){const n={};return BS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(i,((s,o)=>{const u=Vo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function iR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof bi||i instanceof xn||i instanceof me||i instanceof Sf||i instanceof wi)}function Lg(i,t,n){if(!iR(n)||!PS(n)){const s=uf(n);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function xp(i,t,n){if((t=Ce(t))instanceof Iu)return t._internalPath;if(typeof t=="string")return Vg(i,t);throw Wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gx=new RegExp("[~\\*/\\[\\]]");function Vg(i,t,n){if(t.search(Gx)>=0)throw Wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Iu(...t.split("."))._internalPath}catch{throw Wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Wh(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ut(J.INVALID_ARGUMENT,m+i+p)}function rR(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qx extends Zh{data(){return super.data()}}function Ug(i,t){return typeof t=="string"?Vg(i,t):t instanceof Iu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class Yx extends Pg{}function Kx(i,t,...n){let s=[];t instanceof Pg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof kg)).length,m=u.filter((p=>p instanceof bf)).length;if(h>1||h>0&&m>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class bf extends Yx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new bf(t,n,s)}_apply(t){const n=this._parse(t);return aR(t._query,n),new ga(t.firestore,t.converter,Ap(t._query,n))}_parse(t){const n=Rf(t.firestore);return(function(u,h,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){WT(T,v);const V=[];for(const z of T)V.push(JT(p,u,z));S={arrayValue:{values:V}}}else S=JT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||WT(T,v),S=Fx(m,h,T,v==="in"||v==="not-in");return be.create(g,v,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Qx(i,t,n){const s=t,o=Ug("where",i);return bf._create(o,s,n)}class kg extends Pg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new kg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)aR(h,p),h=Ap(h,p)})(t._query,n),new ga(t.firestore,t.converter,Ap(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JT(i,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tI(t)&&n.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!gt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dT(i,new gt(s))}if(n instanceof me)return dT(i,n._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function WT(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aR(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class oR{convertValue(t,n="none"){switch(vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Rs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Hh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>Ee(h.doubleValue)));return new wi(u)}convertGeoPoint(t){return new bi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=hf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const n=ys(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);jt(RI(s),9688,{name:t});const o=new su(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class $x extends oR{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}class ho{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ms extends Zh{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ug("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:we("string",ms._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Ch extends ms{data(t={}){return super.data(t)}}class oa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ho(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ch(this._firestore,this._userDataWriter,s.key,s,new ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ho(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ho(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Xx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Xx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:i})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:we("string",oa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class wf extends oR{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function Jx(i){i=Jn(i,ga);const t=Jn(i.firestore,Ss),n=Af(t),s=new wf(t);return sR(i._query),Vx(n,i._query).then((o=>new oa(t,s,i,o)))}function ch(i,t,n){i=Jn(i,me);const s=Jn(i.firestore,Ss),o=lR(i.converter,t,n);return Bg(s,[ZI(Rf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,nn.none())])}function Zm(i,t,n,...s){i=Jn(i,me);const o=Jn(i.firestore,Ss),u=Rf(o);let h;return h=typeof(t=Ce(t))=="string"||t instanceof Iu?eR(u,"updateDoc",i._key,t,n,s):tR(u,"updateDoc",i._key,t),Bg(o,[h.toMutation(i._key,nn.exists(!0))])}function hh(i){return Bg(Jn(i.firestore,Ss),[new gf(i._key,nn.none())])}function tp(i,...t){var n,s,o;i=Ce(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||XT(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(XT(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof me)g=Jn(i.firestore,Ss),v=dg(i._key.path),p={next:T=>{t[h]&&t[h](Wx(g,i,T))},error:t[h+1],complete:t[h+2]};else{const T=Jn(i,ga);g=Jn(T.firestore,Ss),v=T._query;const S=new wf(g);p={next:b=>{t[h]&&t[h](new oa(g,S,T,b))},error:t[h+1],complete:t[h+2]},sR(i._query)}return(function(S,b,V,z){const M=new QI(z),et=new BI(b,M,V);return S.asyncQueue.enqueueAndForget((async()=>PI(await Mp(S),et))),()=>{M.Ou(),S.asyncQueue.enqueueAndForget((async()=>kI(await Mp(S),et)))}})(Af(g),v,m,p)}function Bg(i,t){return(function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>vx(await xx(s),o,u))),u.promise})(Af(i),t)}function Wx(i,t,n){const s=n.docs.get(t._key),o=new wf(i);return new ms(i,o,t._key,s,new ho(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={maxAttempts:5};function Gl(i,t){if((i=Ce(i)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Rf(t)}get(t){const n=Gl(t,this._firestore),s=new $x(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Et(24041);const u=o[0];if(u.isFoundDocument())return new Zh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Zh(this._firestore,s,n._key,null,n.converter);throw Et(18433,{doc:u})}))}set(t,n,s){const o=Gl(t,this._firestore),u=lR(o.converter,n,s),h=ZI(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=Gl(t,this._firestore);let h;return h=typeof(n=Ce(n))=="string"||n instanceof Iu?eR(this._dataReader,"Transaction.update",u._key,n,s,o):tR(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=Gl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends tL{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Gl(t,this._firestore),s=new wf(this._firestore);return super.get(t).then((o=>new ms(this._firestore,s,n._key,o._document,new ho(!1,!1),n.converter)))}}function nL(i,t,n){i=Jn(i,Ss);const s=Object.assign(Object.assign({},Zx),n);return(function(u){if(u.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new or;return u.asyncQueue.enqueueAndForget((async()=>{const g=await Lx(u);new Nx(u.asyncQueue,g,m,h,p).zu()})),p.promise})(Af(i),(o=>t(new eL(i,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return new Ru("deleteField")}function rL(...i){return new xg("arrayUnion",i)}(function(t,n=!0){(function(o){Do=o})(Oo),Eo(new ua("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ss(new GD(s.getProvider("auth-internal")),new KD(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),cs(Zv,tT,t),cs(Zv,tT,"esm2017")})();var sL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ZT;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ZT||(ZT={}));var t0;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(t0||(t0={}));var e0;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(e0||(e0={}));var n0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(n0||(n0={}));var i0;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(i0||(i0={}));var r0;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(r0||(r0={}));var s0;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(s0||(s0={}));var a0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(a0||(a0={}));var o0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(o0||(o0={}));var l0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(l0||(l0={}));var u0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(u0||(u0={}));var c0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(c0||(c0={}));var h0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(h0||(h0={}));var f0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(f0||(f0={}));var d0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(d0||(d0={}));var m0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(m0||(m0={}));var p0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(p0||(p0={}));var g0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(g0||(g0={}));var _0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_0||(_0={}));var y0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(y0||(y0={}));var E0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(E0||(E0={}));var v0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(v0||(v0={}));var T0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(T0||(T0={}));var A0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A0||(A0={}));var S0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(S0||(S0={}));var I0;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(I0||(I0={}));var R0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(R0||(R0={}));var b0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(b0||(b0={}));var w0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(w0||(w0={}));var C0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(C0||(C0={}));var O0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(O0||(O0={}));var N0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(N0||(N0={}));var D0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(D0||(D0={}));var M0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(M0||(M0={}));var x0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(x0||(x0={}));var L0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(L0||(L0={}));var V0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(V0||(V0={}));var U0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(U0||(U0={}));var P0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(P0||(P0={}));var k0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(k0||(k0={}));var B0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(B0||(B0={}));var z0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(z0||(z0={}));var j0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(j0||(j0={}));var H0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(H0||(H0={}));var F0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(F0||(F0={}));var G0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(G0||(G0={}));var q0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(q0||(q0={}));var Y0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Y0||(Y0={}));var K0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(K0||(K0={}));var Q0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Q0||(Q0={}));var $0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($0||($0={}));var X0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(X0||(X0={}));var J0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(J0||(J0={}));var W0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(W0||(W0={}));var Z0;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Z0||(Z0={}));var tA;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(tA||(tA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eA;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(eA||(eA={}));function tf(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function nA(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(i){return this instanceof oe?(this.v=i,this):new oe(i)}function Zl(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(b){return function(V){return Promise.resolve(V).then(b,T)}}function m(b,V){s[b]&&(o[b]=function(z){return new Promise(function(M,et){u.push([b,z,M,et])>1||p(b,z)})},V&&(o[b]=V(o[b])))}function p(b,V){try{g(s[b](V))}catch(z){S(u[0][3],z)}}function g(b){b.value instanceof oe?Promise.resolve(b.value.v).then(v,T):S(u[0][2],b)}function v(b){p("next",b)}function T(b){p("throw",b)}function S(b,V){b(V),u.shift(),u.length&&p(u[0][0],u[0][1])}}function yo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof nA=="function"?nA(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),o(m,p,h.done,h.value)})}}function o(u,h,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uR=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return uR=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const aL=()=>uR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lp(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Vp=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn extends Error{}class dn extends Wn{constructor(t,n,s,o){super(`${dn.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new Cf({message:s,cause:Vp(n)});const u=n;return t===400?new hR(t,u,s,o):t===401?new fR(t,u,s,o):t===403?new dR(t,u,s,o):t===404?new mR(t,u,s,o):t===409?new pR(t,u,s,o):t===422?new gR(t,u,s,o):t===429?new _R(t,u,s,o):t>=500?new yR(t,u,s,o):new dn(t,u,s,o)}}class Up extends dn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Cf extends dn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class cR extends Cf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class hR extends dn{}class fR extends dn{}class dR extends dn{}class mR extends dn{}class pR extends dn{}class gR extends dn{}class _R extends dn{}class yR extends dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oL=/^[a-z][a-z0-9+.-]*:/i,lL=i=>oL.test(i);let Pp=i=>(Pp=Array.isArray,Pp(i));const uL=Pp;let cL=uL;const iA=cL;function hL(i){if(!i)return!0;for(const t in i)return!1;return!0}function fL(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const dL=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Wn(`${i} must be an integer`);if(t<0)throw new Wn(`${i} must be a positive integer`);return t},mL=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pL=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _L=()=>{var i,t,n,s,o;const u=gL();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":sA(Deno.build.os),"X-Stainless-Arch":rA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":sA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":rA((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=yL();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function yL(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,h=s[3]||0;return{browser:t,version:`${o}.${u}.${h}`}}}return null}const rA=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",sA=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let fh;const EL=()=>fh??(fh=_L());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ER(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function TL(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return ER({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function vR(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function AL(i){var t,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(t=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SL=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TR=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ep(i,t,n){return TR(),new File(i,t??"unknown_file",n)}function IL(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const RL=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",bL=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&AR(i),wL=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function CL(i,t,n){if(TR(),i=await i,bL(i))return i instanceof File?i:ep([await i.arrayBuffer()],i.name);if(wL(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),ep(await kp(o),t,n)}const s=await kp(i);if(t||(t=IL(i)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return ep(s,t,n)}async function kp(i){var t,n,s,o,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(AR(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(RL(i))try{for(var m=!0,p=yo(i),g;g=await p.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const v=o;h.push(...await kp(v))}}catch(v){n={error:v}}finally{try{!m&&!t&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${OL(i)}`)}return h}function OL(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR{constructor(t){this._client=t}}SR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IR(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const aA=Object.freeze(Object.create(null)),NL=(i=IR)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],h=n.reduce((v,T,S)=>{var b,V,z;/[?#]/.test(T)&&(o=!0);const M=s[S];let et=(o?encodeURIComponent:i)(""+M);return S!==s.length&&(M==null||typeof M=="object"&&M.toString===((z=Object.getPrototypeOf((V=Object.getPrototypeOf((b=M.hasOwnProperty)!==null&&b!==void 0?b:aA))!==null&&V!==void 0?V:aA))===null||z===void 0?void 0:z.toString))&&(et=M+"",u.push({start:v.length+T.length,length:et.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":et)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,b)=>{const V=" ".repeat(b.start-v),z="^".repeat(b.length);return v=b.start+b.length,S+V+z},"");throw new Wn(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${h}
${T}`)}return h}),dh=NL(IR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RR extends SR{create(t,n){var s;const{api_version:o=this._client.apiVersion}=t,u=tf(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Wn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Wn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(dh`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(dh`/${o}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(dh`/${o}/interactions/${t}/cancel`,s)}get(t,n={},s){var o;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=tf(u,["api_version"]);return this._client.get(dh`/${h}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}RR._key=Object.freeze(["interactions"]);class bR extends RR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DL(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let mh;function zg(i){let t;return(mh??(t=new globalThis.TextEncoder,mh=t.encode.bind(t)))(i)}let ph;function oA(i){let t;return(ph??(t=new globalThis.TextDecoder,ph=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Of{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?zg(t):t;this.buffer=DL([this.buffer,n]);const s=[];let o;for(;(o=ML(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(oA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=oA(this.buffer.subarray(0,u));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Of.NEWLINE_CHARS=new Set([`
`,"\r"]);Of.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ML(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function xL(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ef={off:0,error:200,warn:300,info:400,debug:500},lA=(i,t,n)=>{if(i){if(fL(ef,i))return i;hn(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ef))}`)}};function ql(){}function gh(i,t,n){return!t||ef[i]>ef[n]?ql:t[i].bind(t)}const LL={error:ql,warn:ql,info:ql,debug:ql};let uA=new WeakMap;function hn(i){var t;const n=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!n)return LL;const o=uA.get(n);if(o&&o[0]===s)return o[1];const u={error:gh("error",n,s),warn:gh("warn",n,s),info:gh("info",n,s),debug:gh("debug",n,s)};return uA.set(n,[s,u]),u}const ra=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let o=!1;const u=s?hn(s):console;function h(){return Zl(this,arguments,function*(){var p,g,v,T;if(o)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=yo(VL(t,n)),z;z=yield oe(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const M=T;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield oe(JSON.parse(M.data))}catch(et){throw u.error("Could not parse message into JSON:",M.data),u.error("From chunk:",M.raw),et}}}catch(M){g={error:M}}finally{try{!b&&!p&&(v=V.return)&&(yield oe(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(M){if(Lp(M))return yield oe(void 0);throw M}finally{S||n.abort()}})}return new fo(h,n,s)}static fromReadableStream(t,n,s){let o=!1;function u(){return Zl(this,arguments,function*(){var p,g,v,T;const S=new Of,b=vR(t);try{for(var V=!0,z=yo(b),M;M=yield oe(z.next()),p=M.done,!p;V=!0){T=M.value,V=!1;const et=T;for(const st of S.decode(et))yield yield oe(st)}}catch(et){g={error:et}}finally{try{!V&&!p&&(v=z.return)&&(yield oe(v.call(z)))}finally{if(g)throw g.error}}for(const et of S.flush())yield yield oe(et)})}function h(){return Zl(this,arguments,function*(){var p,g,v,T;if(o)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=yo(u()),z;z=yield oe(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const M=T;S||M&&(yield yield oe(JSON.parse(M)))}}catch(M){g={error:M}}finally{try{!b&&!p&&(v=V.return)&&(yield oe(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(M){if(Lp(M))return yield oe(void 0);throw M}finally{S||n.abort()}})}return new fo(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const h=s.next();t.push(h),n.push(h)}return u.shift()}});return[new fo(()=>o(t),this.controller,this.client),new fo(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return ER({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const h=zg(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function VL(i,t){return Zl(this,arguments,function*(){var s,o,u,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wn("Attempted to iterate over a response with no body");const m=new PL,p=new Of,g=vR(i.body);try{for(var v=!0,T=yo(UL(g)),S;S=yield oe(T.next()),s=S.done,!s;v=!0){h=S.value,v=!1;const b=h;for(const V of p.decode(b)){const z=m.decode(V);z&&(yield yield oe(z))}}}catch(b){o={error:b}}finally{try{!v&&!s&&(u=T.return)&&(yield oe(u.call(T)))}finally{if(o)throw o.error}}for(const b of p.flush()){const V=m.decode(b);V&&(yield yield oe(V))}})}function UL(i){return Zl(this,arguments,function*(){var n,s,o,u;let h=new Uint8Array;try{for(var m=!0,p=yo(i),g;g=yield oe(p.next()),n=g.done,!n;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?zg(v):v;let S=new Uint8Array(h.length+T.length);S.set(h),S.set(T,h.length),h=S;let b;for(;(b=xL(h))!==-1;)yield yield oe(h.slice(0,b)),h=h.slice(b)}}catch(v){s={error:v}}finally{try{!m&&!n&&(o=p.return)&&(yield oe(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield oe(h))})}class PL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=kL(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function kL(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BL(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,h=await(async()=>{var m;if(t.options.stream)return hn(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):fo.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),g=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await n.json():await n.text()})();return hn(i).debug(`[${s}] response parsed`,ra({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jg extends Promise{constructor(t,n,s=BL){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new jg(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR=Symbol("brand.privateNullableHeaders");function*zL(i){if(!i)return;if(wR in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,n;i instanceof Headers?n=i.entries():iA(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=iA(s[1])?s[1]:[s[1]];let h=!1;for(const m of u)m!==void 0&&(t&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const zl=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[u,h]of zL(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),h===null?(t.delete(u),n.add(m)):(t.append(u,h),n.delete(m))}}return{[wR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const np=i=>{var t,n,s,o,u,h;if(typeof globalThis.process<"u")return(s=(n=(t=sL)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CR;class Nf{constructor(t){var n,s,o,u,h,m,p,{baseURL:g=np("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=np("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,S=tf(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:Nf.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const V="warn";this.logLevel=V,this.logLevel=(h=(u=lA(b.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:lA(np("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:V,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:vL(),this.encoder=SL,this._options=b,this.apiKey=v,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=zl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new Wn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${co}`}defaultIdempotencyKey(){return`stainless-node-retry-${aL()}`}makeStatusError(t,n,s,o){return dn.generate(t,n,s,o)}buildURL(t,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=lL(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return hL(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new jg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var o,u,h;const m=await t,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,V=Date.now();if(hn(this).debug(`[${S}] sending request`,ra({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Up;const z=new AbortController,M=await this.fetchWithTimeout(v,g,T,z).catch(Vp),et=Date.now();if(M instanceof globalThis.Error){const W=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new Up;const ft=Lp(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(n)return hn(this).info(`[${S}] connection ${ft?"timed out":"failed"} - ${W}`),hn(this).debug(`[${S}] connection ${ft?"timed out":"failed"} (${W})`,ra({retryOfRequestLogID:s,url:v,durationMs:et-V,message:M.message})),this.retryRequest(m,n,s??S);throw hn(this).info(`[${S}] connection ${ft?"timed out":"failed"} - error; no more retries left`),hn(this).debug(`[${S}] connection ${ft?"timed out":"failed"} (error; no more retries left)`,ra({retryOfRequestLogID:s,url:v,durationMs:et-V,message:M.message})),ft?new cR:new Cf({cause:M})}const st=`[${S}${b}] ${g.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${et-V}ms`;if(!M.ok){const W=await this.shouldRetry(M);if(n&&W){const w=`retrying, ${n} attempts remaining`;return await AL(M.body),hn(this).info(`${st} - ${w}`),hn(this).debug(`[${S}] response error (${w})`,ra({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:et-V})),this.retryRequest(m,n,s??S,M.headers)}const ft=W?"error; no more retries left":"error; not retryable";hn(this).info(`${st} - ${ft}`);const St=await M.text().catch(w=>Vp(w).message),yt=mL(St),D=yt?void 0:St;throw hn(this).debug(`[${S}] response error (${ft})`,ra({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:D,durationMs:Date.now()-V})),this.makeStatusError(M.status,yt,D,M.headers)}return hn(this).info(st),hn(this).debug(`[${S}] response start`,ra({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:et-V})),{response:M,options:m,controller:z,requestLogID:S,retryOfRequestLogID:s,startTime:V}}async fetchWithTimeout(t,n,s,o){const u=n||{},{signal:h,method:m}=u,p=tf(u,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){var u;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(h=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const g=parseFloat(p);Number.isNaN(g)?h=Date.parse(p)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,g)}return await pL(h),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const u=n-t,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,o,u;const h=Object.assign({},t),{method:m,path:p,query:g,defaultBaseURL:v}=h,T=this.buildURL(p,g,v);"timeout"in h&&dL("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:h}),V=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:V},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let m=zl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),EL()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=zl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:TL(t)}:this.encoder({body:t,headers:s})}}Nf.DEFAULT_TIMEOUT=6e4;class Xe extends Nf{constructor(){super(...arguments),this.interactions=new bR(this)}}CR=Xe;Xe.GeminiNextGenAPIClient=CR;Xe.GeminiNextGenAPIClientError=Wn;Xe.APIError=dn;Xe.APIConnectionError=Cf;Xe.APIConnectionTimeoutError=cR;Xe.APIUserAbortError=Up;Xe.NotFoundError=mR;Xe.ConflictError=pR;Xe.RateLimitError=_R;Xe.BadRequestError=hR;Xe.AuthenticationError=fR;Xe.InternalServerError=yR;Xe.PermissionDeniedError=dR;Xe.UnprocessableEntityError=gR;Xe.toFile=CL;Xe.Interactions=bR;var jL="firebase",HL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(jL,HL,"app");const FL={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},OR=GA(FL),la=zD(OR),ip=new ir,An=Px(OR);function GL(i,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(i)}&token=${encodeURIComponent(t)}`}async function qL(i){try{return await navigator.clipboard.writeText(i),!0}catch{return window.prompt("  :",i),!1}}async function Oh(){try{await $N(la,ip)}catch(i){const t=i==null?void 0:i.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await Gv(la,ip);return}await Gv(la,ip)}}function YL(i){const t=encodeURIComponent(i);window.open(`https://wa.me/?text=${t}`,"_blank")}const KL=()=>{const[i]=H1(),t=jp(),n=i.get("listId"),s=i.get("token"),[o,u]=q.useState(la.currentUser),[h,m]=q.useState(!0),[p,g]=q.useState(!1),[v,T]=q.useState(null);q.useEffect(()=>mS(la,V=>{u(V),m(!1)}),[]);const S=async()=>{T(null);try{await Oh()}catch(V){T((V==null?void 0:V.message)||" ")}},b=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await S();return}g(!0),T(null);try{await nL(An,async V=>{var W;const z=$n(An,"lists",n),M=await V.get(z);if(!M.exists())throw new Error("  ");const st=(W=M.data().pendingInvites)==null?void 0:W[s];if(!st)throw new Error("  ");if(st.expiresAt<Date.now())throw new Error("  ");V.update(z,{sharedWith:rL(o.uid),[`pendingInvites.${s}`]:iL()})}),localStorage.setItem("activeListId",n),t("/")}catch(V){T((V==null?void 0:V.message)||"  ")}finally{g(!1)}};return h?tt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:tt.jsx(Dh,{className:"animate-spin text-indigo-600"})}):tt.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center dir-rtl",dir:"rtl",children:tt.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[tt.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:tt.jsx(xA,{className:"w-10 h-10"})}),tt.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?tt.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?tt.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?tt.jsx("button",{onClick:b,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?tt.jsx(Dh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):tt.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[tt.jsx(MA,{className:"w-5 h-5"}),"   "]})]})})},QL=()=>{const[i,t]=q.useState(null),[n,s]=q.useState(null),[o,u]=q.useState([]),[h,m]=q.useState([]),[p,g]=q.useState("list"),[v,T]=q.useState(""),[S,b]=q.useState(!1),[V,z]=q.useState(!1),[M,et]=q.useState(!1),[st,W]=q.useState(!0),[ft,St]=q.useState(!1);q.useEffect(()=>mS(la,async rt=>{if(t(rt),W(!1),!rt){s(null),u([]),m([]);return}St(!0);const C=Kx(uh(An,"lists"),Qx("sharedWith","array-contains",rt.uid)),G=await Jx(C);if(G.empty){const it=$n(uh(An,"lists")),lt={id:it.id,title:" ",ownerUid:rt.uid,sharedWith:[rt.uid],createdAt:Date.now(),updatedAt:Date.now()};await ch(it,lt),s(lt),localStorage.setItem("activeListId",it.id)}else{const it=localStorage.getItem("activeListId"),lt=it?G.docs.find(Tt=>Tt.id===it)??G.docs[0]:G.docs[0],mt=lt.data();s({...mt,id:lt.id}),localStorage.setItem("activeListId",lt.id)}St(!1)}),[]),q.useEffect(()=>{if(!(n!=null&&n.id))return;const rt=$n(An,"lists",n.id),C=uh(rt,"items"),G=uh(rt,"favorites"),it=tp(rt,Tt=>{Tt.exists()&&s({...Tt.data(),id:Tt.id})}),lt=tp(C,Tt=>{const Ot=Tt.docs.map(se=>se.data());u(Ot)}),mt=tp(G,Tt=>{const Ot=Tt.docs.map(se=>{const Ht=se.data();return{id:se.id,name:String((Ht==null?void 0:Ht.name)||""),createdAt:Number((Ht==null?void 0:Ht.createdAt)||0)}});Ot.sort((se,Ht)=>Ht.createdAt-se.createdAt),m(Ot)});return()=>{it(),lt(),mt()}},[n==null?void 0:n.id]);const yt=q.useMemo(()=>{const rt=new Set;for(const C of h)rt.add(C.id);return rt},[h]),D=q.useMemo(()=>o.filter(rt=>!rt.isPurchased).sort((rt,C)=>C.createdAt-rt.createdAt),[o]),R=q.useMemo(()=>o.filter(rt=>rt.isPurchased).sort((rt,C)=>(C.purchasedAt||0)-(rt.purchasedAt||0)),[o]),w=async rt=>{if(rt&&rt.preventDefault(),!i){await Oh();return}if(!(n!=null&&n.id))return;const C=v.trim();if(!C)return;const G=crypto.randomUUID(),it={id:G,name:C,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ch($n(An,"lists",n.id,"items",G),it),T("")},L=async rt=>{if(!(n!=null&&n.id))return;const C=o.find(it=>it.id===rt);if(!C)return;const G=!C.isPurchased;await Zm($n(An,"lists",n.id,"items",rt),{isPurchased:G,purchasedAt:G?Date.now():null})},U=async(rt,C)=>{if(!(n!=null&&n.id))return;const G=o.find(it=>it.id===rt);G&&await Zm($n(An,"lists",n.id,"items",rt),{quantity:Math.max(1,G.quantity+C)})},k=async rt=>{n!=null&&n.id&&await hh($n(An,"lists",n.id,"items",rt))},N=async rt=>{if(!(n!=null&&n.id))return;const C=o.find(it=>it.id===rt);if(!C)return;const G=$n(An,"lists",n.id,"favorites",rt);yt.has(rt)?await hh(G):await ch(G,{name:C.name,createdAt:Date.now()})},pe=async rt=>{n!=null&&n.id&&await hh($n(An,"lists",n.id,"favorites",rt))},Oe=async()=>{if(!(n!=null&&n.id))return;const rt=o.map(C=>hh($n(An,"lists",n.id,"items",C.id)));await Promise.all(rt),z(!1)},Q=async()=>{},ot=async()=>{if(!i)return await Oh(),null;if(!(n!=null&&n.id))return null;const rt=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),C=Date.now()+2880*60*1e3;return await Zm($n(An,"lists",n.id),{[`pendingInvites.${rt}`]:{createdAt:Date.now(),expiresAt:C}}),GL(n.id,rt)},pt=async()=>{const rt=await ot();if(rt){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:rt});return}}catch{}await qL(rt),b(!0),setTimeout(()=>b(!1),2e3)}},Bt=()=>{const rt=(n==null?void 0:n.title)||" ",C=o.filter(mt=>!mt.isPurchased),G=C.length>0?C.map(mt=>`${mt.quantity}X ${mt.name}`).join(`
`):"(  )",lt=`${`*${rt}:*`}

${G}

   `;YL(lt)};return st?tt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:tt.jsx(Dh,{className:"animate-spin text-indigo-600"})}):i?ft||!(n!=null&&n.id)?tt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:tt.jsx(Dh,{className:"animate-spin text-indigo-600"})}):tt.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden dir-rtl",dir:"rtl",children:[tt.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[tt.jsxs("div",{className:"flex items-center gap-2",children:[tt.jsx("button",{onClick:Q,className:`p-2 rounded-full ${M?"bg-indigo-100 animate-pulse":"bg-slate-100 hover:bg-indigo-50 text-indigo-600"}`,title:" AI",children:tt.jsx(sC,{className:"w-5 h-5"})}),tt.jsx("button",{onClick:()=>z(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:tt.jsx(nh,{className:"w-5 h-5"})}),tt.jsx("button",{onClick:pt,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:S?tt.jsx(J1,{className:"w-5 h-5 text-emerald-500"}):tt.jsx(xA,{className:"w-5 h-5"})})]}),tt.jsx("h1",{className:"text-xl font-extrabold text-indigo-600",children:(n==null?void 0:n.title)||" "}),tt.jsx("button",{onClick:()=>ON(la),className:"p-2 rounded-full shadow-lg active:scale-90 transition-transform bg-slate-100 text-slate-600",title:"",children:tt.jsx(eC,{className:"w-5 h-5"})})]}),tt.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?tt.jsxs(tt.Fragment,{children:[tt.jsxs("form",{onSubmit:w,className:"relative",children:[tt.jsx("input",{value:v,onChange:rt=>T(rt.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),tt.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:tt.jsx(Av,{className:"w-6 h-6"})})]}),o.length===0?tt.jsxs("div",{className:"text-center py-20 opacity-20",children:[tt.jsx(rC,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),tt.jsx("p",{className:"text-lg font-bold",children:" "})]}):tt.jsx("div",{className:"space-y-4",children:tt.jsxs("div",{className:"space-y-3",children:[D.map(rt=>tt.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[tt.jsxs("div",{className:"flex items-center gap-2",children:[tt.jsx("button",{onClick:()=>k(rt.id),className:"p-2 text-slate-300 hover:text-rose-500",title:"",children:tt.jsx(nh,{className:"w-4 h-4"})}),tt.jsx("button",{onClick:()=>N(rt.id),className:`p-2 ${yt.has(rt.id)?"text-amber-500":"text-slate-300"}`,title:"",children:tt.jsx(eh,{className:`w-4 h-4 ${yt.has(rt.id)?"fill-amber-500":""}`})})]}),tt.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>L(rt.id),children:rt.name}),tt.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100",children:[tt.jsx("button",{onClick:()=>U(rt.id,-1),className:"p-1 text-slate-400",title:"",children:tt.jsx(iC,{className:"w-3 h-3"})}),tt.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:rt.quantity}),tt.jsx("button",{onClick:()=>U(rt.id,1),className:"p-1 text-slate-400",title:"",children:tt.jsx(Av,{className:"w-3 h-3"})})]})]},rt.id)),R.length>0?tt.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[tt.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-right mb-2",children:[" (",R.length,")"]}),R.map(rt=>tt.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:[tt.jsx("button",{onClick:()=>k(rt.id),className:"p-2 text-slate-300",title:"",children:tt.jsx(nh,{className:"w-4 h-4"})}),tt.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end cursor-pointer",onClick:()=>L(rt.id),children:[tt.jsxs("span",{className:"text-base font-bold text-slate-500 line-through truncate text-right",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[rt.name," x",rt.quantity]}),tt.jsx(Z1,{className:"w-6 h-6 text-emerald-500"})]})]},rt.id))]}):null]})})]}):tt.jsxs("div",{className:"space-y-6",children:[tt.jsxs("div",{className:"text-right",children:[tt.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),tt.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"  "})]}),h.length===0?tt.jsxs("div",{className:"text-center py-20 opacity-20",children:[tt.jsx(eh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),tt.jsx("p",{className:"font-bold",children:"  "})]}):tt.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.map(rt=>tt.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[tt.jsxs("div",{className:"flex items-center gap-2",children:[tt.jsx("button",{onClick:async()=>{if(!(n!=null&&n.id))return;const C=o.find(G=>!G.isPurchased&&G.name.trim()===rt.name.trim());if(C)await U(C.id,1);else{const G=crypto.randomUUID(),it={id:G,name:rt.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ch($n(An,"lists",n.id,"items",G),it)}},className:"px-3 py-1.5 text-sm rounded-xl bg-emerald-500 text-white shadow-md active:scale-90 transition-transform font-black",title:" ",children:" "}),tt.jsx("button",{onClick:()=>pe(rt.id),className:"p-2 text-slate-300 hover:text-rose-500",title:" ",children:tt.jsx(nh,{className:"w-4 h-4"})})]}),tt.jsx("div",{className:"flex-1 text-right font-black text-slate-700 truncate px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},children:rt.name}),tt.jsx(eh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]},rt.id))})]})}),tt.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:tt.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[tt.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:tt.jsxs("button",{onClick:Bt,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white py-3 px-6 rounded-full font-black shadow-lg shadow-emerald-200",title:"  ",children:[tt.jsx(nC,{className:"w-5 h-5"})," "]})}),tt.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:tt.jsxs("div",{className:"flex items-center justify-between px-10 py-3",children:[tt.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[tt.jsx(eh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),tt.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[tt.jsx(tC,{className:"w-7 h-7"}),""]})]})})]})}),V?tt.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:tt.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[tt.jsxs("div",{className:"flex items-center gap-3",children:[tt.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:tt.jsx(W1,{className:"w-5 h-5"})}),tt.jsxs("div",{className:"text-right",children:[tt.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),tt.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),tt.jsxs("div",{className:"flex gap-3",children:[tt.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),tt.jsx("button",{onClick:Oe,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null]}):tt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:tt.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[tt.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),tt.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),tt.jsxs("button",{onClick:async()=>{await Oh()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[tt.jsx(MA,{className:"w-5 h-5"}),"  "]})]})})},$L=()=>tt.jsx(P1,{children:tt.jsxs(f1,{children:[tt.jsx(sp,{path:"/",element:tt.jsx(QL,{})}),tt.jsx(sp,{path:"/invite",element:tt.jsx(KL,{})})]})}),NR=document.getElementById("root");if(!NR)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",i=>{const t=(i==null?void 0:i.message)||"unknown",n=i==null?void 0:i.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",i=>{const t=i==null?void 0:i.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());pw.createRoot(NR).render(tt.jsx(lw.StrictMode,{children:tt.jsx($L,{})}));
